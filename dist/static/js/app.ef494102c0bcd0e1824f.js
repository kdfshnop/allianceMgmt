webpackJsonp([1],{"+053":function(e,t){},"+nzQ":function(e,t){},"/nfL":function(e,t){},"0B7l":function(e,t){},"0Uwo":function(e,t){},"17oy":function(e,t){},"1uYM":function(e,t){},"240+":function(e,t){},"3IWP":function(e,t){},"6zYD":function(e,t){},"8Dph":function(e,t){},"9/d5":function(e,t){},AbIs:function(e,t){},Bqhj:function(e,t){},H9Zb:function(e,t){},HAgM:function(e,t){},J61e:function(e,t){},LGZl:function(e,t){},MgZc:function(e,t){},N1kN:function(e,t){},N7I1:function(e,t){},ND93:function(e,t){},NGnZ:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),n=a("/ocq"),r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{class:{"box-card":!0,collapse:e.collapse}},[a("template",{slot:"header"},[e._t("header"),e._v(" "),a("el-button",{staticClass:"btn-collapse",attrs:{type:"text"},on:{click:e.toggle}},[a("i",{class:{"el-icon-arrow-up":!e.collapse,"el-icon-arrow-down":e.collapse}})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.closable,expression:"closable"}],staticClass:"btn-close",attrs:{type:"text"},on:{click:e.close}},[a("i",{staticClass:"el-icon-circle-close"})])],2),e._v(" "),e._t("default")],2)},staticRenderFns:[]};var s=a("VU/8")({name:"CollapsePanel",props:["expand","closable"],data:function(){return{collapse:!this.expand}},methods:{toggle:function(){this.collapse=!this.collapse},close:function(){this.$emit("close")}}},r,!1,function(e){a("N7I1")},null,null).exports,o=a("mvHQ"),l=a.n(o),c=a("Dd8w"),m=a.n(c),d=a("woOf"),u=a.n(d),p=a("BO1k"),f=a.n(p);function h(e,t,a){return{get:function(){return"edit"==this.mode&&"editing"==this.status?this.innerItem[e]:this.$store.state[t][e]},set:function(t){"edit"==this.mode&&"editing"==this.status?this.innerItem[e]=t:this[a](t)}}}function g(e){return e instanceof Date?e.getFullYear()+"-"+v(e.getMonth()+1)+"-"+v(e.getDate()):"string"==typeof e?e.split(" ")[0]:e}function v(e){return e<10?"0"+e:e.toString()}function b(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=t.split("."),n=e,r=!0,s=!1,o=void 0;try{for(var l,c=f()(i);!(r=(l=c.next()).done);r=!0){if(null==(n=n[l.value]))return null}}catch(e){s=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw o}}return""===n?a:n}function y(e,t){var a={createTime:e.createTime,description:e.description,fileName:e.fileName,flag:e.flag,id:e.id,owner:e.owner,ownerType:e.ownerType,resourceKey:e.resourceKey,tags:e.tags,updateTime:e.updateTime};return a=u()(a,t)}function _(e){var t={},a={isBdServerSame:2};a.additional=b(e,"ContractInfo.special"),a.agencyType=+b(e,"AgentBasicInfo.agentType"),a.brokerageRate=b(e,"AgentCommissionRatio.ratio"),a.brokerageRemark=b(e,"AgentCommissionRatio.remark"),a.cost=b(e,"PlatformServiceFee.fee"),a.costMonths=b(e,"PlatformServiceFee.month"),a.deposit=b(e,"PlatformServiceFee.prefee"),a.depositMonths=b(e,"PlatformServiceFee.premonth"),a.endTime=b(e,"AgentBasicInfo.endTime"),a.hasCompany=b(e,"AgentCompanyInfo.signed")?1:0,a.isByStage=2==b(e,"PlatformServiceFee.paymentType")?1:0,a.noCompanyRemark=b(e,"AgentCompanyInfo.remark"),a.parentId=b(e,"AgentBasicInfo.parent"),a.planRegisteTime=b(e,"AgentCompanyInfo.finishDate"),a.stageCount=b(e,"PlatformServiceFee.count"),a.startTime=b(e,"AgentBasicInfo.startTime"),a.wkGuidance=b(e,"ServiceStaffInfo.directorInfo.id"),a.wkbd=b(e,"ServiceStaffInfo.bdInfo.id"),a.wkcx=b(e,"ServiceStaffInfo.cxInfo.id"),a.operateRemark=b(e,"AgentBasicInfo.remark"),a.id=b(e,"AgentBasicInfo.id"),a.cityId=b(e,"AgentBasicInfo.agentCity.1");var i=[],n=[],r=[],s=[],o=[];if(b(e,"PartnerInfo.partnerInfo").forEach(function(e){i.push({background:+e.background,credit:+e.credit||null,email:b(e,"email"),idCode:b(e,"idCode"),mobile:b(e,"mobile"),name:b(e,"name"),remark:b(e,"remark"),backgroundRemark:5==e.background&&b(e,"backgroundRemark")||null,personType:4,id:b(e,"id")})}),b(e,"BDManager.same")?(i.push({email:b(e,"ServiceManager.email"),mobile:b(e,"ServiceManager.mobile"),name:b(e,"ServiceManager.name"),wechat:b(e,"ServiceManager.wechat"),personType:8,id:b(e,"ServiceManager.id")}),a.isBdServerSame=1):i.push({email:b(e,"BDManager.email"),mobile:b(e,"BDManager.mobile"),name:b(e,"BDManager.name"),wechat:b(e,"BDManager.wechat"),personType:8,id:b(e,"BDManager.id")}),i.push({email:b(e,"ServiceManager.email"),mobile:b(e,"ServiceManager.mobile"),name:b(e,"ServiceManager.name"),wechat:b(e,"ServiceManager.wechat"),personType:7,id:b(e,"ServiceManager.id")}),b(e,"AgentCompanyInfo.signed")?i.push({credit:b(e,"CorporateInfo.score"),email:b(e,"CorporateInfo.email"),idCode:b(e,"CorporateInfo.idCard"),mobile:b(e,"CorporateInfo.mobile"),name:b(e,"CorporateInfo.name"),remark:b(e,"CorporateInfo.remark"),personType:5,id:b(e,"CorporateInfo.id")}):(i.push({email:b(e,"AgentCompanyInfo.email"),idCode:b(e,"AgentCompanyInfo.idCard"),mobile:b(e,"AgentCompanyInfo.mobile"),name:b(e,"AgentCompanyInfo.tracerName"),personType:6,remark:b(e,"AgentCompanyInfo.remark"),id:b(e,"AgentCompanyInfo.tracerId")}),a.planRegisteTime=b(e,"AgentCompanyInfo.finishDate")),b(e,"PaymentInfo.paymentStatus")){var l=1;2==b(e,"PlatformServiceFee.paymentType")&&(l=b(e,"PaymentInfo.stageNumber")),o.push({paymentState:1,id:b(e,"PaymentInfo.id"),amount:b(e,"PaymentInfo.actualPayment"),costType:b(e,"PaymentInfo.containPayment").reduce(function(e,t,a,i){return e+ +t},0),expendBank:b(e,"PaymentInfo.subbankName"),payMethod:b(e,"PaymentInfo.type"),paymentNumber:b(e,"PaymentInfo.number"),remark:b(e,"PaymentInfo.remark"),stageNumber:l})}else i.push({mobile:b(e,"PaymentInfo.brokerMobile"),name:b(e,"PaymentInfo.brokerName"),personType:9,remark:b(e,"PaymentInfo.remark"),id:b(e,"PaymentInfo.brokerId")}),o.push({id:b(e,"PaymentInfo.id"),planPayTime:b(e,"PaymentInfo.planPaymentDate"),paymentState:2});b(e,"AgentArea.regions").forEach(function(e){n.push({level:e.level||["","",3,4][e.val.length-1],regionId:e.regionId||e.val[e.val.length-2]||null,provinceId:e.provinceId||e.val[0],cityId:e.cityId||e.val[1],id:e.id})}),b(e,"DividingInfo.dividingInfo").forEach(function(e,t){r.push({amount:e.fee,planPayTime:e.date,stageNumber:t+1,id:e.id})});var c={abbreviation:b(e,"AgentCompanyInfo.shortName"),address:b(e,"AgentCompanyInfo.address"),cityId:b(e,"AgentBasicInfo.agentCity.1"),cooperationEnd:b(e,"AgentBasicInfo.endTime"),cooperationStart:b(e,"AgentBasicInfo.startTime"),licenceCode:b(e,"AgentCompanyInfo.number"),name:b(e,"AgentCompanyInfo.name"),organizationCode:b(e,"AgentCompanyInfo.code"),openBankType:b(e,"AgentCommissionAccount.bankName"),openBankBranch:b(e,"AgentCommissionAccount.subbankName"),accountName:b(e,"AgentCommissionAccount.accountName"),bankAccount:b(e,"AgentCommissionAccount.receiptAccount"),id:b(e,"AgentCompanyInfo.id")},m=!1;for(var d in c)if(null!=c[d]){m=!0;break}return m||(c=null),b(e,"AgentCompanyInfo.numberFileList").forEach(function(e){s.push(y(e,{flag:1,ownerType:2}))}),b(e,"AgentCompanyInfo.idCardFrontFileList").forEach(function(e){s.push(y(e,{flag:2,ownerType:2,tags:"21"}))}),b(e,"AgentCompanyInfo.idCardBackFileList").forEach(function(e){s.push(y(e,{flag:2,ownerType:2,tags:"22"}))}),b(e,"CorporateInfo.idCardFrontFileList").forEach(function(e){s.push(y(e,{flag:2,ownerType:3,tags:"21"}))}),b(e,"CorporateInfo.idCardBackFileList").forEach(function(e){s.push(y(e,{flag:2,ownerType:3,tags:"22"}))}),b(e,"CorporateInfo.scoreFileList").forEach(function(e){s.push(y(e,{flag:3,ownerType:3}))}),b(e,"ContractInfo.contractFileList").forEach(function(t){s.push(y(t,{flag:4,tags:b(e,"ContractInfo.sealed")?"41":"42"}))}),b(e,"ContractInfo.promiseFileList").forEach(function(e){s.push(y(e,{flag:5}))}),b(e,"PaymentInfo.fileList").forEach(function(e){s.push(y(e,{flag:6}))}),b(e,"PaymentInfo.promiseFileList").forEach(function(e){s.push(y(e,{flag:7}))}),t.agency=a,t.agencyPersons=i,t.agencyRegions=n,t.agencyStages=r,t.company=c,t.resources=s,t.payments=o,t}var I={name:function(e,t,a){if(""!=t&&null!=t){/^[0-9a-zA-Z\u4e00-\u9fa5]*$/.test(t)?a():a(new Error("只能是汉字字母和数字!"))}else a()},mobile:function(e,t,a){if(""!=t&&null!=t){/^1\d{10,10}$/.test(t)?a():a(new Error("请输入正确的手机号"))}else a()},idCard:function(e,t,a){""!=t&&null!=t&&15!=t.length&&18!=t.length?a(new Error("请输入正确的身份证号")):a()},credit:function(e,t,a){""!=t&&null!=t&&(t.length>4||t>9999)?a(new Error("最多4个数字!")):a()}},w=a("NYxO"),C={name:"serviceStaffInfo",components:{CollapsePanel:s},props:{item:Object,mode:{type:String,default:"view"}},data:function(){return{bdsLoading:!1,cxsLoading:!1,directorsLoading:!1,selectedBD:"",selectedCX:"",selectedDirector:"",status:"",innerItem:{},bds:[],cxs:[],directors:[],callback:[]}},computed:{bdInfo:h("bdInfo","ServiceStaffInfo","updateBdInfo"),cxInfo:h("cxInfo","ServiceStaffInfo","updateCxInfo"),directorInfo:h("directorInfo","ServiceStaffInfo","updateDirectorInfo")},methods:m()({s:function(){if(this.c=this.c||0,this.c++,3==this.c)for(var e=0;e<this.callback.length;e++)this.callback[e]()},getBDs:function(){var e=this;this.$http.get(this.$apiUrl.common.employee,{params:{personType:2,name:null}}).then(function(t){e.bds=t.data.data,e.s()})},getCXs:function(){var e=this;this.$http.get(this.$apiUrl.common.employee,{params:{personType:7,name:null}}).then(function(t){e.cxs=t.data.data,e.s()})},getDirectors:function(){var e=this;this.$http.get(this.$apiUrl.common.employee,{params:{personType:8,name:null}}).then(function(t){e.directors=t.data.data,e.s()})},handleEdit:function(){this.status="editing",this.innerItem=JSON.parse(l()(this.$store.state.ServiceStaffInfo||{}))},handleComplete:function(){this.status="",this.updateItem(this.innerItem)},handleCancel:function(){this.status=""},handleBdchange:function(e){var t=this.bds.filter(function(t){return t.id==e});t&&t.length&&(this.bdInfo.name=t[0].name,this.bdInfo.department=t[0].department,this.bdInfo.title=t[0].title,this.bdInfo.id=t[0].id,"create"==this.mode&&this.updateBdInfo(this.bdInfo))},handleCxchange:function(e){var t=this.cxs.filter(function(t){return t.id==e});t&&t.length&&(this.cxInfo.name=t[0].name,this.cxInfo.department=t[0].department,this.cxInfo.title=t[0].title,this.cxInfo.id=t[0].id,"create"==this.mode&&this.updateCxInfo(this.cxInfo))},handleDirectorchange:function(e){var t=this.directors.filter(function(t){return t.id==e});t&&t.length&&(this.directorInfo.name=t[0].name,this.directorInfo.department=t[0].department,this.directorInfo.title=t[0].title,this.directorInfo.id=t[0].id,"create"==this.mode&&this.updateDirectorInfo(this.directorInfo))},validate:function(e){this.$refs.form.validate(e)}},Object(w.b)("ServiceStaffInfo",["updateItem","updateBdInfo","updateCxInfo","updateDirectorInfo"])),created:function(){this.getBDs(),this.getCXs(),this.getDirectors()},watch:{"$store.state.ServiceStaffInfo.bdInfo.id":function(e){var t=this;3==this.c?this.selectedBD=e:this.callback.push(function(){t.selectedBD=e})},"$store.state.ServiceStaffInfo.bdInfo":function(e){var t=this;3==this.c?this.selectedBD=e.id:this.callback.push(function(){t.selectedBD=e.id})},"$store.state.ServiceStaffInfo.cxInfo.id":function(e){var t=this;3==this.c?this.selectedCX=e:this.callback.push(function(){t.selectedCX=e})},"$store.state.ServiceStaffInfo.cxInfo":function(e){var t=this;3==this.c?this.selectedCX=e.id:this.callback.push(function(){t.selectedCX=e.id})},"$store.state.ServiceStaffInfo.directorInfo.id":function(e){var t=this;3==this.c?this.selectedDirector=e:this.callback.push(function(){t.selectedDirector=e})},"$store.state.ServiceStaffInfo.directorInfo":function(e){var t=this;3==this.c?this.selectedDirector=e.id:this.callback.push(function(){t.selectedDirector=e.id})}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CollapsePanel",{staticClass:"gap-2",attrs:{expand:!0}},[a("div",{staticClass:"clearfix",attrs:{slot:"header","align-left":""},slot:"header"},[a("span",{staticStyle:{"margin-right":"30px"}},[e._v("悟空服务人员信息")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"!==e.status,expression:"mode === 'edit' && status !== 'editing'"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleEdit}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"danger",size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"success",size:"mini"},on:{click:e.handleComplete}},[e._v("完成")])],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.item,"label-width":"180px"}},[a("el-row",{directives:[{name:"show",rawName:"v-show",value:"create"===e.mode||"edit"===e.mode&&"editing"===e.status,expression:"mode === 'create' || mode === 'edit' && status === 'editing'"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"BD人员姓名"}},[a("el-select",{attrs:{filterable:"",placeholder:"请输入姓名",loading:e.bdsLoading},on:{change:e.handleBdchange},model:{value:e.bdInfo.id,callback:function(t){e.$set(e.bdInfo,"id",t)},expression:"bdInfo.id"}},e._l(e.bds,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"彩霞服务人员姓名"}},[a("el-select",{attrs:{filterable:"",placeholder:"请输入姓名",loading:e.cxsLoading},on:{change:e.handleCxchange},model:{value:e.cxInfo.id,callback:function(t){e.$set(e.cxInfo,"id",t)},expression:"cxInfo.id"}},e._l(e.cxs,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"1对1落地指导"}},[a("el-select",{attrs:{filterable:"",placeholder:"请输入姓名",loading:e.directorsLoading},on:{change:e.handleDirectorchange},model:{value:e.directorInfo.id,callback:function(t){e.$set(e.directorInfo,"id",t)},expression:"directorInfo.id"}},e._l(e.directors,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[e._v(" \n                        "+e._s(e.bdInfo.department)+" - "+e._s(e.bdInfo.title)+"                       \n                ")]),e._v(" "),a("el-form-item",[e._v(" \n                        "+e._s(e.cxInfo.department)+" - "+e._s(e.cxInfo.title)+"                       \n                ")]),e._v(" "),a("el-form-item",[e._v("      \n                        "+e._s(e.directorInfo.department)+" - "+e._s(e.directorInfo.title)+"\n                ")])],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"view"===e.mode||"edit"===e.mode&&""===e.status,expression:"mode === 'view' || mode === 'edit' && status === ''"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"BD人员姓名"}},[e._v("                        \n                    "+e._s(e.bdInfo.name)+"\n                ")]),e._v(" "),a("el-form-item",{attrs:{label:"彩霞服务人员姓名"}},[e._v("\n                    "+e._s(e.cxInfo.name)+"\n                ")]),e._v(" "),a("el-form-item",{attrs:{label:"1对1落地指导"}},[e._v("\n                    "+e._s(e.directorInfo.name)+"\n                ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[e._v(" \n                        "+e._s(e.bdInfo.department)+" - "+e._s(e.bdInfo.title)+"                       \n                ")]),e._v(" "),a("el-form-item",[e._v(" \n                        "+e._s(e.cxInfo.department)+" - "+e._s(e.cxInfo.title)+"                       \n                ")]),e._v(" "),a("el-form-item",[e._v("      \n                        "+e._s(e.directorInfo.department)+" - "+e._s(e.directorInfo.title)+"\n                ")])],1)],1)],1)],1)},staticRenderFns:[]};var x=a("VU/8")(C,k,!1,function(e){a("y7Ja")},"data-v-398e4c6c",null).exports,S={name:"partnerInfo",components:{CollapsePanel:s},props:{item:Object,mode:{type:String,default:"view"}},data:function(){return{innerItem:u()({},this.item),expand:!0,status:"",originalItem:{},bgs:[{value:0,label:"请选择"},{value:1,label:"新房代理商"},{value:2,label:"二手房租房中介"},{value:3,label:"头条、美团、58城市代理商"},{value:4,label:"房产开发商"},{value:5,label:"其他"}],rules:{credit:[{validator:I.credit,trigger:"blur"}],name:[{validator:I.name,trigger:"blur"}],mobile:[{validator:I.mobile,trigger:"blur"}],email:[{type:"email",trigger:"blur",message:"请输入正确的邮箱"}],idCode:[{validator:I.idCard,trigger:"blur"}]}}},methods:{handleEdit:function(){this.status="editing",this.originalItem=this.innerItem,this.innerItem=u()({},this.innerItem)},handleComplete:function(){this.status="",this.$emit("input",this.innerItem)},handleCancel:function(){this.status="",this.innerItem=this.originalItem},handleClose:function(){this.$emit("close")},validate:function(e){this.$refs.form.validate(e)}},computed:{bgText:function(){var e=this,t=this.bgs.filter(function(t){return t.value==e.innerItem.background});return t&&t.length?"5"==(t=t[0]).value?t.label+"-"+this.innerItem.bgOther||"":t.label:""}},watch:{"innerItem.name":function(e){"create"==this.mode&&this.$emit("input",this.innerItem)},"innerItem.mobile":function(e){"create"==this.mode&&this.$emit("input",this.innerItem)},"innerItem.email":function(e){"create"==this.mode&&this.$emit("input",this.innerItem)},"innerItem.credit":function(e){"create"==this.mode&&this.$emit("input",this.innerItem)},"innerItem.idCode":function(e){"create"==this.mode&&this.$emit("input",this.innerItem)},"innerItem.background":function(e){"create"==this.mode&&this.$emit("input",this.innerItem)},"innerItem.remark":function(e){"create"==this.mode&&this.$emit("input",this.innerItem)},"innerItem.backgroundRemark":function(e){"create"==this.mode&&this.$emit("input",this.innerItem)}}},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CollapsePanel",{staticClass:"gap-2 partner",attrs:{expand:e.expand}},[a("div",{staticClass:"clearfix",attrs:{slot:"header","align-left":""},slot:"header"},[a("span",{staticStyle:{"margin-right":"30px"}},[e._v("合伙人信息")]),a("span",{staticStyle:{"margin-left":"-20px","font-size":"14px",color:"#4e4e4e"}},[e._v("(如代理商有多个合伙人请添加多个)")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"!==e.status,expression:"mode === 'edit' && status !== 'editing'"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleEdit}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"danger",size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"success",size:"mini"},on:{click:e.handleComplete}},[e._v("完成")])],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"create"===e.mode||"edit"===e.mode&&"editing"===e.status,expression:"mode === 'create' || mode === 'edit' && status === 'editing'"}],ref:"form",attrs:{model:e.innerItem,"label-width":"180px",rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{model:{value:e.innerItem.name,callback:function(t){e.$set(e.innerItem,"name",t)},expression:"innerItem.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.innerItem.email,callback:function(t){e.$set(e.innerItem,"email",t)},expression:"innerItem.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号",prop:"idCode"}},[a("el-input",{model:{value:e.innerItem.idCode,callback:function(t){e.$set(e.innerItem,"idCode",t)},expression:"innerItem.idCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{model:{value:e.innerItem.mobile,callback:function(t){e.$set(e.innerItem,"mobile",t)},expression:"innerItem.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"芝麻信用",prop:"credit"}},[a("el-input",{attrs:{type:"number"},model:{value:e.innerItem.credit,callback:function(t){e.$set(e.innerItem,"credit",t)},expression:"innerItem.credit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合伙人背景"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.innerItem.background,callback:function(t){e.$set(e.innerItem,"background",t)},expression:"innerItem.background"}},e._l(e.bgs,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:"5"==e.innerItem.background,expression:"innerItem.background=='5'"}],staticStyle:{"margin-top":"6px"},attrs:{maxlength:50},model:{value:e.innerItem.backgroundRemark,callback:function(t){e.$set(e.innerItem,"backgroundRemark",t)},expression:"innerItem.backgroundRemark"}})],1)],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"create"===e.mode||"edit"===e.mode&&"editing"===e.status,expression:"mode === 'create' || mode === 'edit' && status === 'editing'"}],attrs:{label:"备注信息"}},[a("el-input",{attrs:{type:"textarea",maxlength:200,rows:2},model:{value:e.innerItem.remark,callback:function(t){e.$set(e.innerItem,"remark",t)},expression:"innerItem.remark"}})],1)],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"view"===e.mode||"edit"===e.mode&&""===e.status,expression:"mode === 'view' || mode === 'edit' && status === ''"}],attrs:{model:e.item,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名"}},[e._v("\n                    "+e._s(e.innerItem.name)+"\n                ")]),e._v(" "),a("el-form-item",{attrs:{label:"邮箱"}},[e._v("\n                    "+e._s(e.innerItem.email)+"\n                ")]),e._v(" "),a("el-form-item",{attrs:{label:"身份证号"}},[e._v("\n                    "+e._s(e.innerItem.idCode)+"\n                ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号"}},[e._v("\n                    "+e._s(e.innerItem.mobile)+"\n                ")]),e._v(" "),a("el-form-item",{attrs:{label:"芝麻信用"}},[e._v("\n                    "+e._s(e.innerItem.credit)+"\n                ")]),e._v(" "),a("el-form-item",{attrs:{label:"合伙人背景"}},[e._v("\n                    "+e._s(e.bgText)+"\n                ")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注信息"}},[e._v("\n            "+e._s(e.innerItem.remark)+"\n        ")])],1),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"create"==e.mode||"edit"==e.mode&&"editing"==e.status,expression:" mode== 'create' || mode=='edit' && status=='editing'"}],staticClass:"btn-remove",attrs:{type:"text"},on:{click:e.handleClose}},[a("i",{staticClass:"el-icon-error"})])],1)},staticRenderFns:[]};var $={name:"partnerInfoes",components:{PartnerInfo:a("VU/8")(S,L,!1,function(e){a("dBZO")},"data-v-2628be28",null).exports},props:{mode:{type:String,default:"view"}},data:function(){return{}},methods:m()({addPartner:function(){this.addItem({_t:Date.now(),name:"",mobile:"",email:"",credit:"",idCode:"",background:"",remark:"",backgroundRemark:""})},handleRemove:function(e){this.removeItem(e)},handleInput:function(e){for(var t=0;t<this.items.length;t++)if(this.items[t]._t==e._t){e.index=t,this.updateItem(e);break}},validate:function(e){for(var t=0,a=0;a<this.items.length;a++)this.$refs["pi"+a][0].validate(function(e){e&&t++});e(this.items.length==t)}},Object(w.b)("PartnerInfo",["updateItems","updateItem","removeItem","addItem"])),computed:{items:function(){return this.$store.state.PartnerInfo.partnerInfo}},watch:{}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.items,function(t,i){return a("partner-info",{key:i,ref:"pi"+i,refInFor:!0,attrs:{mode:e.mode,item:t},on:{input:e.handleInput,close:function(t){e.handleRemove(i)}}})}),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"create"===e.mode||"edit"===e.mode,expression:"mode === 'create' || mode === 'edit'"}],staticClass:"full-row gap-2",attrs:{type:"primary"},on:{click:e.addPartner}},[e._v("+ 添加合伙人")])],2)},staticRenderFns:[]};var T=a("VU/8")($,N,!1,function(e){a("XGpF")},"data-v-0b9cf109",null).exports,A=a("Gu7T"),F=a.n(A),P=a("Zrlr"),z=a.n(P),R=a("wxAW"),D=a.n(R),M=function(){function e(){z()(this,e)}return D()(e,null,[{key:"create",value:function(e){var t=e.vue,a=e.url,i=e.paramName,n=e.valueField,r=void 0===n?"id":n,s=e.labelField,o=void 0===s?"name":s,l=e.mayHasChildren,c=void 0===l||l,m=e.parse;return{fetch:function(e){var n={};return i&&(n[i]=e),t.$http.get(a,{params:n}).then(function(e){return e.data})},parse:function(e){return e&&e.length?(m&&(e=m(e)),e.map(function(e){return{value:e[r],label:e[o],children:c?[]:void 0}})):[]}}}}]),e}(),U={name:"region",props:{startLevel:{type:Number,default:1},endLevel:{type:Number,default:3},initId:{type:String,default:""},value:Array,data:Array,parsers:Array},created:function(){if(!this.data){if(this.startLevel>this.endLevel)throw"endLevel不能小于startLeven";for(var e={province:M.create({vue:this,url:this.$apiUrl.common.province,paramName:"",mayHasChildren:1!=this.endLevel,valueField:"provinceId",labelField:"provinceName"}),city:M.create({vue:this,url:this.$apiUrl.common.city,paramName:"provinceId",mayHasChildren:2!=this.endLevel,valueField:"cityId",labelField:"cityName"}),district:M.create({vue:this,url:this.$apiUrl.common.district,paramName:"cityId",mayHasChildren:3!=this.endLevel,valueField:"regionId",labelField:"regionName"}),town:M.create({vue:this,url:this.$apiUrl.common.town,paramName:"regionId",mayHasChildren:4!=this.endLevel,valueField:"id",labelField:"NAME"})},t=["","province","city","district","town"],a=this.startLevel;a<=this.endLevel;a++)this.dataFetchers.push(e[t[a]]);var i=this.selectedOptions.length||1;this.initOptionData(0,i,this.options)}},data:function(){return{dataFetchers:[],options:this.data||[],selectedOptions:this.value,innerValue:[]}},mounted:function(){},methods:{clear:function(){this.selectedOptions=[]},handleItemChange:function(e){if(!this.data&&e&&e.length){for(var t={children:this.options},a=function(a){if(!(t=t.children.filter(function(t){return t.value==e[a]}))||!t.length)return"break";t=t[0]},i=0;i<e.length;i++){if("break"===a(i))break}if(t&&t.children&&0==t.children.length){var n=this.dataFetchers[e.length];n&&n.fetch(t.value).then(function(e){e&&e.data&&e.data.length?t.children=n.parse(e.data):t.children=null})}}},initOptionData:function(e,t,a){var i=this;if(e!=t){a=a||[];var n=this.dataFetchers[e];n&&n.fetch(this.selectedOptions[e-1]||0==e&&this.initId).then(function(r){var s;(s=a).splice.apply(s,[0,a.length].concat(F()(n.parse(r.data)))),a=(a=a.filter(function(t){return t.value==i.selectedOptions[e]}))&&a[0]&&a[0].children||[],i.initOptionData(e+1,t,a)})}},handleChange:function(e){for(var t={children:this.options},a=[],i=function(i){if(!(t=t.children.filter(function(t){return t.value==e[i]}))||!t.length)return"break";t=t[0],a.push(t.label)},n=0;n<e.length;n++){if("break"===i(n))break}e.push(a),e.label=a,console.log("val: ",e),this.innerValue=e,this.$emit("input",e)}},watch:{value:function(e){e!=this.innerValue&&(this.selectedOptions=e,this.data||this.initOptionData(0,this.selectedOptions.length||1,this.options))}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-cascader",{attrs:{options:e.options,clearable:""},on:{"active-item-change":e.handleItemChange,change:e.handleChange},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1)},staticRenderFns:[]};var E=a("VU/8")(U,B,!1,function(e){a("9/d5")},null,null).exports,q={name:"agentBasicInfo",props:{item:Object,mode:{type:String,default:"view"}},components:{CollapsePanel:s,Region:E},data:function(){return{expand:!0,status:"",innerItem:{},valueFormat:"yyyy-MM-dd",format:"yyyy-MM-dd",parentAgentLoading:!1,agentTypes:[{label:"请选择",value:0},{label:"城市代理商（一级代理商）",value:1},{label:"区代理商（二级代理商）",value:2}],agents:[{agencyId:"",agencyCompanyName:"请选择"},{agencyId:0,agencyCompanyName:"无上级代理商"}],remoteAgents:[]}},methods:m()({handleParentAgentChange:function(){},getAgents:function(){var e=this;this.parentAgentLoading=!0,this.$http.get(this.$apiUrl.agent.list).then(function(t){e.parentAgentLoading=!1,e.remoteAgents=t.data.data&&t.data.data.unshift({agencyId:"",agencyCompanyName:"请选择"},{agencyId:0,agencyCompanyName:"无上级代理商"})&&t.data.data||[]})},handleEdit:function(){this.status="editing";var e=JSON.parse(l()(this.$store.state.AgentBasicInfo||{}));e.startDate=e.startDate&&new Date(e.startDate)||"",e.endDate=e.endDate&&new Date(e.endDate)||"",this.innerItem=e},handleComplete:function(){this.status="",this.updateItem(this.innerItem)},handleCancel:function(){this.status=""},handleAgentTypeChange:function(e){this.parent=""},validate:function(e){this.$refs.form.validate(e)}},Object(w.b)("AgentBasicInfo",["updateItem","updateAgentType","updateParent","updateStartTime","updateEndTime","updateAgentCity"])),computed:{agentType:h("agentType","AgentBasicInfo","updateAgentType"),parent:h("parent","AgentBasicInfo","updateParent"),startTime:h("startTime","AgentBasicInfo","updateStartTime"),endTime:h("endTime","AgentBasicInfo","updateEndTime"),agentCity:h("agentCity","AgentBasicInfo","updateAgentCity"),typeStr:function(){var e=this,t=this.agentTypes.filter(function(t){return t.value==e.agentType});return t&&t.length?t[0].label:""},parentStr:function(){var e=this,t=this.parentAgents.filter(function(t){return t.agencyId===e.parent});return t&&t.length?t[0].agencyCompanyName||t[0].agencyId:"无上级代理商"},startDateStr:function(){return g(this.startTime)},endDateStr:function(){return g(this.endTime)},agentCityStr:function(){return this.agentCity&&3==this.agentCity.length?this.agentCity[2]||[]:this.$store.state.AgentBasicInfo.cityName||[]},remote:function(){return 2==this.agentType},parentAgents:{get:function(){return this.remote?this.remoteAgents:this.agents},set:function(e){}}},created:function(){this.getAgents()}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CollapsePanel",{staticClass:"gap-2",attrs:{expand:e.expand}},[a("div",{staticClass:"clearfix",attrs:{slot:"header","align-left":""},slot:"header"},[a("span",{staticStyle:{"margin-right":"30px"}},[e._v("代理商基本信息")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"!==e.status,expression:"mode === 'edit' && status !== 'editing'"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleEdit}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"danger",size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"success",size:"mini"},on:{click:e.handleComplete}},[e._v("完成")])],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"create"===e.mode||"edit"===e.mode&&"editing"===e.status,expression:"mode === 'create' || mode === 'edit' && status === 'editing'"}],ref:"form",attrs:{model:e.item,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"代理商类型"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleAgentTypeChange},model:{value:e.agentType,callback:function(t){e.agentType=t},expression:"agentType"}},e._l(e.agentTypes,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"合作开始时间"}},[a("el-date-picker",{attrs:{type:"date","value-format":e.valueFormat,format:e.format,placeholder:"选择日期"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理商所属城市"}},[a("region",{attrs:{startLevel:1,endLevel:2},model:{value:e.agentCity,callback:function(t){e.agentCity=t},expression:"agentCity"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"上级代理商"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",loading:e.parentAgentLoading},on:{change:e.handleParentAgentChange},model:{value:e.parent,callback:function(t){e.parent=t},expression:"parent"}},e._l(e.parentAgents,function(e){return a("el-option",{key:e.agencyId,attrs:{label:e.agencyCompanyName,value:e.agencyId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"合作结束时间"}},[a("el-date-picker",{attrs:{type:"date","value-format":e.valueFormat,format:e.format,placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1)],1)],1)],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"view"===e.mode||"edit"===e.mode&&""===e.status,expression:"mode === 'view' || mode === 'edit' && status === ''"}],attrs:{model:e.item,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"代理商类型"}},[e._v("                        \n                    "+e._s(e.typeStr)+"\n                ")]),e._v(" "),a("el-form-item",{attrs:{label:"合作开始时间"}},[e._v("                        \n                     "+e._s(e.startDateStr)+"\n                ")]),e._v(" "),a("el-form-item",{staticClass:"region",attrs:{label:"代理商所属城市"}},e._l(e.agentCityStr,function(t,i){return a("span",{key:i},[e._v(e._s(t))])}))],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"上级代理商"}},[e._v("                                      \n                    "+e._s(e.parentStr)+"\n                ")]),e._v(" "),a("el-form-item",{attrs:{label:"合作结束时间"}},[e._v("\n                    "+e._s(e.endDateStr)+"\n                ")])],1)],1)],1)],1)},staticRenderFns:[]};var j=a("VU/8")(q,V,!1,function(e){a("ecIw")},"data-v-186a4ee6",null).exports,O={name:"agentArea",props:["item","mode"],components:{CollapsePanel:s,Region:E},data:function(){return{expand:!0,visible:!1,selectedRegion:[],status:"",innerItem:{regions:[]}}},computed:{regions:h("regions","AgentArea","updateItem")},methods:m()({handleAddRegion:function(){this.visible=!0},handleAddRegionConfirm:function(){if("create"==this.mode){var e=this.regions.slice();e.push({val:this.selectedRegion,label:this.selectedRegion.label}),this.updateItem({regions:e})}else this.regions.push({val:this.selectedRegion,label:this.selectedRegion.label});this.visible=!1,this.$refs.region&&this.$refs.region.clear()},handleRemove:function(e){if("edit"==this.mode)this.regions.splice(e,1);else{var t=this.regions.splice();t.splice(e,1),this.updateItem({regions:t})}},handleEdit:function(){this.status="editing",this.innerItem=JSON.parse(l()(this.$store.state.AgentArea||{regions:[]}))},handleComplete:function(){this.status="",this.updateItem(this.innerItem)},handleCancel:function(){this.status=""},validate:function(e){this.$refs.form.validate(e)}},Object(w.b)("AgentArea",["updateItem","updateRegions"]))},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CollapsePanel",{staticClass:"gap-2",attrs:{expand:e.expand}},[a("div",{staticClass:"clearfix",attrs:{slot:"header","align-left":""},slot:"header"},[a("span",{staticStyle:{"margin-right":"30px"}},[e._v("请选择代理区域")]),e._v(" "),a("span",{staticStyle:{"margin-left":"-20px","font-size":"14px",color:"red"}},[e._v("(代理区域将影响关联门店区域，即该代理商所扩展的门店必须与其代理的区域相符！)")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"!==e.status,expression:"mode === 'edit' && status !== 'editing'"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleEdit}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"danger",size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"success",size:"mini"},on:{click:e.handleComplete}},[e._v("完成")])],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.item,"label-width":"180px"}},[a("el-form-item",{attrs:{label:"代理区域"}},[a("ul",{staticClass:"region"},e._l(e.regions,function(t,i){return a("li",{key:i},[e._l(t.label,function(t,i){return a("span",{key:i},[e._v(e._s(t))])}),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"create"==e.mode||"edit"==e.mode&&"editing"==e.status,expression:"mode=='create' || mode=='edit' && status=='editing'"}],staticClass:"remove",attrs:{type:"text"},on:{click:function(t){e.handleRemove(i)}}},[a("i",{staticClass:"el-icon-error"})])],2)}))]),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"create"==e.mode||"edit"==e.mode&&"editing"==e.status,expression:"mode == 'create' || mode=='edit' && status=='editing'"}],attrs:{label:""}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleAddRegion}},[e._v("添加代理区域")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加代理区域",visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[a("region",{ref:"region",model:{value:e.selectedRegion,callback:function(t){e.selectedRegion=t},expression:"selectedRegion"}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddRegionConfirm}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var W=a("VU/8")(O,J,!1,function(e){a("YuiC")},"data-v-e594dad4",null).exports,H={name:"upload",props:["fileList","btnText","tipText","mode","status","multiple","limit"],data:function(){return{url:i.default.apiUrl.getFullUrl(i.default.apiUrl.upload),innerFileList:this.fileList&&this.fileList.slice()||[],fl:(this.fileList&&this.fileList.slice()||[]).map(function(e){var t=u()({},e);return t.name=t.fileName,t}),name:""}},methods:{handlePreview:function(){},handleRemove:function(e){for(var t=this.innerFileList.length-1;t>=0;t--)if(this.innerFileList[t].url==e.url||this.innerFileList[t].uid==e.uid){this.innerFileList.splice(t,1),this.$emit("update:fileList",this.innerFileList);break}},beforeRemove:function(){},handleExceed:function(){this.$message.warning("超过了限制")},handleChange:function(){},handleSuccess:function(e,t){this.innerFileList.push(m()({uid:t.uid},e.data)),this.$emit("update:fileList",this.innerFileList)},beforeUpload:function(e){var t=e.type.indexOf("image")>-1,a=e.size/1024/1024<2;return t||this.$message.error("只能上传图片哦^_^"),a||this.$message.error("文件大小不能超过2M:-)"),this.name=e.name,t&&a}}},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-upload",{staticClass:"upload-demo",attrs:{action:e.url,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"on-success":e.handleSuccess,"on-change":e.handleChange,"before-upload":e.beforeUpload,multiple:e.multiple,limit:e.limit||10,"on-exceed":e.handleExceed,"file-list":e.fl,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v(e._s(e.btnText||"点击上传"))]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传图片文件(jpg/jpeg/gif/png/bmp)，且不超过2M")])],1)},staticRenderFns:[]};var K=a("VU/8")(H,Z,!1,function(e){a("VPQ/")},null,null).exports,X=a("IinW"),Y=a.n(X),G={name:"fileList",props:["fileList"],data:function(){return{id:""}},computed:{innerFileList:function(){var e=this,t=[];if(this.fileList&&this.fileList.length){var a=[],i=[];this.fileList.forEach(function(t){e.isImg(t.url)?a.push(t):i.push(t)}),t=t.concat(i).concat(a)}return t}},methods:{isImg:function(e){return/jpg|png|jpeg|gif/.test(e)}},created:function(){this.id=Math.random().toString().replace("0.","")},mounted:function(){},watch:{fileList:function(){var e=this;this.viewer?(console.log("fileList changed"),this.viewer.destroy(),this.$nextTick(function(){e.viewer=new Y.a(document.getElementById(e.id))})):this.$nextTick(function(){e.viewer=new Y.a(document.getElementById(e.id))})}}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"file-list",attrs:{id:e.id}},e._l(e.fileList,function(t){return a("li",{key:t.url},[e.isImg(t.url)?a("img",{attrs:{src:t.url}}):a("a",{attrs:{download:t.fileName,target:"_blank",href:t.url}},[e._v(e._s(t.fileName))])])}))},staticRenderFns:[]};var ee=a("VU/8")(G,Q,!1,function(e){a("PSSS")},"data-v-3ae65420",null).exports,te=void 0,ae={name:"agentCompanyInfo",props:{item:Object,mode:{type:String,default:"view"}},components:{CollapsePanel:s,Upload:K,FileList:ee},data:function(){return{expand:!0,status:"",innerItem:{},valueFormat:"yyyy-MM-dd",format:"yyyy-MM-dd",rules:{mobile:[{validator:I.mobile,trigger:"blur"}],email:[{type:"email",trigger:"blur",message:"请输入正确的邮箱"}],idCard:[{validator:I.idCard,trigger:"blur"}],name:[{validator:function(e,t,a){te.signed&&(null==t||""==t)?a("公司名是必填项!"):a()},trigger:"blur"}]}}},computed:{signed:h("signed","AgentCompanyInfo","updateSigned"),name:h("name","AgentCompanyInfo","updateName"),shortName:h("shortName","AgentCompanyInfo","updateShortName"),number:h("number","AgentCompanyInfo","updateNumber"),code:h("code","AgentCompanyInfo","updateCode"),address:h("address","AgentCompanyInfo","updateAddress"),numberFileList:h("numberFileList","AgentCompanyInfo","updateNumberFileList"),finishDate:h("finishDate","AgentCompanyInfo","updateFinishDate"),tracerName:h("tracerName","AgentCompanyInfo","updateTracerName"),mobile:h("mobile","AgentCompanyInfo","updateMobile"),email:h("email","AgentCompanyInfo","updateEmail"),idCard:h("idCard","AgentCompanyInfo","updateIdCard"),remark:h("remark","AgentCompanyInfo","updateRemark"),idCardFrontFileList:h("idCardFrontFileList","AgentCompanyInfo","updateIdCardFrontFileList"),idCardBackFileList:h("idCardBackFileList","AgentCompanyInfo","idCardBackFileList"),finishDateStr:function(){return g(this.finishDate)}},methods:m()({handleEdit:function(){this.status="editing",this.innerItem=JSON.parse(l()(this.$store.state.AgentCompanyInfo))},handleComplete:function(){this.status="",this.updateItem(this.innerItem)},handleCancel:function(){this.status=""},validate:function(e){this.signed,this.$refs.form.validate(e)}},Object(w.b)("AgentCompanyInfo",["updateItem","updateSigned","updateName","updateShortName","updateNumber","updateCode","updateAddress","updateNumberFileList","updateFinishDate","updateTracerName","updateMobile","updateEmail","updateIdCard","updateRemark","updateIdCardFrontFileList","updateIdCardBackFileList"])),created:function(){te=this}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CollapsePanel",{staticClass:"gap-2",attrs:{expand:e.expand}},[a("div",{staticClass:"clearfix",attrs:{slot:"header","align-left":""},slot:"header"},[a("span",{staticStyle:{"margin-right":"30px"}},[e._v("代理商公司信息")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"!==e.status,expression:"mode === 'edit' && status !== 'editing'"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleEdit}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"danger",size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"success",size:"mini"},on:{click:e.handleComplete}},[e._v("完成")])],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"create"===e.mode||"edit"===e.mode&&"editing"===e.status,expression:"mode === 'create' || mode === 'edit' && status === 'editing'"}],ref:"form",attrs:{rules:e.rules,model:this,"label-width":"180px"}},[a("el-form-item",{attrs:{label:"代理商是否已注册公司"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#aaa"},model:{value:e.signed,callback:function(t){e.signed=t},expression:"signed"}})],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.signed,expression:"signed"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"company-name",attrs:{label:"公司名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入营业执照全名",maxlength:"50"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司简称"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.shortName,callback:function(t){e.shortName=t},expression:"shortName"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.signed,expression:"signed"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"营业执照号"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"组织机构代码"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1)],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.signed,expression:"signed"}],attrs:{label:"公司具体地址"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.signed,expression:"signed"}],attrs:{label:"上传营业执照"}},["create"===e.mode||"edit"===e.mode&&"editing"===e.status?a("upload",{attrs:{fileList:e.numberFileList},on:{"update:fileList":function(t){e.numberFileList=t}}}):e._e()],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.signed,expression:"!signed"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预计注册完成时间"}},[a("el-date-picker",{attrs:{type:"date","value-format":e.valueFormat,format:e.format,placeholder:"选择日期"},model:{value:e.finishDate,callback:function(t){e.finishDate=t},expression:"finishDate"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.signed,expression:"!signed"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"代理商负责跟踪人"}},[a("el-input",{model:{value:e.tracerName,callback:function(t){e.tracerName=t},expression:"tracerName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.signed,expression:"!signed"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱号",prop:"email"}},[a("el-input",{model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证号",prop:"idCard"}},[a("el-input",{model:{value:e.idCard,callback:function(t){e.idCard=t},expression:"idCard"}})],1)],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.signed,expression:"!signed"}],attrs:{label:"备注信息"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.signed,expression:"!signed"}],attrs:{label:"上传身份证正面照"}},["create"===e.mode||"edit"===e.mode&&"editing"===e.status?a("upload",{attrs:{fileList:e.idCardFrontFileList},on:{"update:fileList":function(t){e.idCardFrontFileList=t}}}):e._e()],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.signed,expression:"!signed"}],attrs:{label:"上传身份证反面照"}},["create"===e.mode||"edit"===e.mode&&"editing"===e.status?a("upload",{attrs:{fileList:e.idCardBackFileList},on:{"update:fileList":function(t){e.idCardBackFileList=t}}}):e._e()],1)],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"view"===e.mode||"edit"===e.mode&&""===e.status,expression:"mode === 'view' || mode === 'edit' && status === ''"}],attrs:{model:e.innerItem,"label-width":"180px"}},[a("el-form-item",{attrs:{label:"代理商是否已注册公司"}},[e._v("\n            "+e._s(e.signed?"是":"否")+"                \n        ")]),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.signed,expression:"signed"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司名"}},[e._v("\n                    "+e._s(e.name)+"\n                ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司简称"}},[e._v("\n                    "+e._s(e.shortName)+"\n                ")])],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.signed,expression:"signed"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"营业执照号"}},[e._v("\n                    "+e._s(e.number)+"\n                ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"组织机构代码"}},[e._v("\n                    "+e._s(e.code)+"\n                ")])],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.signed,expression:"signed"}],attrs:{label:"公司具体地址"}},[e._v("\n            "+e._s(e.address)+"\n        ")]),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.signed,expression:"signed"}],attrs:{label:"上传营业执照"}},[a("file-list",{attrs:{fileList:e.numberFileList}})],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.signed,expression:"!signed"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预计注册完成时间"}},[e._v("\n                    "+e._s(e.finishDateStr)+"\n                ")])],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.signed,expression:"!signed"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"代理商负责跟踪人"}},[e._v("\n                    "+e._s(e.tracerName)+"\n                ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号"}},[e._v("\n                    "+e._s(e.mobile)+"\n                ")])],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.signed,expression:"!signed"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱号"}},[e._v("\n                    "+e._s(e.email)+"\n                ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证号"}},[e._v("\n                    "+e._s(e.idCard)+"\n                ")])],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.signed,expression:"!signed"}],attrs:{label:"备注信息"}},[e._v("\n            "+e._s(e.remark)+"\n        ")]),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.signed,expression:"!signed"}],attrs:{label:"上传身份证正面照"}},[a("file-list",{attrs:{fileList:e.idCardFrontFileList}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.signed,expression:"!signed"}],attrs:{label:"上传身份证反面照"}},[a("file-list",{attrs:{fileList:e.idCardBackFileList}})],1)],1)],1)},staticRenderFns:[]};var ne=a("VU/8")(ae,ie,!1,function(e){a("HAgM"),a("1uYM")},"data-v-31a1dcf1",null).exports,re={name:"corporateInfo",components:{CollapsePanel:s,Upload:K,FileList:ee},props:{item:Object,mode:{type:String,default:"view"}},data:function(){return{expand:!0,status:"",innerItem:{},rules:{mobile:[{validator:I.mobile,trigger:"blur"}],idCard:[{validator:I.idCard,trigger:"blur"}],email:[{type:"email",trigger:"blur",message:"请输入正确的邮箱"}]}}},computed:{name:h("name","CorporateInfo","updateName"),mobile:h("mobile","CorporateInfo","updateMobile"),idCard:h("idCard","CorporateInfo","updateIdCard"),email:h("email","CorporateInfo","updateEmail"),score:h("score","CorporateInfo","updateScore"),idCardFrontFileList:h("idCardFrontFileList","CorporateInfo","updateIdCardFrontFileList"),idCardBackFileList:h("idCardBackFileList","CorporateInfo","updateIdCardBackFileList"),scoreFileList:h("scoreFileList","CorporateInfo","updateScoreFileList"),remark:h("remark","CorporateInfo","updateRemark"),needShow:function(){return this.$store.state.AgentCompanyInfo.signed}},methods:m()({handleEdit:function(){this.status="editing",this.innerItem=JSON.parse(l()(this.$store.state.CorporateInfo||{}))},handleComplete:function(){this.status="",this.updateItem(this.innerItem)},handleCancel:function(){this.status=""},validate:function(e){this.needShow?this.$refs.form.validate(e):e(!0)}},Object(w.b)("CorporateInfo",["updateItem","updateMobile","updateName","updateIdCard","updateEmail","updateScore","updateIdCardFrontFileList","updateIdCardBackFileList","updateScoreFileList","updateRemark"])),watch:{}},se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CollapsePanel",{directives:[{name:"show",rawName:"v-show",value:e.needShow,expression:"needShow"}],staticClass:"gap-2",attrs:{expand:e.expand}},[a("div",{staticClass:"clearfix",attrs:{slot:"header","align-left":""},slot:"header"},[a("span",{staticStyle:{"margin-right":"30px"}},[e._v("法人信息")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"!==e.status,expression:"mode === 'edit' && status !== 'editing'"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleEdit}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"danger",size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"success",size:"mini"},on:{click:e.handleComplete}},[e._v("完成")])],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"create"===e.mode||"edit"===e.mode&&"editing"===e.status,expression:"mode === 'create' || mode === 'edit' && status === 'editing'"}],ref:"form",attrs:{rules:e.rules,model:this,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"法人姓名"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"法人手机号",prop:"mobile"}},[a("el-input",{model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"芝麻信用分"}},[a("el-input",{attrs:{type:"number"},model:{value:e.score,callback:function(t){e.score=t},expression:"score"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"法人身份证",prop:"idCard"}},[a("el-input",{model:{value:e.idCard,callback:function(t){e.idCard=t},expression:"idCard"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"法人邮箱",prop:"email"}},[a("el-input",{model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"上传身份证正面照"}},["create"===e.mode||"edit"===e.mode&&"editing"===e.status?a("upload",{attrs:{fileList:e.idCardFrontFileList},on:{"update:fileList":function(t){e.idCardFrontFileList=t}}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"上传身份证反面照"}},["create"===e.mode||"edit"===e.mode&&"editing"===e.status?a("upload",{attrs:{fileList:e.idCardBackFileList},on:{"update:fileList":function(t){e.idCardBackFileList=t}}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"上传芝麻信用截图"}},["create"===e.mode||"edit"===e.mode&&"editing"===e.status?a("upload",{attrs:{fileList:e.scoreFileList},on:{"update:fileList":function(t){e.scoreFileList=t}}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"备注信息"}},[a("el-input",{attrs:{type:"textarea",maxlength:"200"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"view"===e.mode||"edit"===e.mode&&""===e.status,expression:"mode === 'view' || mode === 'edit' && status === ''"}],attrs:{model:e.item,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"法人姓名"}},[e._v("\n                    "+e._s(e.name)+"\n                ")]),e._v(" "),a("el-form-item",{attrs:{label:"法人手机号"}},[e._v("\n                    "+e._s(e.mobile)+"\n                ")]),e._v(" "),a("el-form-item",{attrs:{label:"芝麻信用分"}},[e._v("\n                    "+e._s(e.score)+"\n                ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"法人身份证"}},[e._v("\n                    "+e._s(e.idCard)+"\n                ")]),e._v(" "),a("el-form-item",{attrs:{label:"法人邮箱"}},[e._v("\n                    "+e._s(e.email)+"\n                ")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"上传身份证正面照"}},[a("file-list",{attrs:{fileList:e.idCardFrontFileList}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传身份证反面照"}},[a("file-list",{attrs:{fileList:e.idCardBackFileList}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传芝麻信用截图"}},[a("file-list",{attrs:{fileList:e.scoreFileList}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注信息"}},[e._v("                \n            "+e._s(e.remark)+"\n        ")])],1)],1)},staticRenderFns:[]};var oe=a("VU/8")(re,se,!1,function(e){a("xOC8")},"data-v-13571628",null).exports,le={name:"contractInfo",components:{CollapsePanel:s,Upload:K,FileList:ee},props:{item:Object,mode:{type:String,default:"view"}},data:function(){return{expand:!0,status:"",innerItem:{}}},methods:m()({handleEdit:function(){this.status="editing",this.innerItem=JSON.parse(l()(this.$store.state.ContractInfo||{}))},handleComplete:function(){this.status="",this.updateItem(this.innerItem)},handleCancel:function(){this.status=""},validate:function(e){this.$refs.form.validate(e)}},Object(w.b)("ContractInfo",["updateItem","updateContractFileList","updateSealed","updateSpecial","updatePromiseFileList"])),computed:{contractFileList:h("contractFileList","ContractInfo","updateContractFileList"),sealed:h("sealed","ContractInfo","updateSealed"),special:h("special","ContractInfo","updateSpecial"),promiseFileList:h("promiseFileList","ContractInfo","updatePromiseFileList")},watch:{}},ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CollapsePanel",{staticClass:"gap-2",attrs:{expand:e.expand}},[a("div",{staticClass:"clearfix",attrs:{slot:"header","align-left":""},slot:"header"},[a("span",{staticStyle:{"margin-right":"30px"}},[e._v("合同资料")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"!==e.status,expression:"mode === 'edit' && status !== 'editing'"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleEdit}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"danger",size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"success",size:"mini"},on:{click:e.handleComplete}},[e._v("完成")])],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"create"===e.mode||"edit"===e.mode&&"editing"===e.status,expression:"mode === 'create' || mode === 'edit' && status === 'editing'"}],ref:"form",attrs:{model:e.item,"label-width":"180px"}},[a("el-form-item",{attrs:{label:"上传合同"}},["create"===e.mode||"edit"===e.mode&&"editing"===e.status?a("upload",{attrs:{fileList:e.contractFileList},on:{"update:fileList":function(t){e.contractFileList=t}}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"合同有无盖公章"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#aaa"},model:{value:e.sealed,callback:function(t){e.sealed=t},expression:"sealed"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"特殊条款"}},[a("el-input",{attrs:{type:"textarea",maxlength:"1000"},model:{value:e.special,callback:function(t){e.special=t},expression:"special"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"承诺书上传"}},["create"===e.mode||"edit"===e.mode&&"editing"===e.status?a("upload",{attrs:{fileList:e.promiseFileList},on:{"update:fileList":function(t){e.promiseFileList=t}}}):e._e()],1)],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"view"===e.mode||"edit"===e.mode&&""===e.status,expression:"mode === 'view' || mode === 'edit' && status === ''"}],attrs:{model:e.item,"label-width":"180px"}},[a("el-form-item",{attrs:{label:"上传合同"}},[a("file-list",{attrs:{fileList:e.contractFileList}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合同有无盖公章"}},[e._v("\n            "+e._s(e.sealed?"有":"无")+"\n        ")]),e._v(" "),a("el-form-item",{attrs:{label:"特殊条款"}},[e._v("\n            "+e._s(e.special)+"\n        ")]),e._v(" "),a("el-form-item",{attrs:{label:"承诺书上传"}},[a("file-list",{attrs:{fileList:e.promiseFileList}})],1)],1)],1)},staticRenderFns:[]};var me=a("VU/8")(le,ce,!1,function(e){a("QpL0")},"data-v-3c1bca34",null).exports,de={name:"serviceManager",components:{CollapsePanel:s},props:{item:Object,mode:{type:String,default:"view"}},data:function(){return{expand:!0,status:"",innerItem:u()({},this.item),rules:{mobile:[{validator:I.mobile,message:"请输入正确的手机号",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]}}},computed:{name:h("name","ServiceManager","updateName"),mobile:h("mobile","ServiceManager","updateMobile"),wechat:h("wechat","ServiceManager","updateWechat"),email:h("email","ServiceManager","updateEmail")},methods:m()({handleEdit:function(){this.status="editing",this.innerItem=u()({},this.$store.state.ServiceManager)},handleComplete:function(){this.status="",this.updateItem(this.innerItem)},handleCancel:function(){this.status=""},validate:function(e){this.$refs.form.validate(e)}},Object(w.b)("ServiceManager",["updateItem","updateName","updateWechat","updateMobile","updateEmail"])),watch:{}},ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CollapsePanel",{staticClass:"gap-2",attrs:{expand:e.expand}},[a("div",{staticClass:"clearfix",attrs:{slot:"header","align-left":""},slot:"header"},[a("span",{staticStyle:{"margin-right":"30px"}},[e._v("服务经理")]),a("span",{staticStyle:{"margin-left":"-20px","font-size":"14px",color:"#4e4e4e"}},[e._v("(为门店提供各种咨询服务，一般由代理商指派，首次添加后交由代理商维护)")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"!==e.status,expression:"mode === 'edit' && status !== 'editing'"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleEdit}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"danger",size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"success",size:"mini"},on:{click:e.handleComplete}},[e._v("完成")])],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"create"===e.mode||"edit"===e.mode&&"editing"===e.status,expression:"mode === 'create' || mode === 'edit' && status === 'editing'"}],ref:"form",attrs:{model:this,"label-width":"180px",rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信号"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.wechat,callback:function(t){e.wechat=t},expression:"wechat"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1)],1)],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"view"===e.mode||"edit"===e.mode&&""===e.status,expression:"mode === 'view' || mode === 'edit' && status === ''"}],attrs:{model:e.innerItem,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名"}},[e._v("                        \n                    "+e._s(e.name)+"\n                ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号"}},[e._v("                        \n                    "+e._s(e.mobile)+"\n                ")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信号"}},[e._v("                        \n                    "+e._s(e.wechat)+"\n                ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱"}},[e._v("                        \n                    "+e._s(e.email)+"\n                ")])],1)],1)],1)],1)},staticRenderFns:[]};var pe=a("VU/8")(de,ue,!1,function(e){a("8Dph")},"data-v-7f71472e",null).exports,fe={name:"bdManager",components:{CollapsePanel:s},props:{item:Object,serviceManager:Object,mode:{type:String,default:"view"}},data:function(){return{expand:!0,status:"",innerItem:{},rules:{mobile:[{validator:I.mobile,message:"请输入正确的手机号码",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]}}},computed:{name:{get:function(){return this.same?this.$store.state.ServiceManager.name:"edit"==this.mode&&"editing"==this.status?this.innerItem.name:this.$store.state.BDManager.name},set:function(e){"edit"==this.mode&&"editing"==this.status?this.innerItem.name=e:this.updateName(e)}},mobile:{get:function(){return this.same?this.$store.state.ServiceManager.mobile:"edit"==this.mode&&"editing"==this.status?this.innerItem.mobile:this.$store.state.BDManager.mobile},set:function(e){"edit"==this.mode&&"editing"==this.status?this.innerItem.mobile=e:this.updateMobile(e)}},email:{get:function(){return this.same?this.$store.state.ServiceManager.email:"edit"==this.mode&&"editing"==this.status?this.innerItem.email:this.$store.state.BDManager.email},set:function(e){"edit"==this.mode&&"editing"==this.status?this.innerItem.email=e:this.updateEmail(e)}},wechat:{get:function(){return this.same?this.$store.state.ServiceManager.wechat:"edit"==this.mode&&"editing"==this.status?this.innerItem.wechat:this.$store.state.BDManager.wechat},set:function(e){"edit"==this.mode&&"editing"==this.status?this.innerItem.wechat=e:this.updateWechat(e)}},same:{get:function(){return"edit"==this.mode&&"editing"==this.status?this.innerItem.same:!!this.$store.state.BDManager.same},set:function(e){"edit"==this.mode&&"editing"==this.status?this.innerItem.same=e:this.updateSame(e)}}},methods:m()({handleChange:function(e){e||"create"==this.mode&&(this.name=this.$store.state.ServiceManager.name,this.mobile=this.$store.state.ServiceManager.mobile,this.wechat=this.$store.state.ServiceManager.wechat,this.email=this.$store.state.ServiceManager.email)},handleEdit:function(){this.status="editing",this.innerItem=u()({},this.$store.state.BDManager)},handleComplete:function(){this.status="",this.updateItem(this.innerItem)},handleCancel:function(){this.status=""},validate:function(e){this.$refs.form.validate(e)}},Object(w.b)("BDManager",["updateItem","updateName","updateWechat","updateMobile","updateEmail","updateSame"])),watch:{}},he={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CollapsePanel",{staticClass:"gap-2",attrs:{expand:e.expand}},[a("div",{staticClass:"clearfix",attrs:{slot:"header","align-left":""},slot:"header"},[a("span",{staticStyle:{"margin-right":"30px"}},[e._v("BD经理")]),a("span",{staticStyle:{"margin-left":"-20px","font-size":"14px",color:"#4e4e4e"}},[e._v("(为门店提供各种商务服务，一般由代理商指派，首次添加后交由代理商维护)")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"!==e.status,expression:"mode === 'edit' && status !== 'editing'"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleEdit}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"danger",size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"success",size:"mini"},on:{click:e.handleComplete}},[e._v("完成")])],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"create"===e.mode||"edit"===e.mode&&"editing"===e.status,expression:"mode === 'create' || mode === 'edit' && status === 'editing'"}],ref:"form",attrs:{model:this,rules:e.rules,"label-width":"180px"}},[a("el-form-item",{attrs:{label:"和服务经理同一人"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#aaa"},on:{change:e.handleChange},model:{value:e.same,callback:function(t){e.same=t},expression:"same"}})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{readonly:e.same,maxlength:"20"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{attrs:{readonly:e.same},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信号"}},[a("el-input",{attrs:{readonly:e.same,maxlength:"20"},model:{value:e.wechat,callback:function(t){e.wechat=t},expression:"wechat"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{readonly:e.same},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1)],1)],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"view"===e.mode||"edit"===e.mode&&""===e.status,expression:"mode === 'view' || mode === 'edit' && status === ''"}],attrs:{model:e.innerItem,"label-width":"180px"}},[a("el-form-item",{attrs:{label:"和服务经理同一人"}},[e._v("\n            "+e._s(e.same?"是":"否")+"\n        ")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名"}},[e._v("                        \n                    "+e._s(e.name)+"\n                ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号"}},[e._v("                        \n                    "+e._s(e.mobile)+"\n                ")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信号"}},[e._v("                        \n                    "+e._s(e.wechat)+"\n                ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱"}},[e._v("                        \n                    "+e._s(e.email)+"\n                ")])],1)],1)],1)],1)},staticRenderFns:[]};var ge=a("VU/8")(fe,he,!1,function(e){a("cYOs")},"data-v-77dc2ea1",null).exports,ve={name:"agentCommissionRatio",components:{CollapsePanel:s},props:{item:Object,mode:{type:String,default:"view"}},data:function(){return{expand:!0,status:"",innerItem:u()({},this.item)}},computed:{ratio:h("ratio","AgentCommissionRatio","updateRatio"),remark:h("remark","AgentCommissionRatio","updateRemark")},methods:m()({handleEdit:function(){this.status="editing",this.innerItem=u()({},this.$store.state.AgentCommissionRatio)},handleComplete:function(){this.status="",this.updateItem(this.innerItem)},handleCancel:function(){this.status=""},validate:function(e){this.$refs.form.validate(e)}},Object(w.b)("AgentCommissionRatio",["updateItem","updateRatio","updateRemark"])),watch:{}},be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CollapsePanel",{staticClass:"gap-2",attrs:{expand:e.expand}},[a("div",{staticClass:"clearfix",attrs:{slot:"header","align-left":""},slot:"header"},[a("span",{staticStyle:{"margin-right":"30px"}},[e._v("代理商提佣比率")]),a("span",{staticStyle:{"margin-left":"-20px","font-size":"14px",color:"#4e4e4e"}},[e._v("(代理商扩展1个门店所商定的返佣比率，比如代理商分6成，悟空分4成，提拥比率为60%)")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"!==e.status,expression:"mode === 'edit' && status !== 'editing'"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleEdit}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"danger",size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"success",size:"mini"},on:{click:e.handleComplete}},[e._v("完成")])],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"create"===e.mode||"edit"===e.mode&&"editing"===e.status,expression:"mode === 'create' || mode === 'edit' && status === 'editing'"}],ref:"form",attrs:{model:e.innerItem,"label-width":"180px"}},[a("el-form-item",{attrs:{label:"代理商提佣比率"}},[a("el-input",{attrs:{type:"number"},model:{value:e.ratio,callback:function(t){e.ratio=t},expression:"ratio"}},[a("template",{slot:"append"},[e._v("%")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注信息"}},[a("el-input",{model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"view"===e.mode||"edit"===e.mode&&""===e.status,expression:"mode === 'view' || mode === 'edit' && status === ''"}],attrs:{model:e.innerItem,"label-width":"180px"}},[a("el-form-item",{attrs:{label:"代理商提佣比率"}},[e._v("\n            "+e._s(e.ratio)+"%                    \n        ")]),e._v(" "),a("el-form-item",{attrs:{label:"备注信息"}},[e._v("\n            "+e._s(e.remark)+"\n        ")])],1)],1)},staticRenderFns:[]};var ye=a("VU/8")(ve,be,!1,function(e){a("RwoK")},"data-v-2e02409a",null).exports,_e={name:"agentCommissionAccount",components:{CollapsePanel:s},props:{item:Object,mode:{type:String,default:"view"}},data:function(){return{expand:!0,status:"",innerItem:{}}},computed:{bankName:h("bankName","AgentCommissionAccount","updateBankName"),subbankName:h("subbankName","AgentCommissionAccount","updateSubbankName"),accountName:h("accountName","AgentCommissionAccount","updateAccountName"),receiptAccount:h("receiptAccount","AgentCommissionAccount","updateReceiptAccount"),visible:function(){return this.$store.state.AgentCompanyInfo.signed}},methods:m()({handleEdit:function(){this.status="editing",this.innerItem=u()({},this.$store.state.AgentCommissionAccount)},handleComplete:function(){this.status="",this.updateItem(this.innerItem)},handleCancel:function(){this.status=""},validate:function(e){this.$refs.form.validate(e)}},Object(w.b)("AgentCommissionAccount",["updateItem","updateBankName","updateSubbankName","updateReceiptAccount","updateAccountName"])),watch:{}},Ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CollapsePanel",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"gap-2",attrs:{expand:e.expand}},[a("div",{staticClass:"clearfix",attrs:{slot:"header","align-left":""},slot:"header"},[a("span",{staticStyle:{"margin-right":"30px"}},[e._v("分佣账号")]),e._v(" "),a("span",{staticStyle:{"margin-left":"-20px","font-size":"14px",color:"#4e4e4e"}},[e._v("(代理商接受返佣的银行账户)")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"!==e.status,expression:"mode === 'edit' && status !== 'editing'"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleEdit}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"danger",size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"success",size:"mini"},on:{click:e.handleComplete}},[e._v("完成")])],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"create"===e.mode||"edit"===e.mode&&"editing"===e.status,expression:"mode === 'create' || mode === 'edit' && status === 'editing'"}],ref:"form",attrs:{model:e.innerItem,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"银行名称"}},[a("el-input",{model:{value:e.bankName,callback:function(t){e.bankName=t},expression:"bankName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"账号名称"}},[a("el-input",{model:{value:e.accountName,callback:function(t){e.accountName=t},expression:"accountName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"支行名称"}},[a("el-input",{model:{value:e.subbankName,callback:function(t){e.subbankName=t},expression:"subbankName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收款账号"}},[a("el-input",{model:{value:e.receiptAccount,callback:function(t){e.receiptAccount=t},expression:"receiptAccount"}})],1)],1)],1)],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"view"===e.mode||"edit"===e.mode&&""===e.status,expression:"mode === 'view' || mode === 'edit' && status === ''"}],attrs:{model:e.item,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"银行名称"}},[e._v("\n                    "+e._s(e.bankName)+"\n                ")]),e._v(" "),a("el-form-item",{attrs:{label:"账号名称"}},[e._v("\n                    "+e._s(e.accountName)+"\n                ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"支行名称"}},[e._v("\n                    "+e._s(e.subbankName)+"\n                ")]),e._v(" "),a("el-form-item",{attrs:{label:"收款账号"}},[e._v("\n                    "+e._s(e.receiptAccount)+"\n                ")])],1)],1)],1)],1)},staticRenderFns:[]};var we=a("VU/8")(_e,Ie,!1,function(e){a("RSg1")},"data-v-443ef7a7",null).exports,Ce={name:"platformServiceFee",components:{CollapsePanel:s},props:{item:Object,mode:{type:String,default:"view"}},data:function(){return{expand:!0,status:"",innerItem:{}}},computed:{fee:h("fee","PlatformServiceFee","updateFee"),month:h("month","PlatformServiceFee","updateMonth"),prefee:h("prefee","PlatformServiceFee","updatePrefee"),premonth:h("premonth","PlatformServiceFee","updatePremonth"),paymentType:h("paymentType","PlatformServiceFee","updatePaymentType"),count:h("count","PlatformServiceFee","updateCount")},methods:m()({handleEdit:function(){this.status="editing",this.innerItem=u()({},this.$store.state.PlatformServiceFee)},handleComplete:function(){this.status="",this.updateItem(this.innerItem)},handleCancel:function(){this.status=""},validate:function(e){this.$refs.form.validate(e)}},Object(w.b)("PlatformServiceFee",["updateItem","updateFee","updateMonth","updatePrefee","updatePremonth","updatePaymentType","updateCount","updateDividingInfo"])),watch:{}},ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("CollapsePanel",{staticClass:"gap-2",attrs:{expand:e.expand}},[a("div",{staticClass:"clearfix",attrs:{slot:"header","align-left":""},slot:"header"},[a("span",{staticStyle:{"margin-right":"30px"}},[e._v("平台服务费")]),e._v(" "),a("span",{staticStyle:{"margin-left":"-20px","font-size":"14px",color:"#4e4e4e"}},[e._v("(代理商支付给悟空总部的费用)")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"!==e.status,expression:"mode === 'edit' && status !== 'editing'"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleEdit}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"danger",size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"success",size:"mini"},on:{click:e.handleComplete}},[e._v("完成")])],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"create"===e.mode||"edit"===e.mode&&"editing"===e.status,expression:"mode === 'create' || mode === 'edit' && status === 'editing'"}],ref:"form",attrs:{model:e.item,"label-width":"180px"}},[a("el-row",[a("el-col",{staticClass:"service-fee",attrs:{span:12}},[a("el-form-item",{attrs:{label:"平台服务费"}},[a("el-input",{attrs:{type:"number"},model:{value:e.fee,callback:function(t){e.fee=t},expression:"fee"}},[a("template",{slot:"append"},[e._v("元")])],2),a("el-input",{attrs:{type:"number"},model:{value:e.month,callback:function(t){e.month=t},expression:"month"}},[a("template",{slot:"append"},[e._v("个月")])],2)],1)],1),e._v(" "),a("el-col",{staticClass:"service-fee",attrs:{span:12}},[a("el-form-item",{attrs:{label:"保证金"}},[a("el-input",{attrs:{type:"number"},model:{value:e.prefee,callback:function(t){e.prefee=t},expression:"prefee"}},[a("template",{slot:"append"},[e._v("元")])],2),a("el-input",{attrs:{type:"number"},model:{value:e.premonth,callback:function(t){e.premonth=t},expression:"premonth"}},[a("template",{slot:"append"},[e._v("个月")])],2)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"费用支付方式"}},[a("el-switch",{attrs:{"active-text":"分期","inactive-text":"一次性","active-value":2,"inactive-value":1},model:{value:e.paymentType,callback:function(t){e.paymentType=t},expression:"paymentType"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.paymentType,expression:"paymentType == 2"}],attrs:{label:"分期次数"}},[a("el-input",{attrs:{type:"number"},model:{value:e.count,callback:function(t){e.count=t},expression:"count"}},[a("template",{slot:"append"},[e._v("期")])],2)],1)],1)],1)],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"view"===e.mode||"edit"===e.mode&&""===e.status,expression:"mode === 'view' || mode === 'edit' && status === ''"}],attrs:{model:e.item,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"平台服务费"}},[e._v("\n                        "+e._s(e.fee)+"元"+e._s(e.month)+"个月                            \n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"保证金"}},[e._v("\n                        "+e._s(e.prefee)+"元"+e._s(e.premonth)+"个月                    \n                    ")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"费用支付方式"}},[e._v("\n                        "+e._s(("2"==e.paymentType?"分期":"1"==e.paymentType&&"一次性")||"")+"                            \n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.paymentType,expression:"paymentType == 2"}],attrs:{label:"分期次数"}},[e._v("\n                        "+e._s(e.count)+"期                            \n                    ")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var xe=a("VU/8")(Ce,ke,!1,function(e){a("LGZl")},"data-v-0bf2354a",null).exports,Se={name:"",components:{CollapsePanel:s},props:{item:Object,mode:{type:String,default:"view"}},data:function(){return{expand:!0,status:"",innerItem:[],format:"yyyy-MM-dd",valueFormat:"yyyy-MM-dd"}},methods:m()({handleEdit:function(){this.status="editing";for(var e=[],t=this.$store.state.DividingInfo.dividingInfo.length,a=this.$store.state.DividingInfo.dividingInfo,i=0;i<t;i++)e.push(u()({},a[i]));this.innerItem=e},handleComplete:function(){this.status="",this.updateItems(this.innerItem)},handleCancel:function(){this.status=""},handleInputDate:function(e,t,a){a.date=e,this.updateItem(m()({},a,{index:t}))},handleInputFee:function(e,t,a){a.fee=e,this.updateItem(m()({},a,{index:t}))},add:function(){this.dividingInfo.push({date:"",fee:""}),this.dividingInfo=this.dividingInfo},handleRemove:function(e){"create"==this.mode?this.removeItem(e):this.innerItem.splice(e,1)},validate:function(e){this.$refs.form.validate(e)}},Object(w.b)("DividingInfo",["updateItems","updateItem","removeItem"]),{getDateStr:g}),computed:{dividingInfo:{get:function(){return"edit"==this.mode&&"editing"==this.status?this.innerItem:this.$store.state.DividingInfo.dividingInfo},set:function(e){"edit"==this.mode&&"editing"==this.status?this.innerItem=e:this.updateItems(e)}},visible:function(){return"2"==this.$store.state.PlatformServiceFee.paymentType}}},Le={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CollapsePanel",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"gap-2",attrs:{expand:e.expand}},[a("div",{staticClass:"clearfix",attrs:{slot:"header","align-left":""},slot:"header"},[a("span",{staticStyle:{"margin-right":"30px"}},[e._v("分期付款约定")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"!==e.status,expression:"mode === 'edit' && status !== 'editing'"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleEdit}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"danger",size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"success",size:"mini"},on:{click:e.handleComplete}},[e._v("完成")])],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"create"===e.mode||"edit"===e.mode&&"editing"===e.status,expression:"mode === 'create' || mode === 'edit' && status === 'editing'"}],ref:"form",attrs:{model:e.item,"label-width":"180px"}},[e._l(e.dividingInfo,function(t,i){return a("el-row",{key:i,staticClass:"data-row"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"第"+(+i+1)+"期"}},[a("el-date-picker",{attrs:{value:t.date,type:"date",format:e.format,"value-format":e.valueFormat,placeholder:"选择日期"},on:{input:function(a){e.handleInputDate(a,i,t)}}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"前支付平台服务费"}},[a("el-input",{attrs:{type:"number",value:t.fee},on:{input:function(a){e.handleInputFee(a,i,t)}}},[a("template",{slot:"append"},[e._v("元")])],2)],1)],1),e._v(" "),a("el-button",{staticClass:"btn-remove",attrs:{type:"text"},on:{click:function(a){e.handleRemove(i,t)}}},[a("i",{staticClass:"el-icon-error"})])],1)}),e._v(" "),a("el-button",{on:{click:e.add}},[e._v("+ 添加期数")])],2),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"view"===e.mode||"edit"===e.mode&&""===e.status,expression:"mode === 'view' || mode === 'edit' && status === ''"}],attrs:{model:e.item,"label-width":"180px"}},e._l(e.dividingInfo,function(t,i){return a("el-row",{key:i},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"第"+(+i+1)+"期"}},[e._v("\n                    "+e._s(e.getDateStr(t.date))+"\n                ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"前支付平台服务费"}},[e._v("\n                    "+e._s(t.fee)+"元                  \n                ")])],1)],1)}))],1)},staticRenderFns:[]};var $e=a("VU/8")(Se,Le,!1,function(e){a("i3CA")},"data-v-754a8927",null).exports,Ne={name:"paymentInfo",components:{CollapsePanel:s,Upload:K,FileList:ee},props:{item:Object,mode:{type:String,default:"view"}},data:function(){return{expand:!0,types:[{label:"汇款",value:1},{label:"支付宝",value:2},{label:"其他",value:3}],status:"",innerItem:{},format:"yyyy-MM-dd",valueFormat:"yyyy-MM-dd"}},methods:m()({handleEdit:function(){this.status="editing",this.innerItem=JSON.parse(l()(this.$store.state.PaymentInfo||{}))},handleComplete:function(){this.status="",this.updateItem(this.innerItem)},handleCancel:function(){this.status=""},validate:function(e){this.$refs.form.validate(e)},getDateStr:g},Object(w.b)("PaymentInfo",["updateItem","updatePaymentStatus","updateType","updateActualPayment","updateContainPayment","updateNumber","updateSubbankName","updateFileList","updateRemark","updateStageNumber","updatePlanPaymentDate","updateBrokerName","updateBrokerMobile","updatePromiseFileList"])),watch:{},computed:{paymentStatus:h("paymentStatus","PaymentInfo","updatePaymentStatus"),type:h("type","PaymentInfo","updateType"),actualPayment:h("actualPayment","PaymentInfo","updateActualPayment"),containPayment:h("containPayment","PaymentInfo","updateContainPayment"),number:h("number","PaymentInfo","updateNumber"),subbankName:h("subbankName","PaymentInfo","updateSubbankName"),fileList:h("fileList","PaymentInfo","updateFileList"),remark:h("remark","PaymentInfo","updateRemark"),stageNumber:h("stageNumber","PaymentInfo","updateStageNumber"),planPaymentDate:h("planPaymentDate","PaymentInfo","updatePlanPaymentDate"),brokerName:h("brokerName","PaymentInfo","updateBrokerName"),brokerMobile:h("brokerMobile","PaymentInfo","updateBrokerMobile"),promiseFileList:h("promiseFileList","PaymentInfo","updatePromiseFileList"),paymentTypeStr:function(){var e=this,t=this.types.filter(function(t){return t.value==e.type});return t&&t.length?t[0].label:this.type},paymentMethod:function(){return this.$store.state.PlatformServiceFee.paymentType},stages:function(){var e=this.$store.state.PlatformServiceFee.count||0;2!=this.$store.state.PlatformServiceFee.paymentType&&(e=1);var t=[];t.push({val:-1,label:"请选择第几期"});for(var a=0;a<e;a++)t.push({val:a+1,label:"第"+(a+1)+"期"});return t}}},Te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CollapsePanel",{staticClass:"gap-2",attrs:{expand:e.expand}},[a("div",{staticClass:"clearfix",attrs:{slot:"header","align-left":""},slot:"header"},[a("span",{staticStyle:{"margin-right":"30px"}},[e._v("付款信息")]),a("span",{staticStyle:{"margin-left":"-20px","font-size":"14px",color:"#4e4e4e"}},[e._v("(代理商支付的实际发生的合作费用)")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"!==e.status,expression:"mode === 'edit' && status !== 'editing'"}],attrs:{type:"primary",size:"mini"},on:{click:e.handleEdit}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"danger",size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode&&"editing"===e.status,expression:"mode === 'edit' && status === 'editing'"}],attrs:{type:"success",size:"mini"},on:{click:e.handleComplete}},[e._v("完成")])],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"create"===e.mode||"edit"===e.mode&&"editing"===e.status,expression:"mode === 'create' || mode === 'edit' && status === 'editing'"}],ref:"form",attrs:{model:e.item,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"支付情况"}},[a("el-switch",{attrs:{"active-text":"已支付","inactive-text":"未支付"},model:{value:e.paymentStatus,callback:function(t){e.paymentStatus=t},expression:"paymentStatus"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.paymentStatus,expression:"paymentStatus"}],attrs:{label:"支付方式"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.types,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.paymentStatus,expression:"!paymentStatus"}],attrs:{label:"预计支付时间"}},[a("el-date-picker",{attrs:{type:"date",format:e.format,"value-format":e.valueFormat,placeholder:"选择日期"},model:{value:e.planPaymentDate,callback:function(t){e.planPaymentDate=t},expression:"planPaymentDate"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.paymentStatus,expression:"paymentStatus"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"实际支付"}},[a("el-input",{attrs:{type:"number"},model:{value:e.actualPayment,callback:function(t){e.actualPayment=t},expression:"actualPayment"}},[a("template",{slot:"append"},[e._v("元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"费用包含"}},[a("el-checkbox-group",{model:{value:e.containPayment,callback:function(t){e.containPayment=t},expression:"containPayment"}},[a("el-checkbox",{attrs:{label:1}},[e._v("平台服务费")]),e._v(" "),a("el-checkbox",{attrs:{label:2}},[e._v("保证金")])],1)],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.paymentStatus,expression:"paymentStatus"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"汇款单号"}},[a("el-input",{model:{value:e.number,callback:function(t){e.number=t},expression:"number"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"汇款支行"}},[a("el-input",{model:{value:e.subbankName,callback:function(t){e.subbankName=t},expression:"subbankName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.paymentStatus,expression:"paymentStatus"}],attrs:{label:"上传汇款凭证"}},["create"===e.mode||"edit"===e.mode&&"editing"===e.status?a("upload",{attrs:{fileList:e.fileList},on:{"update:fileList":function(t){e.fileList=t}}}):e._e()],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.paymentStatus&&2==e.paymentMethod,expression:"paymentStatus && paymentMethod == 2"}],attrs:{label:"支付费用归属第几期"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.stageNumber,callback:function(t){e.stageNumber=t},expression:"stageNumber"}},e._l(e.stages,function(e){return a("el-option",{key:e.val,attrs:{label:e.label,value:e.val}})}))],1)],1)],1),e._v(" "),e.paymentStatus?e._e():a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"代理商对接人"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.brokerName,callback:function(t){e.brokerName=t},expression:"brokerName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"代理商对接人手机号"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.brokerMobile,callback:function(t){e.brokerMobile=t},expression:"brokerMobile"}})],1)],1)],1),e._v(" "),e.paymentStatus?e._e():a("el-form-item",{attrs:{label:"承诺支付书"}},["create"===e.mode||"edit"===e.mode&&"editing"===e.status?a("upload",{attrs:{fileList:e.promiseFileList},on:{"update:fileList":function(t){e.promiseFileList=t}}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"备注信息"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"view"===e.mode||"edit"===e.mode&&""===e.status,expression:"mode === 'view' || mode === 'edit' && status === ''"}],attrs:{model:e.item,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"支付情况"}},[e._v("\n                    "+e._s(e.paymentStatus?"已支付":"未支付")+"                        \n                ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.paymentStatus,expression:"paymentStatus"}],attrs:{label:"支付方式"}},[e._v("\n                    "+e._s(e.paymentTypeStr)+"                        \n                ")]),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.paymentStatus,expression:"!paymentStatus"}],attrs:{label:"预计支付时间"}},[e._v("\n                    "+e._s(e.getDateStr(e.planPaymentDate))+"                        \n                ")])],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.paymentStatus,expression:"paymentStatus"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"实际支付"}},[e._v("\n                        "+e._s(e.actualPayment)+"元                        \n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"费用包含"}},[e._v("\n                        "+e._s(e.containPayment&&e.containPayment.indexOf(1)>-1?"平台服务费":"")+" \n                        "+e._s(e.containPayment&&e.containPayment.indexOf(2)>-1?"保证金":"")+"\n                    ")])],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.paymentStatus,expression:"paymentStatus"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"汇款单号"}},[e._v("\n                        "+e._s(e.number)+"                        \n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"汇款支行"}},[e._v("\n                        "+e._s(e.subbankName)+"                        \n                    ")])],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.paymentStatus,expression:"paymentStatus"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.paymentStatus,expression:"paymentStatus"}],attrs:{label:"上传汇款凭证"}},[a("file-list",{attrs:{fileList:e.fileList}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.paymentStatus&&2==e.paymentMethod,expression:"paymentStatus && paymentMethod == 2"}],attrs:{label:"支付费用归属第几期"}},[e._v("                                    \n                        "+e._s((-1==e.stageNumber?"请选择第几期":null!=e.stageNumber&&"第"+e.stageNumber+"期")||"")+"               \n                    ")])],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:!e.paymentStatus,expression:"!paymentStatus"}]},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"代理商对接人"}},[e._v("\n                        "+e._s(e.brokerName)+"                        \n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"代理商对接人手机号"}},[e._v("\n                        "+e._s(e.brokerMobile)+"                        \n                    ")])],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.paymentStatus,expression:"!paymentStatus"}],attrs:{label:"承诺支付书"}},[a("file-list",{attrs:{fileList:e.promiseFileList}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注信息"}},[e._v("\n            "+e._s(e.remark)+"                \n        ")])],1)],1)},staticRenderFns:[]};var Ae=a("VU/8")(Ne,Te,!1,function(e){a("U/Rp")},"data-v-77ccbbe2",null).exports,Fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-breadcrumb",{attrs:{separator:"/"}},e._l(e.innerItems,function(t){return a("el-breadcrumb-item",{key:t.text},[e._v(e._s(t.text))])}))},staticRenderFns:[]};var Pe=a("VU/8")({name:"breadCrumb",props:["items"],data:function(){return{innerItems:this.items}}},Fe,!1,function(e){a("H9Zb")},null,null).exports,ze={name:"CreateAgent",components:{CollapsePanel:s,ServiceStaffInfo:x,PartnerInfoes:T,AgentBasicInfo:j,AgentArea:W,AgentCompanyInfo:ne,CorporateInfo:oe,ContractInfo:me,ServiceManager:pe,BDManager:ge,AgentCommissionRatio:ye,AgentCommissionAccount:we,PlatformServiceFee:xe,PaymentInfo:Ae,DividingInfo:$e,Region:E,BreadCrumb:Pe},data:function(){return{breadCrumb:[{text:"加盟管理"},{text:"代理商"},{text:"添加代理商"}],regionData:[{label:"北京",value:"北京",children:[{label:"北京市",value:"北京市"},{label:"北京周边",value:"北京周边"}]}],arr:[],initId:"33",active:0,stepNumber:6,mode:"create"}},methods:{next:function(){if(this.active!=this.stepNumber){var e=[];switch(this.active){case 0:e.push("partnerInfoes");break;case 1:break;case 2:e.push("agentCompanyInfo"),e.push("corporateInfo");break;case 3:e.push("serviceManager"),e.push("bdManager")}for(var t=0,a=0;a<e.length;a++)this.$refs[e[a]].validate(function(e){e&&t++});t==e.length&&this.active++}},prev:function(){0!=this.active&&this.active--},submit:function(){var e=this,t=_(this.$store.state);this.$confirm("一旦提交，在审核结果之前将不可再修改，你还要确定要提交吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.put(e.$apiUrl.agent.create,t).then(function(t){e.active++})}).catch(function(){})},handleClose:function(){history.back()},back:function(){history.back()}},created:function(){this.$store.dispatch("clear")}},Re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("el-steps",{staticClass:"step-container gap-2",attrs:{"align-center":"",active:e.active,"finish-status":"success"}},[a("el-step",{attrs:{title:"合作资料"}}),e._v(" "),a("el-step",{attrs:{title:"代理区域"}}),e._v(" "),a("el-step",{attrs:{title:"代理商资料"}}),e._v(" "),a("el-step",{attrs:{title:"服务信息"}}),e._v(" "),a("el-step",{attrs:{title:"佣金信息"}}),e._v(" "),a("el-step",{attrs:{title:"平台服务费"}}),e._v(" "),a("el-step",{attrs:{title:"提交审核"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.active,expression:"active == 0"}]},[a("service-staff-info",{ref:"serviceStaffInfo",attrs:{mode:e.mode}}),e._v(" "),a("partner-infoes",{ref:"partnerInfoes",attrs:{mode:e.mode}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.active,expression:"active == 1"}]},[a("agent-basic-info",{ref:"agentBasicInfo",attrs:{mode:e.mode}}),e._v(" "),a("agent-area",{ref:"agentArea",attrs:{mode:e.mode}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.active,expression:"active == 2"}]},[a("agent-company-info",{ref:"agentCompanyInfo",attrs:{mode:e.mode}}),e._v(" "),a("corporate-info",{ref:"corporateInfo",attrs:{mode:e.mode}}),e._v(" "),a("contract-info",{ref:"contractInfo",attrs:{mode:e.mode}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==e.active,expression:"active == 3"}]},[a("service-manager",{ref:"serviceManager",attrs:{mode:e.mode}}),e._v(" "),a("b-d-manager",{ref:"bdManager",attrs:{mode:e.mode}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:4==e.active,expression:"active == 4"}]},[a("agent-commission-ratio",{ref:"agentCommissionRatio",attrs:{mode:e.mode}}),e._v(" "),a("agent-commission-account",{ref:"agentCommissionAccount",attrs:{mode:e.mode}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:5==e.active,expression:"active == 5"}]},[a("platform-service-fee",{ref:"platformServiceFee",attrs:{mode:e.mode}}),e._v(" "),a("dividing-info",{ref:"dividingInfo",attrs:{mode:e.mode}}),e._v(" "),a("payment-info",{ref:"paymentInfo",attrs:{mode:e.mode}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:6==e.active,expression:"active == 6"}],staticStyle:{"text-align":"center","margin-top":"200px"}},[a("p",[e._v("提交成功了，请等待审核结果")]),e._v(" "),a("p",[e._v("如若着急，请联系相关学长学姐^_^")]),e._v(" "),a("el-button",{staticStyle:{"margin-top":"50px",width:"160px"},attrs:{type:"success"},on:{click:e.handleClose}},[e._v("确定")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:7==e.active,expression:"active == 7"}]}),e._v(" "),a("el-button-group",{staticClass:"gap-2",staticStyle:{"margin-left":"auto","margin-right":"auto",width:"200px",display:"block"}},[e.active>0&&e.active<e.stepNumber?a("el-button",{attrs:{type:"primary"},on:{click:e.prev}},[e._v("上一步")]):e._e(),e.active<e.stepNumber-1?a("el-button",{attrs:{type:"primary"},on:{click:e.next}},[e._v("下一步")]):e._e(),e.active==e.stepNumber-1?a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提  交")]):e._e()],1),e._v(" "),a("el-button",{staticStyle:{position:"fixed",top:"20px",right:"50px"},on:{click:e.back}},[e._v("返回")])],1)],1)},staticRenderFns:[]};var De=a("VU/8")(ze,Re,!1,function(e){a("wPiZ")},"data-v-8356b91c",null).exports,Me={name:"platformServiceFeeVerify",components:{AgentCommissionRatio:ye,AgentCommissionAccount:we,PlatformServiceFee:xe,PaymentInfo:Ae,BreadCrumb:Pe,DividingInfo:$e},data:function(){return{breadCrumb:[{text:"首次加盟审核"},{text:"平台服务费审核"},{text:"审核"}],visible:!1,historyRecords:[]}},methods:{handleApprove:function(){var e=this;this.$prompt("","通过",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"textarea",inputPlaceholder:"备注",customClass:"dialog-pass",inputValidator:function(e){return!(e&&e.length>500)||"最多输入500个字符"}}).then(function(t){var a=t.value;e.$http.post(e.$apiUrl.platformServiceFeeVerify.approve,{targetId:+e.$route.params.id,targetType:1,remark:a,auditType:2}).then(function(){e.$message({type:"success",message:"通过成功!",onClose:function(){history.back()}})}).catch(function(t){console.log(t),e.$message({type:"error",message:t.message||"通过失败!"})})})},handleClose:function(){history.back()},handleReject:function(){var e=this;this.$prompt("","驳回",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"textarea",inputPlaceholder:"请输入驳回理由",customClass:"dialog-reject",inputValidator:function(e){return null==e||""==e?"驳回理由必填:)":!(e&&e.length>500)||"最多输入500个字符"}}).then(function(t){var a=t.value;e.$http.post(e.$apiUrl.platformServiceFeeVerify.reject,{targetId:+e.$route.params.id,targetType:1,remark:a,auditType:2}).then(function(){e.$message({type:"success",message:"驳回成功",onClose:function(){history.back()}})}).catch(function(t){e.$message({type:"error",message:"驳回失败"})})})},refresh:function(){var e=this;this.$store.dispatch({type:"getAgent",agentId:this.$route.params.id,agentState:this.$route.query.state||0}),this.$http.post(this.$apiUrl.materialVerify.historyRecords,{targetId:this.$route.params.id,targetType:1,auditType:2}).then(function(t){e.historyRecords=t.data.data})}},created:function(){this.refresh()}},Ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("agent-commission-ratio"),e._v(" "),a("agent-commission-account"),e._v(" "),a("platform-service-fee"),e._v(" "),a("dividing-info"),e._v(" "),a("payment-info"),e._v(" "),a("div",{staticClass:"gap-2"},[a("el-button",{staticStyle:{width:"140px"},attrs:{type:"danger"},on:{click:e.handleReject}},[e._v("驳回")]),e._v(" "),a("el-button",{staticStyle:{width:"140px"},attrs:{type:"primary"},on:{click:e.handleApprove}},[e._v("通过")]),e._v(" "),a("el-button",{staticStyle:{width:"140px"},attrs:{type:""},on:{click:e.handleClose}},[e._v("关闭")])],1),e._v(" "),a("h2",{staticClass:"gap-2"},[e._v("历史审核记录")]),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-bottom":"40px"},attrs:{data:e.historyRecords,stripe:""}},[a("el-table-column",{attrs:{prop:"operatetime",label:"提交时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"审核时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"result",label:"审核状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"驳回理由"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditorName",label:"审核人"}})],1)],1)],1)},staticRenderFns:[]};var Be=a("VU/8")(Me,Ue,!1,function(e){a("ND93")},null,null).exports,Ee={name:"materialVerify",components:{ServiceStaffInfo:x,PartnerInfoes:T,AgentBasicInfo:j,AgentArea:W,AgentCompanyInfo:ne,CorporateInfo:oe,ContractInfo:me,ServiceManager:pe,BDManager:ge,BreadCrumb:Pe},data:function(){return{serviceStaffInfo:{bdInfo:{},cxInfo:{},directorInfo:{}},partnerInfoes:{},agentBasicInfo:{},agentArea:{},agentCompanyInfo:{},corporateInfo:{},contractInfo:{},serviceManager:{},bdManager:{},breadCrumb:[{text:"首次加盟审核"},{text:"资料审核"},{text:"审核"}],historyRecords:[]}},methods:{refresh:function(){var e=this;this.$store.dispatch({type:"getAgent",agentId:this.$route.params.id,agentState:this.$route.query.state||0}),this.$http.post(this.$apiUrl.materialVerify.historyRecords,{targetId:this.$route.params.id,targetType:1,auditType:1}).then(function(t){e.historyRecords=t.data.data})},handleApprove:function(){var e=this;this.$prompt("","通过",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"textarea",inputPlaceholder:"备注",customClass:"dialog-pass",inputValidator:function(e){return!(e&&e.length>500)||"最多输入500个字符"}}).then(function(t){var a=t.value;e.$http.post(e.$apiUrl.materialVerify.approve,{targetId:+e.$route.params.id,targetType:1,remark:a,auditType:1}).then(function(){e.$message({type:"success",message:"通过成功!",onClose:function(){history.back()}})}).catch(function(t){console.log(t),e.$message({type:"error",message:t.message||"通过失败!"})})})},handleClose:function(){history.back()},handleReject:function(){var e=this;this.$prompt("","驳回",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"textarea",inputPlaceholder:"请输入驳回理由",customClass:"dialog-reject",inputValidator:function(e){return null==e||""==e?"驳回理由必填":!(e&&e.length>500)||"最多输入500个字符"}}).then(function(t){var a=t.value;e.$http.post(e.$apiUrl.materialVerify.reject,{targetId:+e.$route.params.id,targetType:1,remark:a,auditType:1}).then(function(){e.$message({type:"success",message:"驳回成功",onClose:function(){history.back()}})}).catch(function(t){e.$message({type:"error",message:"驳回失败"})})})}},created:function(){this.refresh()}},qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("service-staff-info",{attrs:{item:e.serviceStaffInfo}}),e._v(" "),a("partner-infoes",{attrs:{item:e.partnerInfoes}}),e._v(" "),a("agent-basic-info",{attrs:{item:e.agentBasicInfo}}),e._v(" "),a("agent-area",{attrs:{item:e.agentArea}}),e._v(" "),a("agent-company-info",{attrs:{item:e.agentCompanyInfo}}),e._v(" "),a("corporate-info",{attrs:{item:e.corporateInfo}}),e._v(" "),a("contract-info",{attrs:{item:e.contractInfo}}),e._v(" "),a("service-manager",{attrs:{item:e.serviceManager}}),e._v(" "),a("b-d-manager",{attrs:{item:e.bdManager}}),e._v(" "),a("div",{staticClass:"gap-2"},[a("el-button",{staticStyle:{width:"140px"},attrs:{type:"danger"},on:{click:e.handleReject}},[e._v("驳回")]),e._v(" "),a("el-button",{staticStyle:{width:"140px"},attrs:{type:"primary"},on:{click:e.handleApprove}},[e._v("通过")]),e._v(" "),a("el-button",{staticStyle:{width:"140px"},attrs:{type:""},on:{click:e.handleClose}},[e._v("关闭")])],1),e._v(" "),a("h2",{staticClass:"gap-2"},[e._v("历史审核记录")]),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-bottom":"40px"},attrs:{data:e.historyRecords,stripe:""}},[a("el-table-column",{attrs:{prop:"operatetime",label:"提交时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"审核时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"result",label:"审核状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"驳回理由"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditorName",label:"审核人"}})],1)],1)],1)},staticRenderFns:[]};var Ve=a("VU/8")(Ee,qe,!1,function(e){a("zT3f")},null,null).exports,je={name:"editorCompany",props:["companyId","title"],components:{Region:E,Upload:K},data:function(){return{agencyInfoList:[],bdInfoList:[],dialogVisible:!1,startLevel:1,endLevel:2,form:{abbreviation:"",address:"",agencyId:"",bds:[],businessType:"",cityId:"",cityList:[],corporate:"",corporatePhone:"",cooperationTime:[],companyId:"",deposit:"",files:[],name:"",organizationCode:"",provinceId:"",resource:[]},rules:{businessType:[{required:!0,message:"请输入业务",trigger:"blur"}],name:[{required:!0,message:"请输入公司名称",trigger:"blur"}],abbreviation:[{required:!0,message:"请输入公司简称",trigger:"blur"}],cityList:[{required:!0,message:"请输入城市",trigger:"blur"}],deposit:[{required:!0,message:"请输入保证金",trigger:"blur"},{type:"number",message:"保证金必须为数字值"}],organizationCode:[{required:!0,message:"请输入组织机构代码",trigger:"blur"}],cooperationTime:[{required:!0,message:"请输入合作时间段",trigger:"blur"}],corporatePhone:[{required:!1,message:"请输入保证金",trigger:"blur"},{type:"number",message:"必须为数字"}]}}},created:function(){this.agencyList(),this.bdList()},methods:{open:function(){var e=this;"编辑公司"==this.title?this.$http.get(this.$apiUrl.company.detail+"?companyId="+this.companyId).then(function(t){for(var a in e.form.bds=[],e.form.cityList=[],e.form.abbreviation=t.data.data.abbreviation,e.form.address=t.data.data.address,e.form.agencyId=t.data.data.agencyId,e.form.name=t.data.data.name,e.form.deposit=t.data.data.deposit,e.form.organizationCode=t.data.data.organizationCode,e.form.businessType=t.data.data.businessType,e.form.cooperationTime=t.data.data.cooperationTime,e.form.corporate=t.data.data.corporate,e.form.corporatePhone=t.data.data.corporatePhone,e.form.files=t.data.data.files,t.data.data.bdList)e.form.bds.push(t.data.data.bdList[a].bd);e.form.cityList=[t.data.data.provinceId,t.data.data.cityId],e.dialogVisible=!0}).catch(function(e){console.log(e)}):(this.form={abbreviation:"",address:"",agencyId:"",bds:[],businessType:"",cityId:"",cityList:[],corporate:"",corporatePhone:"",cooperationTime:[],companyId:"",deposit:"",files:[],name:"",organizationCode:"",provinceId:"",resource:[]},this.dialogVisible=!0)},bdList:function(){var e=this;this.$http.get(this.$apiUrl.common.employee+"?personType=5").then(function(t){e.bdInfoList=t.data.data}).catch(function(e){console.log(e)})},agencyList:function(){var e=this;this.$http.get(this.$apiUrl.agent.list).then(function(t){e.agencyInfoList=t.data.data}).catch(function(e){console.log(e,"代理商列表失败")})},handleClose:function(){this.$refs.form.resetFields()},submitForm:function(){var e=this,t=this;this.$refs.form.validate(function(a){if(!a)return e.$message({message:"请填写必填信息",type:"error",dutration:2e3}),!1;if(e.dialogVisible=!1,"编辑公司"==e.title){e.form.cooperationStart=e.form.cooperationTime[0],e.form.cooperationEnd=e.form.cooperationTime[1];var i=u()({},e.form);if(i.cityId=e.form.cityList[1],i.resource=[],i.files.length)for(var n in i.files)i.resource.push({fileName:i.files[n].fileName,owner:i.companyId,resourceKey:i.files[n].resourceKey});e.$http.post(e.$apiUrl.company.add,i).then(function(e){t.$message({message:"编辑成功",type:"success"}),t.$emit("editSuccess",t.form)}).catch(function(e){t.$message({message:"编辑失败",type:"error"})})}else{e.form.cityList.length&&(e.form.provinceId=e.form.cityList[0],e.form.cityId=e.form.cityList[1]),e.form.cooperationStart=e.form.cooperationTime[0],e.form.cooperationEnd=e.form.cooperationTime[1];var r=u()({},e.form);if(r.files.length)for(var n in r.files)r.resource.push({fileName:r.files[n].fileName,owner:r.companyId,resourceKey:r.files[n].resourceKey});delete r.cityList,e.$http.put(e.$apiUrl.company.add,r).then(function(e){t.$message({message:"添加成功",type:"success"}),t.$emit("addSuccess",r)}).catch(function(e){t.$message({message:"添加失败",type:"err"})})}})},resetForm:function(){this.$refs.form.resetFields(),this.dialogVisible=!1}}},Oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"110px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"tl",attrs:{label:"公司名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"50字以内",maxlength:"50"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司简称",prop:"abbreviation"}},[a("el-input",{attrs:{placeholder:"50字以内",maxlength:"50"},model:{value:e.form.abbreviation,callback:function(t){e.$set(e.form,"abbreviation",t)},expression:"form.abbreviation"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"tl",attrs:{label:"所属城市",prop:"cityList"}},[a("region",{attrs:{startLevel:e.startLevel,endLevel:e.endLevel},model:{value:e.form.cityList,callback:function(t){e.$set(e.form,"cityList",t)},expression:"form.cityList"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"保证金",prop:"deposit"}},[a("el-input",{attrs:{placeholder:"数字"},model:{value:e.form.deposit,callback:function(t){e.$set(e.form,"deposit",e._n(t))},expression:"form.deposit"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"tl",attrs:{label:"组织机构代码",prop:"organizationCode"}},[a("el-input",{attrs:{placeholder:"50字以内",maxlength:"50"},model:{value:e.form.organizationCode,callback:function(t){e.$set(e.form,"organizationCode",t)},expression:"form.organizationCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"businessType",label:"业务",placeholder:"请选择"}},[a("el-select",{attrs:{filterable:""},model:{value:e.form.businessType,callback:function(t){e.$set(e.form,"businessType",t)},expression:"form.businessType"}},[a("el-option",{attrs:{label:"新房和二手房",value:3}}),e._v(" "),a("el-option",{attrs:{label:"新房",value:1}}),e._v(" "),a("el-option",{attrs:{label:"二手房",value:2}})],1)],1)],1)],1),e._v(" "),a("el-form-item",{staticClass:"tl",attrs:{label:"bd",prop:"bds","label-width":"40px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"",multiple:"",clearable:!0},on:{focus:e.bdList},model:{value:e.form.bds,callback:function(t){e.$set(e.form,"bds",t)},expression:"form.bds"}},e._l(e.bdInfoList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合作开始时间",prop:"cooperationTime"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.form.cooperationTime,callback:function(t){e.$set(e.form,"cooperationTime",t)},expression:"form.cooperationTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"法人代表",prop:"corporate"}},[a("el-input",{model:{value:e.form.corporate,callback:function(t){e.$set(e.form,"corporate",t)},expression:"form.corporate"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"tl",attrs:{label:"电话",prop:"corporatePhone"}},[a("el-input",{model:{value:e.form.corporatePhone,callback:function(t){e.$set(e.form,"corporatePhone",e._n(t))},expression:"form.corporatePhone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"地址",prop:"address"}},[a("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1)],1),e._v(" "),a("el-form-item",{staticClass:"tl",attrs:{label:"代理商",prop:"agencyId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.agencyList},model:{value:e.form.agencyId,callback:function(t){e.$set(e.form,"agencyId",t)},expression:"form.agencyId"}},[a("el-option",{attrs:{label:"暂无代理商",value:0}}),e._v(" "),e._l(e.agencyInfoList,function(e){return a("el-option",{key:e.agencyId,attrs:{label:e.agencyCompanyName,value:e.agencyId}})})],2)],1),e._v(" "),a("el-form-item",{staticClass:"tl upload"},[e.dialogVisible?a("upload",{attrs:{fileList:e.form.files},on:{"update:fileList":function(t){e.$set(e.form,"files",t)}}}):e._e()],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:e.resetForm}},[e._v("关闭")])],1)],1)},staticRenderFns:[]};var Je={name:"commission",data:function(){return{companyId:"",dialogVisible:!1,form:{bankAccount:"",openBankType:"",accountName:"",openBankBranch:""},rules:{openBankType:[{required:!0,message:"请输入开户银行类型",trigger:"blur"}],openBankBranch:[{required:!0,message:"请输入开户支行",trigger:"blur"}],accountName:[{required:!0,message:"请输入账户名",trigger:"blur"}],bankAccount:[{required:!0,message:"请输入银行账号",trigger:"blur"}]}}},methods:{submitForm:function(){var e=this,t={};t.bankAccount=this.form.bankAccount,t.openBankType=this.form.openBankType,t.accountName=this.form.accountName,t.openBankBranch=this.form.openBankBranch,t.companyId=this.companyId,this.$http.post(this.$apiUrl.company.commission,t).then(function(t){e.$message({message:"成功",type:"success"}),e.$refs.form.resetFields(),e.dialogVisible=!1}).catch(function(t){e.$message({message:"成功",type:"error"})})},resetForm:function(){this.$refs.form.resetFields(),this.dialogVisible=!1},handleClose:function(e){var t=this;this.$confirm("确认关闭？").then(function(a){t.$refs.form.resetFields(),e()}).catch(function(e){})},open:function(e){var t=this;this.companyId=e,this.$http.get(this.$apiUrl.company.detail+"?companyId="+e).then(function(e){t.form=e.data.data,t.dialogVisible=!0}).catch(function(e){console.log(e)})}}},We={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"设置分佣账户",visible:e.dialogVisible,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",staticClass:"demo-form",attrs:{model:e.form,"label-width":"110px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"tl",attrs:{label:"开户银行类型",prop:"openBankType"}},[a("el-input",{model:{value:e.form.openBankType,callback:function(t){e.$set(e.form,"openBankType",t)},expression:"form.openBankType"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开户支行",prop:"openBankBranch"}},[a("el-input",{model:{value:e.form.openBankBranch,callback:function(t){e.$set(e.form,"openBankBranch",t)},expression:"form.openBankBranch"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"tl",attrs:{label:"账户名",prop:"accountName"}},[a("el-input",{model:{value:e.form.accountName,callback:function(t){e.$set(e.form,"accountName",t)},expression:"form.accountName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"银行账号",prop:"bankAccount"}},[a("el-input",{model:{value:e.form.bankAccount,callback:function(t){e.$set(e.form,"bankAccount",t)},expression:"form.bankAccount"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:e.resetForm}},[e._v("关闭")])],1)],1)},staticRenderFns:[]};var He={data:function(){return{privileges:{}}},created:function(){var e=this;if(this.privilegeOption){var t=[],a={},n={};for(var r in this.privilegeOption)t.push(this.privilegeOption[r]),n[r]=!1,a[this.privilegeOption[r]]=r;i.default.http.post(i.default.apiUrl.common.privileges,{urls:t}).then(function(t){if(t.data.data){var i=void 0,r=!0,s=!1,o=void 0;try{for(var l,c=f()(t.data.data);!(r=(l=c.next()).done);r=!0){var m=l.value;i=a[m.url],n[i]=!!m.hasAuth}}catch(e){s=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw o}}e.privileges=n}})}}},Ze={name:"CompanyManagement",components:{EditorCompany:a("VU/8")(je,Oe,!1,function(e){a("AbIs")},"data-v-170c78f1",null).exports,Commission:a("VU/8")(Je,We,!1,function(e){a("Vd/7")},"data-v-7e9fcfc6",null).exports,BreadCrumb:Pe,Region:E},mixins:[He],data:function(){return{privilegeOption:{addCompany:"/companyManagement#addCompany",companyEdit:"/companyManagement#companyEdit",comnAccSet:"/companyManagement#comnAccSet",companyEndJoin:"/companyManagement#companyEndJoin"},breadCrumb:[{text:"加盟管理"},{text:"公司管理"}],agencyInfoList:[],companyId:"",companyInfoList:[],companyInfoIndex:"",currentCompanyInfo:"",endLevel:2,firstDialogVisible:!1,isTerminate:null,startLevel:1,summary:{},title:"",form:{agencyId:null,businessType:"0",cityId:null,cityList:[],cooperationTime:null,currentPage:1,pageSize:10,name:null,searchDate:null,searchDay:null,searchType:null,storeAddress:null,storeName:null}}},created:function(){this.requestList(),this.agencyList()},methods:{agencyList:function(){var e=this;this.$http.get(this.$apiUrl.agent.list).then(function(t){e.agencyInfoList=t.data.data}).catch(function(e){console.log(e,"代理商列表失败")})},prompt:function(){var e=this,t=this;t.firstDialogVisible=!1,this.$prompt("","终止公司合作",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"textarea",inputPlaceholder:"请添加终止合作原因",customClass:"end-join",inputValidator:function(e){return e&&e.length>200?"最多输入200个字符":!!e||"请填写终止合作原因"}}).then(function(a){var i=a.value;i?e.$http.post(e.$apiUrl.company.terminate+"/"+e.companyId+"?remark="+i).then(function(e){t.$message({message:"提交成功",type:"success"}),t.requestList()}).catch(function(e){t.$message({message:"提交失败",type:"error"})}):t.$message({message:"请填写终止合作原因",type:"warning"})})},searchType:function(){if(1==this.form.searchType)this.form.searchDay="15",this.form.searchDate=null;else if(2==this.form.searchType){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();a>=1&&a<=9&&(a="0"+a),i>=0&&i<=9&&(i="0"+i),this.form.searchDate=t+"-"+a+"-"+i,this.form.searchDay=null}else this.form.searchDay=null,this.form.searchDate=null},addSuccess:function(e){this.resetForm(),this.form.pageSize=10,this.form.currentPage=1,this.requestList()},resetForm:function(){this.form={agencyId:null,businessType:"0",cityId:null,cityList:[],cooperationTime:null,currentPage:this.form.currentPage,pageSize:this.form.pageSize,name:null,searchDate:null,searchDay:null,searchType:null,storeAddress:null,storeName:null}},search:function(){this.form.currentPage=1,this.form.pageSize=10,this.requestList()},handleSizeChange:function(e){this.form.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.form.currentPage=e,this.requestList()},addCompany:function(){var e=this;this.title="增加公司",setTimeout(function(){e.$refs.editor.open()},200)},editorCompany:function(e,t){var a=this;this.companyInfoIndex=(this.form.currentPage-1)*this.form.pageSize+e,this.companyId=t.companyId,this.title="编辑公司",setTimeout(function(){a.$refs.editor.open()},200)},editSuccess:function(e){this.requestList()},bankAccount:function(e,t){this.companyId=t.companyId,this.$refs.commission.open(this.companyId)},handleEnd:function(e,t){this.companyId=t.companyId,this.isTerminate=t.isTerminate,0==this.isTerminate||2==this.isTerminate?this.firstDialogVisible=!0:(this.isTerminate=1)?this.$message.warning("该公司正在审核中，请稍候再试"):this.$message.warning("该公司已被终止合作")},requestList:function(){var e=this;this.form.cityList.length&&(this.form.cityId=this.form.cityList[1]);var t=u()({},this.form);delete t.cityList,delete t.searchType,this.$http.post(this.$apiUrl.company.list,t,{loading:{fullscreen:!0}}).then(function(t){e.companyInfoList=t.data.data.data}).catch(function(e){console.log(e,"失败")}),this.$http.post(this.$apiUrl.company.summary,t).then(function(t){e.summary=t.data.data}).catch(function(e){console.log(e)})}}},Ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.privileges.addCompany,expression:"privileges.addCompany"}],attrs:{type:"primary"},on:{click:e.addCompany}},[e._v("+增加公司")])],1),e._v(" "),a("el-form",{ref:"form",staticClass:"gap",attrs:{model:e.form,"label-width":"180px","label-position":"right"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司所属城市",prop:"cityList"}},[a("region",{attrs:{startLevel:e.startLevel,endLevel:e.endLevel},model:{value:e.form.cityList,callback:function(t){e.$set(e.form,"cityList",t)},expression:"form.cityList"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间",prop:"cooperationTime"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.form.cooperationTime,callback:function(t){e.$set(e.form,"cooperationTime",t)},expression:"form.cooperationTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"业务",prop:"businessType"}},[a("el-select",{attrs:{filterable:""},model:{value:e.form.businessType,callback:function(t){e.$set(e.form,"businessType",t)},expression:"form.businessType"}},[a("el-option",{attrs:{label:"全部",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"新房",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"二手房",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"新房和二手房",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"门店地址",prop:"storeAddress"}},[a("el-input",{model:{value:e.form.storeAddress,callback:function(t){e.$set(e.form,"storeAddress",t)},expression:"form.storeAddress"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司名称",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"到期查询",prop:"searchType"}},[a("el-select",{attrs:{filterable:""},on:{change:e.searchType},model:{value:e.form.searchType,callback:function(t){e.$set(e.form,"searchType",t)},expression:"form.searchType"}},[a("el-option",{attrs:{label:"请选择查询方式",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"按即将到期天数查询",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"按合作结束日期查询",value:"2"}})],1)],1)],1),e._v(" "),1==e.form.searchType?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"searchDay","label-width":"0"}},[a("el-input",{attrs:{placeholder:"请输入整数"},model:{value:e.form.searchDay,callback:function(t){e.$set(e.form,"searchDay",t)},expression:"form.searchDay"}})],1)],1):e._e(),e._v(" "),2==e.form.searchType?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"searchDate","label-width":"0"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.searchDate,callback:function(t){e.$set(e.form,"searchDate",t)},expression:"form.searchDate"}})],1)],1):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"门店名称",prop:"storeName"}},[a("el-input",{model:{value:e.form.storeName,callback:function(t){e.$set(e.form,"storeName",t)},expression:"form.storeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理商",prop:"agencyId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.agencyList},model:{value:e.form.agencyId,callback:function(t){e.$set(e.form,"agencyId",t)},expression:"form.agencyId"}},[a("el-option",{attrs:{label:"暂无代理商",value:0}}),e._v(" "),e._l(e.agencyInfoList,function(e){return a("el-option",{key:e.agencyId,attrs:{label:e.agencyCompanyName,value:e.agencyId}})})],2)],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:11}},[a("el-button",{staticClass:"reset",on:{click:e.resetForm}},[e._v("重置")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"search-result"},[e._v("共搜索到 "+e._s(e.summary.companyTotal)+"家公司，"+e._s(e.summary.hATotal)+"家有代理商，"+e._s(e.summary.nATotal)+"家无代理商")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.companyInfoList,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"城市",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companyName",label:"中介公司全称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companyAbbreviation",label:"中介公司简称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agencyName",label:"代理商公司",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cooperationStart",label:"有效期始",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cooperationEnd",label:"有效期止",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bdName",label:"bd",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createrName",label:"创建人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"操作",width:"300px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.privileges.companyEdit,expression:"privileges.companyEdit"}],attrs:{size:"mini",type:"text"},on:{click:function(a){e.editorCompany(t.$index,t.row)}}},[e._v("编辑 ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.privileges.comnAccSet,expression:"privileges.comnAccSet"}],attrs:{size:"mini",type:"text"},on:{click:function(a){e.bankAccount(t.$index,t.row)}}},[e._v("分佣账号设置 ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.privileges.companyEndJoin,expression:"privileges.companyEndJoin"}],attrs:{size:"mini",type:"text"},on:{click:function(a){e.handleEnd(t.$index,t.row)}}},[e._v("终止合作")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"storeNum",label:"门店",align:"center"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.form.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.form.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.summary.companyTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"终止公司合作",visible:e.firstDialogVisible,width:"30%"},on:{"update:visible":function(t){e.firstDialogVisible=t}}},[a("p",[e._v("1、对公司通知合作，旗下的门店也将一起会被停止合作")]),e._v(" "),a("p",[e._v("2、终止合作门店下的经纪人账号将会被冻结")]),e._v(" "),a("p",[e._v("3、公司和门店被停止合作后将无法重新再被恢复")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.prompt}},[e._v("以了解风险，下一步")])],1)]),e._v(" "),a("editor-company",{ref:"editor",attrs:{companyId:e.companyId,title:e.title},on:{editSuccess:e.editSuccess,addSuccess:e.addSuccess}}),e._v(" "),a("commission",{ref:"commission"})],1)],1)},staticRenderFns:[]};var Xe=a("VU/8")(Ze,Ke,!1,function(e){a("Z/Xx"),a("0Uwo")},"data-v-6edef170",null).exports,Ye={name:"editorStore",props:["storeId","title"],components:{Region:E},data:function(){return{startLevel:2,endLevel:4,dialogVisible:!1,companyInfoList:[],longlatFormat:!1,form:{address:"",agencyId:"",areaLinkage:[],cityId:"",companyId:"",districtId:"",longlat:"",name:"",provinceId:"",storeType:"",townId:""},rules:{companyId:[{required:!0,message:"请输入中介公司名称",trigger:"blur"}],agencyId:[{required:!0,message:"请输入代理商公司名称",trigger:"blur"}],areaLinkage:[{required:!0,message:"请输入城市区域板块",trigger:"blur"}],address:[{required:!0,message:"请输入门店地址",trigger:"blur"}],name:[{required:!0,message:"请输入门店名称",trigger:"blur"}],storeType:[{required:!0,message:"请输入门店类型",trigger:"blur"}],longlat:[{required:!0,message:"请输入经纬度",trigger:"blur"}]}}},created:function(){this.agencyList(),this.companyList()},methods:{open:function(){var e=this;"编辑门店"==this.title?this.$http.get(this.$apiUrl.store.add+"?id="+this.storeId).then(function(t){e.form=t.data.data,e.form.areaLinkage=[e.form.cityId,e.form.districtId,e.form.townId]}).catch(function(e){console.log(e)}):this.form={address:"",agencyId:"",areaLinkage:[],cityId:"",companyId:"",districtId:"",longlat:"",name:"",provinceId:"",storeType:"",townId:""},this.dialogVisible=!0},longlat:function(){var e=this.form.longlat.split(","),t=/^[0-9]+.?[0-9]*$/;2==e.length&&t.test(e[0])&&t.test(e[1])?this.longlatFormat=!0:(this.longlatFormat=!1,this.$message({message:"经纬度格式不正确",type:"warning"}))},handleClose:function(e){var t=this;this.$confirm("确认关闭？").then(function(a){t.$refs.form.resetFields(),e()}).catch(function(e){})},submitForm:function(){var e=this,t=this;this.longlat(),this.$refs.form.validate(function(a){if(!a)return t.$message({message:"请填写必填信息",type:"warning"}),!1;t.longlatFormat?(e.dialogVisible=!1,"编辑门店"==e.title?(e.form.areaLinkage.length&&(e.form.cityId=e.form.areaLinkage[0],e.form.districtId=e.form.areaLinkage[1],e.form.townId=e.form.areaLinkage[2]),e.$http.post(e.$apiUrl.store.add,e.form).then(function(e){t.$message({message:"编辑成功",type:"success"}),t.$emit("editSuccess",t.form)}).catch(function(e){t.$message({message:"编辑失败",type:"error"})})):(e.form.areaLinkage.length&&(e.form.cityId=e.form.areaLinkage[0],e.form.districtId=e.form.areaLinkage[1],e.form.townId=e.form.areaLinkage[2]),e.$http.put(e.$apiUrl.store.add,e.form).then(function(e){t.$message({message:"添加成功",type:"success"}),t.$emit("addSuccess",t.form)}).catch(function(e){t.$message({message:"添加失败",type:"error"})}))):t.$message({message:"经纬度格式不正确",type:"warning"})})},resetForm:function(){this.$refs.form.resetFields(),this.dialogVisible=!1},agencyList:function(){var e=this;this.$http.get(this.$apiUrl.agent.list).then(function(t){e.agencyInfoList=t.data.data}).catch(function(e){console.log(e,"代理商列表失败")})},companyList:function(){var e=this;this.$http.get(this.$apiUrl.company.list).then(function(t){e.companyInfoList=t.data.data}).catch(function(e){console.log(e,"中介公司列表err")})}}},Ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"门店名称",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"门店类型",prop:"storeType"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择加盟或直营"},model:{value:e.form.storeType,callback:function(t){e.$set(e.form,"storeType",t)},expression:"form.storeType"}},[a("el-option",{attrs:{label:"代理商直营门店",value:1}}),e._v(" "),a("el-option",{attrs:{label:"加盟门店",value:2}})],1)],1),e._v(" "),1==e.form.storeType?a("el-form-item",{attrs:{label:"代理商公司名称",prop:"agencyId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.agencyList},model:{value:e.form.agencyId,callback:function(t){e.$set(e.form,"agencyId",t)},expression:"form.agencyId"}},[a("el-option",{attrs:{label:"暂无代理商",value:0}}),e._v(" "),e._l(e.agencyInfoList,function(e){return a("el-option",{key:e.agencyId,attrs:{label:e.agencyCompanyName,value:e.agencyId}})})],2)],1):e._e(),e._v(" "),2==e.form.storeType?a("el-form-item",{attrs:{label:"中介公司名称",prop:"companyId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.companyList},model:{value:e.form.companyId,callback:function(t){e.$set(e.form,"companyId",t)},expression:"form.companyId"}},e._l(e.companyInfoList,function(e){return a("el-option",{key:e.companyId,attrs:{label:e.name,value:e.companyId}})}))],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"门店地址",prop:"address"}},[a("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"城市-区域-板块",prop:"areaLinkage"}},[a("region",{attrs:{startLevel:e.startLevel,endLevel:e.endLevel},model:{value:e.form.areaLinkage,callback:function(t){e.$set(e.form,"areaLinkage",t)},expression:"form.areaLinkage"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"经纬度",prop:"longlat",placeholder:"经度,纬度"}},[a("el-input",{on:{blur:e.longlat},model:{value:e.form.longlat,callback:function(t){e.$set(e.form,"longlat",t)},expression:"form.longlat"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:e.resetForm}},[e._v("关闭")])],1)],1)},staticRenderFns:[]};var Qe={name:"StoreManagement",components:{BreadCrumb:Pe,EditorStore:a("VU/8")(Ye,Ge,!1,function(e){a("zDhU")},null,null).exports,Region:E},mixins:[He],data:function(){return{privilegeOption:{addStore:"/storeManagement#addStore",storeEdit:"/storeManagement#storeEdit",storeEndJoin:"/storeManagement#storeEndJoin"},breadCrumb:[{text:"加盟管理"},{text:"门店管理"}],agencyInfoList:[],companyInfoList:[],startLevel:1,endLevel:2,qrCodeShow:!1,qrCodeInfo:{},firstDialogVisible:!1,secondDialogVisible:!1,remark:"",companyInfoIndex:"",currentStoreInfo:"",isTerminate:null,storeInfo:{},storeId:"",summary:{},title:"",form:{agencyId:null,cityId:null,cityList:[],companyId:null,cooperationTime:null,cooperationStart:null,cooperationEnd:null,currentPage:1,pageSize:10,storeName:null,storeType:"0"}}},created:function(){this.requestList(),this.agencyList(),this.companyList()},methods:{agencyList:function(){var e=this;this.$http.get(this.$apiUrl.agent.list).then(function(t){e.agencyInfoList=t.data.data}).catch(function(e){console.log(e,"代理商列表失败")})},companyList:function(){var e=this;this.$http.get(this.$apiUrl.company.list).then(function(t){e.companyInfoList=t.data.data}).catch(function(e){console.log(e,"中介公司列表err")})},addSuccess:function(){this.resetForm(),this.requestList()},editSuccess:function(e){this.requestList()},resetForm:function(){this.form={agencyId:null,cityId:null,cityList:[],companyId:null,cooperationTime:null,cooperationStart:null,cooperationEnd:null,currentPage:1,pageSize:10,storeName:null,storeType:"0"}},search:function(){this.form.currentPage=1,this.form.pageSize=10,this.requestList()},handleSizeChange:function(e){this.form.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.form.currentPage=e,this.requestList()},addStore:function(){var e=this;this.title="增加门店",setTimeout(function(){e.$refs.editor.open()},200)},editStore:function(e,t){var a=this;this.storeId=t.storeId,this.title="编辑门店",setTimeout(function(){a.$refs.editor.open()},200)},qrCode:function(e,t){var a=this;this.storeId=t.storeId,this.$http.get(this.$apiUrl.store.qrcode+"/"+this.storeId).then(function(e){a.qrCodeInfo=e.data.data}).catch(function(e){console.log(e)}),this.qrCodeShow=!0},handleEnd:function(e,t){this.storeId=t.storeId,this.isTerminate=t.isTerminate,0==this.isTerminate||2==this.isTerminate?this.firstDialogVisible=!0:(this.isTerminate=1)?this.$message.warning("该门店正在审核中，请稍候再试"):this.$message.warning("该门店已被终止合作")},prompt:function(){var e=this,t=this;t.firstDialogVisible=!1,this.$prompt("","终止合作，一旦终止合作，将无法重新再启用",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"textarea",inputPlaceholder:"请添加终止合作原因",customClass:"store-end-join",inputValidator:function(e){return e&&e.length>200?"最多输入200个字符":!!e||"请填写终止合作原因"}}).then(function(a){var i=a.value;i?e.$http.post(e.$apiUrl.store.terminate+"/"+e.storeId+"?remark="+i).then(function(e){t.$message({message:"提交成功",type:"success"}),t.requestList()}).catch(function(e){t.$message({message:"提交失败",type:"error"})}):t.$message({message:"请填写终止合作原因",type:"warning"})})},requestList:function(){var e=this;this.form.cityList.length&&(this.form.cityId=this.form.cityList[1]);var t=u()({},this.form);delete t.cityList,this.$http.post(this.$apiUrl.store.list,t,{loading:{fullscreen:!0}}).then(function(t){e.storeInfo=t.data.data}).catch(function(e){console.log(e)}),this.$http.post(this.$apiUrl.store.summary,t).then(function(t){e.summary=t.data.data}).catch(function(e){console.log(e)})}}},et={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.privileges.addStore,expression:"privileges.addStore"}],attrs:{type:"primary"},on:{click:e.addStore}},[e._v("+新增门店")])],1),e._v(" "),a("el-form",{ref:"form",staticClass:"gap",attrs:{model:e.form,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"门店所属城市",prop:"cityList"}},[a("region",{attrs:{startLevel:e.startLevel,endLevel:e.endLevel},model:{value:e.form.cityList,callback:function(t){e.$set(e.form,"cityList",t)},expression:"form.cityList"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"门店所属代理商",prop:"agencyId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{focus:e.agencyList},model:{value:e.form.agencyId,callback:function(t){e.$set(e.form,"agencyId",t)},expression:"form.agencyId"}},[a("el-option",{attrs:{label:"暂无代理商",value:0}}),e._v(" "),e._l(e.agencyInfoList,function(e){return a("el-option",{key:e.agencyId,attrs:{label:e.agencyCompanyName,value:e.agencyId}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"门店类型",prop:"storeType"}},[a("el-select",{attrs:{filterable:""},model:{value:e.form.storeType,callback:function(t){e.$set(e.form,"storeType",t)},expression:"form.storeType"}},[a("el-option",{attrs:{label:"全部",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"直营",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"加盟",value:"2"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"门店名称",prop:"storeName"}},[a("el-input",{model:{value:e.form.storeName,callback:function(t){e.$set(e.form,"storeName",t)},expression:"form.storeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间",prop:"cooperationTime"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.form.cooperationTime,callback:function(t){e.$set(e.form,"cooperationTime",t)},expression:"form.cooperationTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"门店所属公司",prop:"companyId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{focus:e.companyList},model:{value:e.form.companyId,callback:function(t){e.$set(e.form,"companyId",t)},expression:"form.companyId"}},e._l(e.companyInfoList,function(e){return a("el-option",{key:e.companyId,attrs:{label:e.name,value:e.companyId}})}))],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:11}},[a("el-button",{staticClass:"reset",on:{click:e.resetForm}},[e._v("重置")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"search-result"},[e._v("共搜索到 "+e._s(e.summary.storeTotal)+"家门店，"+e._s(e.summary.agentTotal)+"个经纪人，"+e._s(e.summary.hASTotal)+"家有代理商，"+e._s(e.summary.nASTotal)+"家无代理商")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.storeInfo.data,border:""}},[a("el-table-column",{attrs:{prop:"storeId",label:"门店id",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"storeName",label:"门店名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"storeTypeName",label:"门店类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agentCount",label:"经纪人数量",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agencyName",label:"门店所属代理商",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companyName",label:"门店所属公司",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cityName",label:"门店所属城市",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.privileges.storeEdit,expression:"privileges.storeEdit"}],attrs:{size:"mini",type:"text"},on:{click:function(a){e.editStore(t.$index,t.row)}}},[e._v("编辑 ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.qrCode(t.$index,t.row)}}},[e._v("二维码 ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.privileges.storeEndJoin,expression:"privileges.storeEndJoin"}],attrs:{size:"mini",type:"text"},on:{click:function(a){e.handleEnd(t.$index,t.row)}}},[e._v("终止合作")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.form.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.form.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.storeInfo.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"门店二维码",visible:e.qrCodeShow,width:"30%"},on:{"update:visible":function(t){e.qrCodeShow=t}}},[a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:e.qrCodeInfo.url,alt:""}})])]),e._v(" "),a("el-dialog",{attrs:{title:"终止门店合作",visible:e.firstDialogVisible,width:"30%"},on:{"update:visible":function(t){e.firstDialogVisible=t}}},[a("p",[e._v("一旦终止和门店的合作")]),e._v(" "),a("p",{staticStyle:{"padding-left":"15px"}},[e._v("a、将不会再被恢复")]),e._v(" "),a("p",{staticStyle:{"padding-left":"15px"}},[e._v("b、门店旗下的经纪人账号被冻结")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.prompt}},[e._v("知道了")])],1)]),e._v(" "),a("editor-store",{ref:"editor",attrs:{title:e.title,storeId:e.storeId,currentStoreInfo:e.currentStoreInfo},on:{editSuccess:e.editSuccess,addSuccess:e.addSuccess}})],1)],1)},staticRenderFns:[]};var tt=a("VU/8")(Qe,et,!1,function(e){a("RHOW"),a("Xew1")},"data-v-114d3434",null).exports,at={name:"AgentEndList",data:function(){return{agencyInfo:{},pagination:{currentPage:1,pageSize:10}}},created:function(){this.requestList()},methods:{detail:function(e,t){this.$router.push({name:"AgentDetail",params:{id:t.id}})},handleSizeChange:function(e){this.pagination.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.pagination.currentPage=e,this.requestList()},requestList:function(){var e=this,t={currentPage:this.pagination.currentPage,pageSize:this.pagination.pageSize,type:"1"};this.$http.post(this.$apiUrl.teamEnd.tabList,t,{loading:{fullscreen:!0}}).then(function(t){e.agencyInfo=t.data.data}).catch(function(e){console.log(e)})}}},it={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search-result"},[e._v("共搜索到 "+e._s(e.agencyInfo.total)+"条数据")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.agencyInfo.data,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"代理商名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.detail(t.$index,t.row)}}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"submitterName",label:"提交人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditorName",label:"审核人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"审核时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"终止合作原因",align:"center"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.agencyInfo.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var nt=a("VU/8")(at,it,!1,function(e){a("RY72")},"data-v-493fb98e",null).exports,rt={name:"CompanyDetail",data:function(){return{agencyInfoList:[],dialogVisible:!1,startLevel:1,endLevel:2,companyDetail:{files:[{fileName:""}]}}},methods:{open:function(e){var t=this;this.$http.get(this.$apiUrl.company.detail+"?companyId="+e).then(function(e){t.companyDetail=e.data.data,t.dialogVisible=!0}).catch(function(e){console.log(e)})}}},st={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.companyDetail,"label-width":"110px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"tl",attrs:{label:"公司名称:"}},[a("span",[e._v(e._s(e.companyDetail.name))])])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司简称:",prop:"abbreviation"}},[a("span",[e._v(e._s(e.companyDetail.abbreviation))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"tl",attrs:{label:"所属城市:"}},[a("span",[e._v(e._s(e.companyDetail.provinceName)+"-"+e._s(e.companyDetail.cityName))])])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"保证金:"}},[a("span",[e._v(e._s(e.companyDetail.deposit))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"tl",attrs:{label:"组织机构代码:"}},[a("span",[e._v(e._s(e.companyDetail.organizationCode))])])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"businessType",label:"业务:"}},[1==e.companyDetail.businessType?a("span",[e._v("新房")]):e._e(),e._v(" "),2==e.companyDetail.businessType?a("span",[e._v("二手房")]):e._e(),e._v(" "),3==e.companyDetail.businessType?a("span",[e._v("新房+二手房")]):e._e()])],1)],1),e._v(" "),a("el-form-item",{staticClass:"tl",attrs:{label:"bd:"}},[a("span",[e._v(e._s(e.companyDetail.bdName))])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"tl",attrs:{label:"合作时间:",prop:"cooperationTime"}},[a("span",[e._v(e._s(e.companyDetail.cooperationStart)+"至"+e._s(e.companyDetail.cooperationEnd))])])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"法人代表:",prop:"corporate"}},[a("span",[e._v(e._s(e.companyDetail.corporate))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"tl",attrs:{label:"电话:",prop:"corporatePhone"}},[a("span",[e._v(e._s(e.companyDetail.corporatePhone))])])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"地址:",prop:"address"}},[a("span",[e._v(e._s(e.companyDetail.address))])])],1)],1),e._v(" "),a("el-form-item",{staticClass:"tl",attrs:{label:"代理商:",prop:"agencyId"}},[a("span",[e._v(e._s(e.companyDetail.agencyName))])]),e._v(" "),a("el-form-item",{staticClass:"tl",attrs:{label:"上传文件:"}},e._l(e.companyDetail.files,function(e,t){return a("img",{key:t,attrs:{src:e.url,alt:""}})}))],1)],1)},staticRenderFns:[]};var ot={name:"CompanyEndList",components:{CompanyDetail:a("VU/8")(rt,st,!1,function(e){a("YkjU")},"data-v-05081acc",null).exports},data:function(){return{companyId:"",companyList:{},pagination:{currentPage:1,pageSize:10,total:null}}},created:function(){this.requestList()},methods:{detail:function(e,t){this.companyId=t.id,this.$refs.companyDetail.open(this.companyId)},handleSizeChange:function(e){this.pagination.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.pagination.currentPage=e,this.requestList()},requestList:function(){var e=this,t={currentPage:this.pagination.currentPage,pageSize:this.pagination.pageSize,type:"2"};this.$http.post(this.$apiUrl.teamEnd.tabList,t,{loading:{fullscreen:!0}}).then(function(t){e.companyList=t.data.data}).catch(function(e){console.log(e)})}}},lt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search-result"},[e._v("共搜索到"+e._s(e.companyList.total)+"条数据")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.companyList.data,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"公司名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.detail(t.$index,t.row)}}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"submitterName",label:"提交人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditorName",label:"审核人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"审核时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"终止合作原因",align:"center"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.companyList.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("company-detail",{ref:"companyDetail"})],1)},staticRenderFns:[]};var ct=a("VU/8")(ot,lt,!1,function(e){a("xZ3Z")},"data-v-6a6652d1",null).exports,mt={name:"storeDetail",data:function(){return{dialogVisible:!1,form:{address:"",agencyId:"",cityId:"",companyId:"",districtId:"",longlat:"",name:"",provinceId:"",storeType:"",townId:""}}},methods:{open:function(e){var t=this;this.$http.get(this.$apiUrl.store.add+"?id="+e).then(function(e){t.form=e.data.data,t.dialogVisible=!0}).catch(function(e){console.log(e)})}}},dt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"门店名称:"}},[a("span",[e._v(e._s(e.form.name))])]),e._v(" "),a("el-form-item",{attrs:{label:"门店类型:"}},[1==e.form.storeType?a("span",[e._v("代理商直营门店")]):e._e(),e._v(" "),2==e.form.storeType?a("span",[e._v("加盟门店")]):e._e()]),e._v(" "),1==e.form.storeType?a("el-form-item",{attrs:{label:"代理商公司名称:"}},[a("span",[e._v(e._s(e.form.agencyName))])]):e._e(),e._v(" "),2==e.form.storeType?a("el-form-item",{attrs:{label:"中介公司名称:"}},[a("span",[e._v(e._s(e.form.companyName))])]):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"门店地址:"}},[a("span",[e._v(e._s(e.form.address))])]),e._v(" "),a("el-form-item",{attrs:{label:"城市-区域-板块:"}},[a("span",[e._v(e._s(e.form.cityName)+"-"+e._s(e.form.districtIdName)+"-"+e._s(e.form.townIdName))])]),e._v(" "),a("el-form-item",{attrs:{label:"经纬度:"}},[a("span",[e._v(e._s(e.form.longlat))])])],1)],1)},staticRenderFns:[]};var ut={name:"StoreEndList",components:{StoreDetail:a("VU/8")(mt,dt,!1,function(e){a("SXiM")},null,null).exports},data:function(){return{storeList:{},pagination:{currentPage:1,pageSize:10}}},created:function(){this.requestList()},methods:{detail:function(e,t){this.storeId=t.id,this.$refs.storeDetail.open(this.storeId)},handleSizeChange:function(e){this.pagination.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.pagination.currentPage=e,this.requestList()},requestList:function(){var e=this,t={currentPage:this.pagination.currentPage,pageSize:this.pagination.pageSize,type:"3"};this.$http.post(this.$apiUrl.teamEnd.tabList,t,{loading:{fullscreen:!0}}).then(function(t){e.storeList=t.data.data}).catch(function(e){console.log(e)})}}},pt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search-result"},[e._v("共搜索到"+e._s(e.storeList.total)+"条数据")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.storeList.data,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"门店名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.detail(t.$index,t.row)}}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"submitterName",label:"提交人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditorName",label:"审核人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"审核时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"终止合作原因",align:"center"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.storeList.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("store-detail",{ref:"storeDetail"})],1)},staticRenderFns:[]};var ft={name:"TeamEnd",components:{BreadCrumb:Pe,AgentEndList:nt,CompanyEndList:ct,StoreEndList:a("VU/8")(ut,pt,!1,function(e){a("j2R/")},"data-v-1820c30c",null).exports},data:function(){return{breadCrumb:[{text:"加盟管理"},{text:"终止合作"}],agent:!0,company:!1,store:!1,endTotal:{},label:"代理商民称",pagination:{currentPage:1,pageSize:10,total:null}}},created:function(){var e=this;this.$http.get(this.$apiUrl.teamEnd.summary).then(function(t){e.endTotal=t.data.data}).catch(function(e){console.log(e)})},methods:{agentTab:function(){this.agent=!0,this.company=!1,this.store=!1,this.label="代理商名称",this.pagination.currentPage=1,this.pagination.pageSize=10},companyTab:function(){this.agent=!1,this.company=!0,this.store=!1,this.label="公司名称",this.pagination.currentPage=1,this.pagination.pageSize=10},storeTab:function(){this.agent=!1,this.company=!1,this.store=!0,this.label="门店名称",this.pagination.currentPage=1,this.pagination.pageSize=10},detail:function(){this.agent,this.company,this.store},handleSizeChange:function(e){this.pagination.pageSize=e},handleCurrentChange:function(e){this.pagination.currentPage=e}}},ht={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("div",{staticClass:"tabs"},[a("div",{staticClass:"tab",class:{agent:e.agent},on:{click:e.agentTab}},[a("p",{staticClass:"account"},[e._v(e._s(e.endTotal.terminatedAgency))]),e._v(" "),a("p",[e._v("代理商")])]),e._v(" "),a("div",{staticClass:"tab",class:{company:e.company},on:{click:e.companyTab}},[a("p",{staticClass:"account"},[e._v(e._s(e.endTotal.terminatedCompany))]),e._v(" "),a("p",[e._v("公司")])]),e._v(" "),a("div",{staticClass:"tab",class:{store:e.store},on:{click:e.storeTab}},[a("p",{staticClass:"account"},[e._v(e._s(e.endTotal.terminatedStore))]),e._v(" "),a("p",[e._v("门店")])]),e._v(" "),a("p",{staticStyle:{clear:"both"}})]),e._v(" "),e.agent?a("agent-end-list"):e._e(),e._v(" "),e.company?a("company-end-list"):e._e(),e._v(" "),e.store?a("store-end-list"):e._e()],1)],1)},staticRenderFns:[]};var gt=a("VU/8")(ft,ht,!1,function(e){a("0B7l")},"data-v-0958f656",null).exports,vt={name:"waitAudit",mixins:[He],data:function(){return{privilegeOption:{materialAudit:"/materialAuditResult#materialAudit"},auditType:"1",targetState:"1",pagination:{currentPage:1,pageSize:10,total:10},waitAuditList:[]}},created:function(){this.requestList()},methods:{handleSizeChange:function(e){this.pagination.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.pagination.currentPage=e,this.requestList()},audit:function(e,t){this.$router.push({name:"MaterialVerify",params:{id:t.id}})},requestList:function(){var e=this,t={auditType:this.auditType,currentPage:this.pagination.currentPage,pageSize:this.pagination.pageSize,targetState:this.targetState};this.$http.post(this.$apiUrl.agent.firstWaitAuditList,t,{loading:{fullscreen:!0}}).then(function(t){e.pagination.total=t.data.data.total,e.waitAuditList=t.data.data.data}).catch(function(e){console.log(e)})}}},bt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search-result"},[e._v("共搜索到"+e._s(e.pagination.total)+"条数据")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.waitAuditList,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"代理商公司名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cityName",label:"地区",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"submitterName",label:"提交人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("span",{staticClass:"circle"}),a("span",[e._v(e._s(t.row.auditTypeName))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"submitTime",label:"提交时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endReason",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.privileges.materialAudit,expression:"privileges.materialAudit"}],attrs:{size:"mini",type:"text"},on:{click:function(a){e.audit(t.$index,t.row)}}},[e._v("审核")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var yt={name:"auditNoPass",data:function(){return{agencyInfoList:[],form:{auditorId:"",auditName:"",auditType:"1",auditTime:[],targetId:"",currentPage:1,pageSize:10,submitterId:"",submitName:"",targetState:"2"},rejectList:{},submitPeopleList:[]}},created:function(){this.requestList(),this.requestSubmitList(),this.agencyList()},methods:{handleSizeChange:function(e){this.form.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.form.currentPage=e,this.requestList()},resetForm:function(){this.$refs.form.resetFields()},search:function(){this.form.currentPage=1,this.form.pageSize=10,this.requestList()},requestList:function(){var e=this;this.$http.post(this.$apiUrl.agent.firstWaitAuditList,this.form,{loading:{fullscreen:!0}}).then(function(t){e.rejectList=t.data.data}).catch(function(e){console.log(e,"失败")})},agencyList:function(){var e=this;this.$http.get(this.$apiUrl.agent.list).then(function(t){e.agencyInfoList=t.data.data}).catch(function(e){console.log(e,"代理商列表失败")})},requestSubmitList:function(){var e=this;this.$http.get(this.$apiUrl.common.employee+"?personType=9").then(function(t){e.submitPeopleList=t.data.data}).catch(function(e){console.log(e)})}}},_t={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",staticClass:"gap-2",attrs:{model:e.form,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"提交人",prop:"submitterId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.requestSubmitList},model:{value:e.form.submitterId,callback:function(t){e.$set(e.form,"submitterId",t)},expression:"form.submitterId"}},e._l(e.submitPeopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"审核时间",prop:"auditTime"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.form.auditTime,callback:function(t){e.$set(e.form,"auditTime",t)},expression:"form.auditTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核人",prop:"auditorId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.requestSubmitList},model:{value:e.form.auditorId,callback:function(t){e.$set(e.form,"auditorId",t)},expression:"form.auditorId"}},e._l(e.submitPeopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"代理商",prop:"targetId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.agencyList},model:{value:e.form.targetId,callback:function(t){e.$set(e.form,"targetId",t)},expression:"form.targetId"}},e._l(e.agencyInfoList,function(e){return a("el-option",{key:e.agencyId,attrs:{label:e.agencyCompanyName,value:e.agencyId}})}))],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:11}},[a("el-button",{staticClass:"reset",on:{click:e.resetForm}},[e._v("重置")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"search-result"},[e._v("共搜索到"+e._s(e.rejectList.total)+"条数据")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rejectList.data,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"代理商公司名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",label:"类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"submitterName",label:"提交人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditorName",label:"审核人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"驳回时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditRemark",label:"驳回原因",align:"center"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.form.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.form.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.rejectList.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var It={name:"auditPass",data:function(){return{agencyInfoList:[],form:{auditorId:"",auditName:"",auditType:1,auditTime:[],targetId:"",currentPage:1,pageSize:10,submitName:"",submitterId:"",targetState:3},passList:{},submitPeopleList:[]}},created:function(){this.requestList(),this.requestSubmitList(),this.agencyList()},methods:{handleSizeChange:function(e){this.form.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.form.currentPage=e,this.requestList()},resetForm:function(){this.$refs.form.resetFields()},search:function(){this.form.currentPage=1,this.form.pageSize=10,this.requestList()},requestList:function(){var e=this;this.$http.post(this.$apiUrl.agent.firstWaitAuditList,this.form,{loading:{fullscreen:!0}}).then(function(t){e.passList=t.data.data}).catch(function(e){console.log(e,"失败")})},agencyList:function(){var e=this;this.$http.get(this.$apiUrl.agent.list).then(function(t){e.agencyInfoList=t.data.data}).catch(function(e){console.log(e,"代理商列表失败")})},requestSubmitList:function(){var e=this;this.$http.get(this.$apiUrl.common.employee+"?personType=9").then(function(t){e.submitPeopleList=t.data.data}).catch(function(e){console.log(e)})}}},wt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",staticClass:"gap-2",attrs:{model:e.form,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"提交人",prop:"submitterId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.requestSubmitList},model:{value:e.form.submitterId,callback:function(t){e.$set(e.form,"submitterId",t)},expression:"form.submitterId"}},e._l(e.submitPeopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"审核时间",prop:"auditTime"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.form.auditTime,callback:function(t){e.$set(e.form,"auditTime",t)},expression:"form.auditTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核人",prop:"auditorId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.requestSubmitList},model:{value:e.form.auditorId,callback:function(t){e.$set(e.form,"auditorId",t)},expression:"form.auditorId"}},e._l(e.submitPeopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"代理商",prop:"targetId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.agencyList},model:{value:e.form.targetId,callback:function(t){e.$set(e.form,"targetId",t)},expression:"form.targetId"}},e._l(e.agencyInfoList,function(e){return a("el-option",{key:e.agencyId,attrs:{label:e.agencyCompanyName,value:e.agencyId}})}))],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:11}},[a("el-button",{staticClass:"reset",on:{click:e.resetForm}},[e._v("重置")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"search-result"},[e._v("共搜索到 "+e._s(e.passList.total)+"条数据")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.passList.data,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"代理商公司名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",label:"类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"submitterName",label:"提交人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditorName",label:"审核人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"审核时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditRemark",label:"备注",align:"center"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.form.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.form.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.passList.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Ct={name:"MaterialAuditResult",components:{BreadCrumb:Pe,WaitAudit:a("VU/8")(vt,bt,!1,function(e){a("mS47")},"data-v-65d20ef8",null).exports,AuditNoPass:a("VU/8")(yt,_t,!1,function(e){a("R7AJ")},"data-v-6301cc53",null).exports,AuditPass:a("VU/8")(It,wt,!1,function(e){a("cdJK")},"data-v-0b11d29c",null).exports},data:function(){return{auditType:"1",breadCrumb:[{text:"首次加盟审核"},{text:"资料审核"}],wait:!0,reject:!1,pass:!1,total:{}}},created:function(){var e=this;this.$http.post(this.$apiUrl.agent.firstAuditSummary,{auditType:this.auditType}).then(function(t){e.total=t.data.data[0]}).catch(function(e){console.log(e)})},methods:{agentTab:function(){this.wait=!0,this.reject=!1,this.pass=!1},companyTab:function(){this.wait=!1,this.reject=!0,this.pass=!1},storeTab:function(){this.wait=!1,this.reject=!1,this.pass=!0}}},kt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("div",{staticClass:"tabs"},[a("div",{staticClass:"tab",class:{wait:e.wait},on:{click:e.agentTab}},[a("p",{staticClass:"account"},[e._v(e._s(e.total.waitTotal||0))]),e._v(" "),a("p",[e._v("待审核代理商")])]),e._v(" "),a("div",{staticClass:"tab",class:{reject:e.reject},on:{click:e.companyTab}},[a("p",{staticClass:"account"},[e._v(e._s(e.total.rejectTotal||0))]),e._v(" "),a("p",[e._v("已驳回")])]),e._v(" "),a("div",{staticClass:"tab",class:{pass:e.pass},on:{click:e.storeTab}},[a("p",{staticClass:"account"},[e._v(e._s(e.total.auditedTotal||0))]),e._v(" "),a("p",[e._v("通过")])]),e._v(" "),a("p",{staticStyle:{clear:"both"}})]),e._v(" "),e.wait?a("wait-audit"):e._e(),e._v(" "),e.reject?a("audit-no-pass"):e._e(),e._v(" "),e.pass?a("audit-pass"):e._e()],1)],1)},staticRenderFns:[]};var xt=a("VU/8")(Ct,kt,!1,function(e){a("uHez")},"data-v-79eba56a",null).exports,St={name:"waitAudit",mixins:[He],data:function(){return{privilegeOption:{serviceFeeAudit:"/serviceFeeAuditResult#serviceFeeAudit"},auditType:"2",targetState:"1",pagination:{currentPage:1,pageSize:10,total:10},waitAuditList:[]}},created:function(){this.requestList()},methods:{handleSizeChange:function(e){this.pagination.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.pagination.currentPage=e,this.requestList()},audit:function(e,t){this.$router.push({name:"PlatformServiceFeeVerify",params:{id:t.id}})},requestList:function(){var e=this,t={auditType:this.auditType,currentPage:this.pagination.currentPage,pageSize:this.pagination.pageSize,targetState:this.targetState};this.$http.post(this.$apiUrl.agent.firstWaitAuditList,t,{loading:{fullscreen:!0}}).then(function(t){e.pagination.total=t.data.data.total,e.waitAuditList=t.data.data.data}).catch(function(e){console.log(e)})}}},Lt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search-result"},[e._v("共搜索到 "+e._s(e.pagination.total)+"条数据")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.waitAuditList,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"代理商公司名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cityName",label:"地区",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"submitterName",label:"提交人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("span",{staticClass:"circle"}),a("span",[e._v(e._s(t.row.auditTypeName))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"submitTime",label:"提交时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.privileges.serviceFeeAudit,expression:"privileges.serviceFeeAudit"}],attrs:{size:"mini",type:"text"},on:{click:function(a){e.audit(t.$index,t.row)}}},[e._v("审核")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var $t={name:"auditNoPass",data:function(){return{agencyInfoList:[],form:{auditorId:"",auditName:"",auditType:"2",auditTime:[],targetId:"",currentPage:1,pageSize:10,submitterId:"",submitName:"",targetState:"2"},rejectList:{},submitPeopleList:[]}},created:function(){this.requestList(),this.requestSubmitList(),this.agencyList()},methods:{handleSizeChange:function(e){this.form.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.form.currentPage=e,this.requestList()},resetForm:function(){this.$refs.form.resetFields()},search:function(){this.form.currentPage=1,this.form.pageSize=10,this.requestList()},requestList:function(){var e=this;this.$http.post(this.$apiUrl.agent.firstWaitAuditList,this.form,{loading:{fullscreen:!0}}).then(function(t){e.rejectList=t.data.data}).catch(function(e){console.log(e,"失败")})},agencyList:function(){var e=this;this.$http.get(this.$apiUrl.agent.list).then(function(t){e.agencyInfoList=t.data.data}).catch(function(e){console.log(e,"代理商列表失败")})},requestSubmitList:function(){var e=this;this.$http.get(this.$apiUrl.common.employee+"?personType=9").then(function(t){e.submitPeopleList=t.data.data}).catch(function(e){console.log(e)})}}},Nt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",staticClass:"gap-2",attrs:{model:e.form,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"提交人",prop:"submitterId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.requestSubmitList},model:{value:e.form.submitterId,callback:function(t){e.$set(e.form,"submitterId",t)},expression:"form.submitterId"}},e._l(e.submitPeopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"审核时间",prop:"auditTime"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.form.auditTime,callback:function(t){e.$set(e.form,"auditTime",t)},expression:"form.auditTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核人",prop:"auditorId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.requestSubmitList},model:{value:e.form.auditorId,callback:function(t){e.$set(e.form,"auditorId",t)},expression:"form.auditorId"}},e._l(e.submitPeopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"代理商",prop:"targetId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.agencyList},model:{value:e.form.targetId,callback:function(t){e.$set(e.form,"targetId",t)},expression:"form.targetId"}},e._l(e.agencyInfoList,function(e){return a("el-option",{key:e.agencyId,attrs:{label:e.agencyCompanyName,value:e.agencyId}})}))],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:11}},[a("el-button",{staticClass:"reset",on:{click:e.resetForm}},[e._v("重置")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"search-result"},[e._v("共搜索到"+e._s(e.rejectList.total)+"条数据")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rejectList.data,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"代理商公司名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",label:"类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"submitterName",label:"提交人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditorName",label:"审核人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"驳回时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditRemark",label:"驳回原因",align:"center"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.form.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.form.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.rejectList.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Tt={name:"auditPass",data:function(){return{agencyInfoList:[],form:{auditorId:"",auditName:"",auditType:2,auditTime:[],targetId:"",currentPage:1,pageSize:10,submitterId:"",submitName:"",targetState:3},passList:{},submitPeopleList:[]}},created:function(){this.requestList(),this.requestSubmitList(),this.agencyList()},methods:{handleSizeChange:function(e){this.form.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.form.currentPage=e,this.requestList()},resetForm:function(){this.$refs.form.resetFields()},search:function(){this.form.currentPage=1,this.form.pageSize=10,this.requestList()},requestList:function(){var e=this;this.$http.post(this.$apiUrl.agent.firstWaitAuditList,this.form,{loading:{fullscreen:!0}}).then(function(t){e.passList=t.data.data}).catch(function(e){console.log(e,"失败")})},agencyList:function(){var e=this;this.$http.get(this.$apiUrl.agent.list).then(function(t){e.agencyInfoList=t.data.data}).catch(function(e){console.log(e,"代理商列表失败")})},requestSubmitList:function(){var e=this;this.$http.get(this.$apiUrl.common.employee+"?personType=9").then(function(t){e.submitPeopleList=t.data.data}).catch(function(e){console.log(e)})}}},At={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",staticClass:"gap-2",attrs:{model:e.form,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"提交人",prop:"submitterId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.requestSubmitList},model:{value:e.form.submitterId,callback:function(t){e.$set(e.form,"submitterId",t)},expression:"form.submitterId"}},e._l(e.submitPeopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"审核时间",prop:"auditTime"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.form.auditTime,callback:function(t){e.$set(e.form,"auditTime",t)},expression:"form.auditTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核人",prop:"auditorId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.requestSubmitList},model:{value:e.form.auditorId,callback:function(t){e.$set(e.form,"auditorId",t)},expression:"form.auditorId"}},e._l(e.submitPeopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"代理商",prop:"targetId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.agencyList},model:{value:e.form.targetId,callback:function(t){e.$set(e.form,"targetId",t)},expression:"form.targetId"}},e._l(e.agencyInfoList,function(e){return a("el-option",{key:e.agencyId,attrs:{label:e.agencyCompanyName,value:e.agencyId}})}))],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:11}},[a("el-button",{staticClass:"reset",on:{click:e.resetForm}},[e._v("重置")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"search-result"},[e._v("共搜索到 "+e._s(e.passList.total)+"条数据")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.passList.data,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"代理商公司名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",label:"类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"submitterName",label:"提交人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditorName",label:"审核人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"审核时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditRemark",label:"备注",align:"center"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.form.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.form.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.passList.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Ft={name:"ServiceFeeAuditResult",components:{BreadCrumb:Pe,WaitAudit:a("VU/8")(St,Lt,!1,function(e){a("bEtU")},"data-v-63f9d3aa",null).exports,AuditNoPass:a("VU/8")($t,Nt,!1,function(e){a("J61e")},"data-v-6ef56f38",null).exports,AuditPass:a("VU/8")(Tt,At,!1,function(e){a("/nfL")},"data-v-001a0972",null).exports},data:function(){return{auditType:"2",breadCrumb:[{text:"首次加盟审核"},{text:"平台服务费审核"}],wait:!0,reject:!1,pass:!1,total:{}}},created:function(){var e=this;this.$http.post(this.$apiUrl.agent.firstAuditSummary,{auditType:this.auditType}).then(function(t){e.total=t.data.data[0]}).catch(function(e){console.log(e)})},methods:{agentTab:function(){this.wait=!0,this.reject=!1,this.pass=!1},companyTab:function(){this.wait=!1,this.reject=!0,this.pass=!1},storeTab:function(){this.wait=!1,this.reject=!1,this.pass=!0}}},Pt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("div",{staticClass:"tabs"},[a("div",{staticClass:"tab",class:{wait:e.wait},on:{click:e.agentTab}},[a("p",{staticClass:"account"},[e._v(e._s(e.total.waitTotal))]),e._v(" "),a("p",[e._v("待审核代理商")])]),e._v(" "),a("div",{staticClass:"tab",class:{reject:e.reject},on:{click:e.companyTab}},[a("p",{staticClass:"account"},[e._v(e._s(e.total.rejectTotal))]),e._v(" "),a("p",[e._v("已驳回")])]),e._v(" "),a("div",{staticClass:"tab",class:{pass:e.pass},on:{click:e.storeTab}},[a("p",{staticClass:"account"},[e._v(e._s(e.total.auditedTotal))]),e._v(" "),a("p",[e._v("通过")])]),e._v(" "),a("p",{staticStyle:{clear:"both"}})]),e._v(" "),e.wait?a("wait-audit"):e._e(),e._v(" "),e.reject?a("audit-no-pass"):e._e(),e._v(" "),e.pass?a("audit-pass"):e._e()],1)],1)},staticRenderFns:[]};var zt=a("VU/8")(Ft,Pt,!1,function(e){a("Ujlw")},"data-v-60639148",null).exports,Rt={name:"waitAudit",mixins:[He],data:function(){return{privilegeOption:{agentAgainAudit:"/professionAuditResult#agentAgainAudit"},pagination:{currentPage:1,pageSize:10,total:null},waitAuditList:[]}},created:function(){this.requestList()},methods:{handleSizeChange:function(e){this.pagination.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.pagination.currentPage=e,this.requestList()},audit:function(e,t){},requestList:function(){var e=this,t={auditType:"1",currentPage:this.pagination.currentPage,pageSize:this.pagination.pageSize,targetState:"1"};this.$http.post(this.$apiUrl.professionAudit.auditList,t).then(function(t){e.pagination.total=t.data.data.total,e.waitAuditList=t.data.data.data,console.log("成功")}).catch(function(e){console.log(e)})}}},Dt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search-result"},[e._v("共搜索到 "+e._s(e.pagination.total)+"条数据")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.waitAuditList,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"代理商公司名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cityName",label:"地区",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"submitterName",label:"提交人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("span",{staticClass:"circle"}),a("span",[e._v("待审核")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"提交时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.privileges.agentAgainAudit,expression:"privileges.agentAgainAudit"}],attrs:{size:"mini",type:"text"},on:{click:function(a){e.audit(t.$index,t.row)}}},[e._v("审核")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":[10,20,100,500],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Mt={name:"auditNoPass",data:function(){return{pagination:{currentPage:1,pageSize:10,total:null},passAuditList:[],submitPeopleList:[],form:{auditorId:"",auditType:"1",auditName:"",auditTime:[],targetName:"",currentPage:1,pageSize:10,submitterId:"",submitName:"",targetState:"2"}}},created:function(){this.requestList()},methods:{handleSizeChange:function(e){this.form.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.form.currentPage=e,this.requestList()},resetForm:function(){this.$refs.form.resetFields()},search:function(){this.requestList()},requestList:function(){var e=this;this.$http.post(this.$apiUrl.professionAudit.auditList,this.form).then(function(t){e.pagination.total=t.data.data.total,e.passAuditList=t.data.data.data,console.log(t,"成功")}).catch(function(e){console.log(e,"失败")})},requestSubmitList:function(){var e=this;this.$http.get(this.$apiUrl.common.employee+"?personType=9").then(function(t){e.submitPeopleList=t.data.data}).catch(function(e){console.log(e)})}}},Ut={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",staticClass:"gap-2",attrs:{model:e.form,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"提交人",prop:"submitterId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.requestSubmitList},model:{value:e.form.submitterId,callback:function(t){e.$set(e.form,"submitterId",t)},expression:"form.submitterId"}},e._l(e.submitPeopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"审核时间",prop:"auditTime"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.form.auditTime,callback:function(t){e.$set(e.form,"auditTime",t)},expression:"form.auditTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核人",prop:"auditorId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.requestSubmitList},model:{value:e.form.auditorId,callback:function(t){e.$set(e.form,"auditorId",t)},expression:"form.auditorId"}},e._l(e.submitPeopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"代理商",prop:"targetName"}},[a("el-input",{model:{value:e.form.targetName,callback:function(t){e.$set(e.form,"targetName",t)},expression:"form.targetName"}})],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:11}},[a("el-button",{staticClass:"reset",on:{click:e.resetForm}},[e._v("重置")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"search-result"},[e._v("共搜索到 "+e._s(e.pagination.total)+"条数据")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.passAuditList,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"代理商名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",label:"类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"submitterName",label:"提交人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditorName",label:"审核人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"审核时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditRemark",label:"备注",align:"center"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.form.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.form.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Bt={name:"auditPass",data:function(){return{pagination:{currentPage:1,pageSize:10,total:null},passAuditList:[],submitPeopleList:[],form:{auditorId:"",auditType:"1",auditName:"",auditTime:[],targetName:"",currentPage:1,pageSize:10,submitterId:"",submitName:"",targetState:"3"}}},created:function(){this.requestList()},methods:{handleSizeChange:function(e){this.form.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.form.currentPage=e,this.requestList()},resetForm:function(){this.$refs.form.resetFields()},search:function(){this.requestList()},requestList:function(){var e=this;this.$http.post(this.$apiUrl.professionAudit.auditList,this.form).then(function(t){e.pagination.total=t.data.data.total,e.passAuditList=t.data.data.data,console.log(t,"成功")}).catch(function(e){console.log(e,"失败")})},requestSubmitList:function(){var e=this;this.$http.get(this.$apiUrl.common.employee+"?personType=9").then(function(t){e.submitPeopleList=t.data.data}).catch(function(e){console.log(e)})}}},Et={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",staticClass:"gap-2",attrs:{model:e.form,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"提交人",prop:"submitterId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.requestSubmitList},model:{value:e.form.submitterId,callback:function(t){e.$set(e.form,"submitterId",t)},expression:"form.submitterId"}},e._l(e.submitPeopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"审核时间",prop:"auditTime"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.form.auditTime,callback:function(t){e.$set(e.form,"auditTime",t)},expression:"form.auditTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核人",prop:"auditorId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.requestSubmitList},model:{value:e.form.auditorId,callback:function(t){e.$set(e.form,"auditorId",t)},expression:"form.auditorId"}},e._l(e.submitPeopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"代理商",prop:"targetName"}},[a("el-input",{model:{value:e.form.targetName,callback:function(t){e.$set(e.form,"targetName",t)},expression:"form.targetName"}})],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:11}},[a("el-button",{staticClass:"reset",on:{click:e.resetForm}},[e._v("重置")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"search-result"},[e._v("共搜索到 "+e._s(e.pagination.total)+"条数据")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.passAuditList,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"代理商名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",label:"类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"submitterName",label:"提交人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditorName",label:"审核人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"审核时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditRemark",label:"备注",align:"center"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var qt={name:"ProfessionAuditResult",components:{BreadCrumb:Pe,WaitAudit:a("VU/8")(Rt,Dt,!1,function(e){a("+053")},"data-v-28990ca6",null).exports,AuditNoPass:a("VU/8")(Mt,Ut,!1,function(e){a("Bqhj")},"data-v-1ea60297",null).exports,AuditPass:a("VU/8")(Bt,Et,!1,function(e){a("dq6T")},"data-v-0cb6cae8",null).exports},data:function(){return{breadCrumb:[{text:"业务审核"},{text:"编辑审核"}],wait:!0,reject:!1,pass:!1,total:{}}},created:function(){var e=this;this.$http.post(this.$apiUrl.professionAudit.summary,{auditType:"1"}).then(function(t){e.total=t.data.data[0]}).catch(function(e){console.log(e)})},methods:{agentTab:function(){this.wait=!0,this.reject=!1,this.pass=!1},companyTab:function(){this.wait=!1,this.reject=!0,this.pass=!1},storeTab:function(){this.wait=!1,this.reject=!1,this.pass=!0}}},Vt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("div",{staticClass:"tabs"},[a("div",{staticClass:"tab",class:{wait:e.wait},on:{click:e.agentTab}},[a("p",{staticClass:"account"},[e._v(e._s(e.total.waitTotal))]),e._v(" "),a("p",[e._v("待审核代理商")])]),e._v(" "),a("div",{staticClass:"tab",class:{reject:e.reject},on:{click:e.companyTab}},[a("p",{staticClass:"account"},[e._v(e._s(e.total.rejectTotal))]),e._v(" "),a("p",[e._v("已驳回")])]),e._v(" "),a("div",{staticClass:"tab",class:{pass:e.pass},on:{click:e.storeTab}},[a("p",{staticClass:"account"},[e._v(e._s(e.total.auditedTotal))]),e._v(" "),a("p",[e._v("通过")])]),e._v(" "),a("p",{staticStyle:{clear:"both"}})]),e._v(" "),e.wait?a("wait-audit"):e._e(),e._v(" "),e.reject?a("audit-no-pass"):e._e(),e._v(" "),e.pass?a("audit-pass"):e._e()],1)],1)},staticRenderFns:[]};var jt=a("VU/8")(qt,Vt,!1,function(e){a("gqDz")},"data-v-4abd9871",null).exports,Ot={name:"waitAudit",mixins:[He],data:function(){return{privilegeOption:{endJoinList:"/professionEndResult#endJoinList"},targetState:"1",pagination:{currentPage:1,pageSize:10,total:null},waitAuditList:[]}},created:function(){this.requestList()},methods:{handleSizeChange:function(e){this.pagination.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.pagination.currentPage=e,this.requestList()},audit:function(e,t){this.$router.push({name:"ProfessionEndVerify",query:{targetId:t.targetId,targetType:t.targetType}})},requestList:function(){var e=this,t={targetState:this.targetState,currentPage:this.pagination.currentPage,pageSize:this.pagination.pageSize};this.$http.post(this.$apiUrl.professionEnd.list,t,{loading:{fullscreen:!0}}).then(function(t){e.pagination.total=t.data.data.total,e.waitAuditList=t.data.data.data}).catch(function(e){console.log(e,"waitAudit失败")})}}},Jt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search-result",staticStyle:{"margin-bottom":"20px"}},[e._v("共搜索到"+e._s(e.pagination.total)+"条数据")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.waitAuditList,border:""}},[a("el-table-column",{attrs:{prop:"targetName",label:"名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"targetTypeName",label:"类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"subbmitterName",label:"提交人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"submitTime",label:"提交时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operateRemark",label:"终止原因",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.privileges.endJoinList,expression:"privileges.endJoinList"}],attrs:{size:"mini",type:"text"},on:{click:function(a){e.audit(t.$index,t.row)}}},[e._v("审核")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Wt={name:"auditNoPass",data:function(){return{pagination:{currentPage:1,pageSize:10,total:null},passAuditList:[],submitPeopleList:[],form:{auditorId:"",auditName:"",auditTime:[],targetState:"2",targetName:"",currentPage:1,pageSize:10,submitterId:"",submitName:""}}},created:function(){this.requestList()},methods:{handleSizeChange:function(e){this.form.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.form.currentPage=e,this.requestList()},resetForm:function(){this.form.currentPage=1,this.form.pageSize=10,this.$refs.form.resetFields()},search:function(){this.requestList()},requestList:function(){var e=this;this.$http.post(this.$apiUrl.professionEnd.list,this.form,{loading:{fullscreen:!0}}).then(function(t){e.pagination.total=t.data.data.total,e.passAuditList=t.data.data.data}).catch(function(e){console.log(e,"失败")})},requestSubmitList:function(){var e=this;this.$http.get(this.$apiUrl.common.employee+"?personType=9").then(function(t){e.submitPeopleList=t.data.data}).catch(function(e){console.log(e)})}}},Ht={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",staticClass:"gap-2",attrs:{model:e.form,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"提交人",prop:"submitterId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.requestSubmitList},model:{value:e.form.submitterId,callback:function(t){e.$set(e.form,"submitterId",t)},expression:"form.submitterId"}},e._l(e.submitPeopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"审核时间",prop:"auditTime"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.form.auditTime,callback:function(t){e.$set(e.form,"auditTime",t)},expression:"form.auditTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核人",prop:"auditorId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.requestSubmitList},model:{value:e.form.auditorId,callback:function(t){e.$set(e.form,"auditorId",t)},expression:"form.auditorId"}},e._l(e.submitPeopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"门店/代理商",prop:"targetName"}},[a("el-input",{model:{value:e.form.targetName,callback:function(t){e.$set(e.form,"targetName",t)},expression:"form.targetName"}})],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:11}},[a("el-button",{staticClass:"reset",on:{click:e.resetForm}},[e._v("重置")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"search-result"},[e._v("共搜索到 "+e._s(e.pagination.total)+"条数据")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.passAuditList,border:""}},[a("el-table-column",{attrs:{prop:"targetName",label:"名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"targetTypeName",label:"类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"subbmitterName",label:"提交人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"审核时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operateRemark",label:"终止原因",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditRemark",label:"驳回原因",align:"center"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.form.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.form.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Zt={name:"auditPass",data:function(){return{pagination:{total:null},passAuditList:[],submitPeopleList:[],form:{auditorId:"",auditTime:[],targetState:"3",targetName:"",currentPage:1,pageSize:10,submitterId:""}}},created:function(){this.requestList()},methods:{handleSizeChange:function(e){this.form.pageSize=e,this.requestList()},handleCurrentChange:function(e){this.form.currentPage=e,this.requestList()},resetForm:function(){this.$refs.form.resetFields()},search:function(){this.form.currentPage=1,this.form.pageSize=10,this.requestList()},requestList:function(){var e=this;this.$http.post(this.$apiUrl.professionEnd.list,this.form,{loading:{fullscreen:!0}}).then(function(t){e.pagination.total=t.data.data.total,e.passAuditList=t.data.data.data}).catch(function(e){console.log(e,"失败")})},requestSubmitList:function(){var e=this;this.$http.get(this.$apiUrl.common.employee+"?personType=9").then(function(t){e.submitPeopleList=t.data.data}).catch(function(e){console.log(e)})}}},Kt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",staticClass:"gap-2",attrs:{model:e.form,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"提交人",prop:"submitterId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.requestSubmitList},model:{value:e.form.submitterId,callback:function(t){e.$set(e.form,"submitterId",t)},expression:"form.submitterId"}},e._l(e.submitPeopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"审核时间",prop:"auditTime"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.form.auditTime,callback:function(t){e.$set(e.form,"auditTime",t)},expression:"form.auditTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核人",prop:"auditorId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.requestSubmitList},model:{value:e.form.auditorId,callback:function(t){e.$set(e.form,"auditorId",t)},expression:"form.auditorId"}},e._l(e.submitPeopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"门店/代理商",prop:"targetName"}},[a("el-input",{model:{value:e.form.targetName,callback:function(t){e.$set(e.form,"targetName",t)},expression:"form.targetName"}})],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:11}},[a("el-button",{staticClass:"reset",on:{click:e.resetForm}},[e._v("重置")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"search-result"},[e._v("共搜索到 "+e._s(e.pagination.total)+"条数据")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.passAuditList,border:""}},[a("el-table-column",{attrs:{prop:"targetName",label:"名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"targetTypeName",label:"类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"subbmitterName",label:"提交人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"审核时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operateRemark",label:"终止原因",align:"center"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.form.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.form.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Xt={name:"ProfessionEndResult",components:{BreadCrumb:Pe,WaitAudit:a("VU/8")(Ot,Jt,!1,function(e){a("NGnZ")},"data-v-33c048ef",null).exports,AuditNoPass:a("VU/8")(Wt,Ht,!1,function(e){a("dkzH")},"data-v-2ca42f98",null).exports,AuditPass:a("VU/8")(Zt,Kt,!1,function(e){a("+nzQ")},"data-v-da0f0158",null).exports},data:function(){return{breadCrumb:[{text:"业务审核"},{text:"终止合作"}],wait:!0,reject:!1,pass:!1,total:""}},created:function(){var e=this;this.$http.get(this.$apiUrl.professionEnd.summary).then(function(t){e.total=t.data.data}).catch(function(e){console.log(e)})},methods:{agentTab:function(){this.wait=!0,this.reject=!1,this.pass=!1},companyTab:function(){this.wait=!1,this.reject=!0,this.pass=!1},storeTab:function(){this.wait=!1,this.reject=!1,this.pass=!0}}},Yt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("div",{staticClass:"tabs"},[a("div",{staticClass:"tab",class:{wait:e.wait},on:{click:e.agentTab}},[a("p",{staticClass:"account"},[e._v(e._s(e.total.waitTotal||0))]),e._v(" "),a("p",[e._v("待审核")])]),e._v(" "),a("div",{staticClass:"tab",class:{reject:e.reject},on:{click:e.companyTab}},[a("p",{staticClass:"account"},[e._v(e._s(e.total.rejectTotal||0))]),e._v(" "),a("p",[e._v("已驳回")])]),e._v(" "),a("div",{staticClass:"tab",class:{pass:e.pass},on:{click:e.storeTab}},[a("p",{staticClass:"account"},[e._v(e._s(e.total.adoptTotal||0))]),e._v(" "),a("p",[e._v("通过")])]),e._v(" "),a("p",{staticStyle:{clear:"both"}})]),e._v(" "),e.wait?a("wait-audit"):e._e(),e._v(" "),e.reject?a("audit-no-pass"):e._e(),e._v(" "),e.pass?a("audit-pass"):e._e()],1)],1)},staticRenderFns:[]};var Gt=a("VU/8")(Xt,Yt,!1,function(e){a("xfHo")},"data-v-1c524941",null).exports,Qt={name:"ProfessionAuditVerify",components:{BreadCrumb:Pe},data:function(){return{auditType:"1",breadCrumb:[{text:"业务审核"},{text:"编辑审核"},{text:"审核"}],historyRecords:[],searInfoList:[],dialogVisible:!1,remark:"",title:"",id:this.$route.query.id}},created:function(){this.$http.get(this.$apiUrl.professionAudit.detailContract+"?id="+this.id).then(function(e){console.log("编辑详情")}).catch(function(e){console.log(e)}),this.$http.get(this.$apiUrl.professionAudit.historyAudit+"?id="+this.id).then(function(e){console.log("历史审核记录")}).catch(function(e){console.log(e)})},methods:{handleReject:function(){this.dialogVisible=!0,this.title="驳回"},handleApprove:function(){this.dialogVisible=!0,this.title="审核通过"},handleClose:function(){history.back()},submit:function(){var e={targetId:this.id,auditType:this.auditType,remark:this.remark};"驳回"==this.title?this.remark?this.$http.post(this.$apiUrl.professionAudit.reject,e).then(function(e){console.log("驳回"),this.remark=""}).catch(function(e){console.log(e)}):this.$message.error("请填写驳回原因"):this.$http.post(this.$apiUrl.professionAudit.pass,e).then(function(e){console.log("通过"),this.remark=""}).catch(function(e){console.log(e)})}}},ea={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("div",{staticClass:"hd"},[e._v("被编辑代理商公司：大锤字信息科技有限公司 "),a("span",{staticClass:"skip"},[e._v("查看公司详情")])]),e._v(" "),a("div",[e._v("备注信息：")]),e._v(" "),a("div",[e._v("为什么修改了，修改了哪些字段，此处文字来源为编辑时提交编辑弹出的二次确认弹窗所输入的相关备注信息")]),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"50px"},attrs:{data:e.searInfoList,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"栏位",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"字段",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"原内容",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"编辑后内容",align:"center"}})],1),e._v(" "),a("div",{staticClass:"gap-2"},[a("el-button",{staticStyle:{width:"140px"},attrs:{type:"danger"},on:{click:e.handleReject}},[e._v("驳回")]),e._v(" "),a("el-button",{staticStyle:{width:"140px"},attrs:{type:"primary"},on:{click:e.handleApprove}},[e._v("通过")]),e._v(" "),a("el-button",{staticStyle:{width:"140px"},attrs:{type:""},on:{click:e.handleClose}},[e._v("关闭")])],1),e._v(" "),a("h2",{staticClass:"gap-2"},[e._v("历史审核记录")]),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-bottom":"40px"},attrs:{data:e.historyRecords,stripe:""}},[a("el-table-column",{attrs:{prop:"commitDate",label:"提交时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"verifyDate",label:"审核时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"verifyStatus",label:"审核状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rejectReason",label:"驳回理由"}}),e._v(" "),a("el-table-column",{attrs:{prop:"verifyPerson",label:"审核人"}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.remark,expression:"remark"}],staticStyle:{width:"100%"},attrs:{name:"",id:"",rows:"10",placeholder:"请添加备注"},domProps:{value:e.remark},on:{input:function(t){t.target.composing||(e.remark=t.target.value)}}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1,e.submit()}}},[e._v("确 定")])],1)])],1)],1)},staticRenderFns:[]};var ta=a("VU/8")(Qt,ea,!1,function(e){a("twNr")},"data-v-37240f12",null).exports,aa={name:"ProfessionEndVerify",components:{BreadCrumb:Pe},data:function(){return{breadCrumb:[{text:"业务审核"},{text:"终止合作"},{text:"审核"}],historyRecords:[],dialogVisible:!1,operateRemark:"",remark:"",title:"",targetId:this.$route.query.targetId,targetType:this.$route.query.targetType}},created:function(){var e=this;this.$http.get(this.$apiUrl.professionEnd.endDetail+"?targetId="+this.targetId+"&targetType="+this.targetType).then(function(t){e.operateRemark=t.data.data.operateRemark}).catch(function(e){console.log(e,"终止合作失败")});var t={targetId:this.targetId,targetType:this.targetType,auditType:3};this.$http.post(this.$apiUrl.professionEnd.historyRecords,t).then(function(t){e.historyRecords=t.data.data}).catch(function(e){console.log(e)})},methods:{handleReject:function(){this.dialogVisible=!0,this.title="驳回"},handleApprove:function(){this.dialogVisible=!0,this.title="通过"},handleClose:function(){history.back()},cancel:function(){this.dialogVisible=!1,this.remark=""},submit:function(){this.$refs.button.disabled=!0;var e={targetId:this.targetId,targetType:this.targetType,remark:this.remark},t=this;"驳回"==this.title?this.remark?this.$http.post(this.$apiUrl.professionEnd.reject,e).then(function(e){t.remark="",t.dialogVisible=!1,t.$message.success("驳回请求通过"),history.back()}).catch(function(e){t.$message.error("驳回请求失败")}):t.$message.error("请填写驳回原因"):this.$http.post(this.$apiUrl.professionEnd.adopt,e).then(function(e){t.remark="",t.dialogVisible=!1,t.$message.success("通过请求成功"),history.back()}).catch(function(e){t.$message.error("通过请求失败")})}}},ia={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("div",{staticClass:"hd"},[e._v("终止合作原因： ")]),e._v(" "),a("div",[e._v(e._s(e.operateRemark))]),e._v(" "),a("div",{staticClass:"gap-2"},[a("el-button",{staticStyle:{width:"140px"},attrs:{type:"danger"},on:{click:e.handleReject}},[e._v("驳回")]),e._v(" "),a("el-button",{staticStyle:{width:"140px"},attrs:{type:"primary"},on:{click:e.handleApprove}},[e._v("通过")]),e._v(" "),a("el-button",{staticStyle:{width:"140px"},attrs:{type:""},on:{click:e.handleClose}},[e._v("关闭")])],1),e._v(" "),a("h2",{staticClass:"gap-2"},[e._v("历史审核记录")]),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-bottom":"40px"},attrs:{data:e.historyRecords,stripe:""}},[a("el-table-column",{attrs:{prop:"operatetime",label:"提交时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"审核时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"result",label:"审核状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"驳回理由"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditorName",label:"审核人"}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.remark,expression:"remark"}],staticStyle:{width:"100%"},attrs:{name:"",id:"",rows:"10",placeholder:"请添加备注"},domProps:{value:e.remark},on:{input:function(t){t.target.composing||(e.remark=t.target.value)}}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{ref:"button",attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)])],1)],1)},staticRenderFns:[]};var na=a("VU/8")(aa,ia,!1,function(e){a("phPw")},"data-v-28978c67",null).exports,ra={name:"AgentManagement",components:{BreadCrumb:Pe,Region:E},mixins:[He],data:function(){return{privilegeOption:{addAgent:"/agentManagement#addAgent",followUp:"/agentManagement#followUp",resubmit:"/agentManagement#resubmit",agentEdit:"/agentManagement#agentEdit",agentEndJoin:"/agentManagement#agentEndJoin",import:"/agentManagement#importBtn"},agencyInfo:{},agencyInfoList:[],agencySotre:"",breadCrumb:[{text:"加盟管理"},{text:"代理商管理"}],companyInfoIndex:"",currentCompanyInfo:"",endLevel:2,firstDialogVisible:!1,remark:"",secondDialogVisible:!1,startLevel:1,summary:{},isTerminate:null,title:"",form:{agencyId:null,agencyState:"0",agencyTag:"0",agencyType:"0",cityId:null,cityList:[],cooperationTime:null,currentPage:1,pageSize:10,searchDate:null,searchDay:null,searchType:null},importUrl:this.$apiUrl.getFullUrl("/agency/upload")}},created:function(){this.requestList(),this.agencyList()},methods:{prompt:function(){var e=this,t=this;t.firstDialogVisible=!1,this.$prompt("","!终止合作,一旦终止合作,将无法重新再启用",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"textarea",inputPlaceholder:"请添加终止合作原因",customClass:"agent-end-join",inputValidator:function(e){return e&&e.length>200?"最多输入200个字符":!!e||"请填写终止合作原因"}}).then(function(a){var i=a.value;i?e.$http.post(e.$apiUrl.agent.terminate+"/"+e.currentCompanyInfo.agencyId+"?remark="+i).then(function(e){t.$message({message:"提交成功",type:"success"}),t.requestList()}).catch(function(e){t.$message({message:"提交失败",type:"error"})}):t.$message({message:"请填写终止合作原因",type:"warning"})})},know:function(){this.firstDialogVisible=!1},agencyList:function(){var e=this;this.$http.get(this.$apiUrl.agent.list).then(function(t){e.agencyInfoList=t.data.data}).catch(function(e){console.log(e,"代理商列表失败")})},edit:function(e,t){this.$router.push({name:"EditAgent",params:{id:t.agencyId}})},followUp:function(e,t){this.$router.push({name:"FollowUp",query:{agencyId:t.agencyId}})},endJoin:function(e,t){this.currentCompanyInfo=t,this.agencySotre=this.currentCompanyInfo.storeTotal,this.isTerminate=this.currentCompanyInfo.isTerminate,0==this.isTerminate||2==this.isTerminate?this.agencySotre?this.firstDialogVisible=!0:this.prompt():(this.isTerminate=1)?this.$message.warning("该代理商正在审核中，请稍候再试"):this.$message.warning("该代理商已被终止合作")},detail:function(e,t){this.$router.push({name:"AgentDetail",params:{id:t.agencyId}})},reSubmit:function(e,t){this.$router.push({name:"EditAgent",params:{id:t.agencyId}})},reset:function(){this.form={agencyId:null,agencyState:"0",agencyTag:"0",agencyType:"0",cityId:null,cityList:[],cooperationTime:null,currentPage:this.form.currentPage,pageSize:this.form.pageSize,searchDate:null,searchDay:null,searchType:null}},search:function(){this.form.currentPage=1,this.form.pageSize=10,this.requestList()},handleSizeChange:function(e){e!=this.form.pageSize&&(this.form.pageSize=e,this.requestList())},handleCurrentChange:function(e){e!=this.form.currentPage&&(this.form.currentPage=e,this.requestList())},addAgent:function(){this.$router.push({path:"/agent/createAgent"})},continueJoin:function(){this.secondDialogVisible=!1,this.remark=""},requestList:function(){var e=this;this.form.cityList.length&&(this.form.cityId=this.form.cityList[1]),0==this.form.agencyState||3==this.form.agencyState||(this.form.agencyTag="0");var t=u()({},this.form);delete t.cityList,delete t.searchType,this.$http.post(this.$apiUrl.agent.list,t,{loading:{fullscreen:!0}}).then(function(t){e.agencyInfo=t.data.data}).catch(function(e){console.log(e,"代理商列表接口错误")}),this.$http.post(this.$apiUrl.agent.summary,t).then(function(t){e.summary=t.data.data,e.fullscreenLoading=!1}).catch(function(t){e.fullscreenLoading=!1,console.log(t)})},handleSuccess:function(e){1==e.status?this.$message({message:"导入成功",type:"success"}):this.$message.error(e.message||"导入失败")},handleBeforeUpload:function(e){var t=e.name.indexOf(".xls")>-1||e.name.indexOf(".xlsx")>-1;return t||this.$message.error("只支持Excel文件格式！"),t}}},sa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.privileges.addAgent,expression:"privileges.addAgent"}],attrs:{type:"primary",size:"small"},on:{click:e.addAgent}},[e._v("添加代理商")]),e._v(" "),a("el-upload",{directives:[{name:"show",rawName:"v-show",value:e.privileges.import,expression:"privileges.import"}],staticClass:"import-agent",attrs:{action:e.importUrl,"on-success":e.handleSuccess,"before-upload":e.handleBeforeUpload,"list-type":"none"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("批量导入")])],1)],1),e._v(" "),a("el-form",{ref:"form",staticClass:"gap",attrs:{model:e.form,"label-width":"180px","label-position":"right"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"地区",prop:"cityList"}},[a("region",{attrs:{startLevel:e.startLevel,endLevel:e.endLevel},model:{value:e.form.cityList,callback:function(t){e.$set(e.form,"cityList",t)},expression:"form.cityList"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合作状态",prop:"agencyState"}},[a("el-select",{attrs:{filterable:""},model:{value:e.form.agencyState,callback:function(t){e.$set(e.form,"agencyState",t)},expression:"form.agencyState"}},[a("el-option",{attrs:{label:"全部",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"待审核",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"已驳回",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"合作中",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"已到期",value:"4"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"合作时间",prop:"cooperationTime"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:e.form.cooperationTime,callback:function(t){e.$set(e.form,"cooperationTime",t)},expression:"form.cooperationTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理商类型",prop:"agencyType"}},[a("el-select",{attrs:{filterable:""},model:{value:e.form.agencyType,callback:function(t){e.$set(e.form,"agencyType",t)},expression:"form.agencyType"}},[a("el-option",{attrs:{label:"全部",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"城市代理",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"区域代理",value:"2"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"到期查询",prop:"searchType"}},[a("el-select",{attrs:{filterable:""},model:{value:e.form.searchType,callback:function(t){e.$set(e.form,"searchType",t)},expression:"form.searchType"}},[a("el-option",{attrs:{label:"请选择查询方式",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"按即将到期天数查询",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"按合作结束日期查询",value:"2"}})],1)],1)],1),e._v(" "),1==e.form.searchType?a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"expire",attrs:{prop:"searchDay","label-width":"0"}},[a("el-input",{attrs:{placeholder:"请输入整数"},model:{value:e.form.searchDay,callback:function(t){e.$set(e.form,"searchDay",t)},expression:"form.searchDay"}})],1)],1):e._e(),e._v(" "),2==e.form.searchType?a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"expire",attrs:{prop:"searchDate","label-width":"0"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.searchDate,callback:function(t){e.$set(e.form,"searchDate",t)},expression:"form.searchDate"}})],1)],1):e._e()],1),e._v(" "),0==e.form.agencyState||3==e.form.agencyState?a("el-form-item",{attrs:{label:"合作标签",prop:"agencyTag"}},[a("el-select",{attrs:{filterable:""},model:{value:e.form.agencyTag,callback:function(t){e.$set(e.form,"agencyTag",t)},expression:"form.agencyTag"}},[a("el-option",{attrs:{label:"全部",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"正常合作",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"待补足资料",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"首次待缴费",value:"3"}})],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"代理商公司名称",prop:"agencyId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:!0},on:{focus:e.agencyList},model:{value:e.form.agencyId,callback:function(t){e.$set(e.form,"agencyId",t)},expression:"form.agencyId"}},e._l(e.agencyInfoList,function(e){return a("el-option",{key:e.agencyId,attrs:{label:e.agencyCompanyName,value:e.agencyId}})}))],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:11}},[a("el-button",{staticClass:"reset",on:{click:e.reset}},[e._v("重置")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),a("span",{staticClass:"search-result"},[e._v("共搜索到 "+e._s(e.summary.agencyTotal)+"家代理商，"+e._s(e.summary.regionTotal)+"个代理区域，"+e._s(e.summary.storeTotal)+"家门店")]),e._v(" "),a("span",{staticStyle:{"margin-left":"20px"}},[a("el-tooltip",{attrs:{placement:"right",effect:"light"}},[a("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"text"}},[e._v("?")]),e._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[e._v("a、正常合作： 正常合作")]),e._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[e._v("b、首次待缴费：合作的时候还没有付费")]),e._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[e._v("c、待补足资料：合作的时候还没有注册公司")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.agencyInfo.data,border:""}},[a("el-table-column",{attrs:{prop:"agencyCompanyName",label:"代理商公司名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cityName",label:"城市",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agencyTypeName",label:"代理商类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"regionTotal",label:"代理区域数量",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"storeTotal",label:"门店数量",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agencyStateName",label:"合作状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tagsName",label:"合作标签",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"startTime",label:"合作开始",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endTime",label:"合作结束",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[2!=t.row.agencyState?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.detail(t.$index,t.row)}}},[e._v("详情")]):e._e(),e._v(" "),2!=t.row.agencyState?a("el-dropdown",{attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link",staticStyle:{color:"#409EFF","font-size":"12px"}},[e._v("更多"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[1!=t.row.agencyState&&e.privileges.agentEdit?a("el-dropdown-item",{nativeOn:{click:function(a){e.edit(t.$index,t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),a("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:e.privileges.followUp,expression:"privileges.followUp"}],nativeOn:{click:function(a){e.followUp(t.$index,t.row)}}},[e._v("跟进")]),e._v(" "),4==t.row.agencyState&&e.privileges.agentEndJoin?a("el-dropdown-item",{nativeOn:{click:function(a){e.endJoin(t.$index,t.row)}}},[e._v("终止合作")]):e._e()],1)],1):e._e(),e._v(" "),2==t.row.agencyState&&e.privileges.resubmit?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.reSubmit(t.$index,t.row)}}},[e._v("重新提交")]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.form.currentPage,"page-sizes":[10,20,50,100,500],"page-size":e.form.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.agencyInfo.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"!终止合作",visible:e.firstDialogVisible,width:"30%"},on:{"update:visible":function(t){e.firstDialogVisible=t}}},[a("p",[e._v("该代理商旗下共有"+e._s(e.agencySotre)+"家门店,请先对门店处理完毕后再终止合作")]),e._v(" "),a("p",[e._v("a、可对门店终止合作")]),e._v(" "),a("p",[e._v("b、可对门店重新绑定代理商,继续服务")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.know}},[e._v("知道了")])],1)])],1)],1)},staticRenderFns:[]};var oa=a("VU/8")(ra,sa,!1,function(e){a("17oy"),a("3IWP")},"data-v-26d9ad1c",null).exports,la={name:"record",props:["agencyId"],data:function(){return{listInfo:[]}},created:function(){var e=this;this.$http.get(this.$apiUrl.agent.record+"/"+this.agencyId).then(function(t){e.listInfo=t.data.data}).catch(function(e){console.log(e,"错误")})},methods:{setClassName:function(e){var t=e.row;e.index;return t.expand?"expand-record":""}},computed:{isShow:function(){var e=!0,t=!1,a=void 0;try{for(var i,n=f()(this.listInfo);!(e=(i=n.next()).done);e=!0){var r=i.value,s=[];for(var o in r.detail)s.push(o);s.length?r.expand=!1:r.expand=!0}}catch(e){t=!0,a=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw a}}return this.listInfo}}},ca={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.isShow,border:"","row-class-name":e.setClassName}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},e._l(t.row.detail,function(t){return a("el-form-item",{key:t.title,attrs:{label:t.title}},[a("span",[e._v(e._s(t.pre)+"--\x3e"+e._s(t.now))])])}))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作类型",prop:"optype"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作人",prop:"operatorName"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"执行结果",prop:"result"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作时间",prop:"operatetime"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"备注",prop:"remark"}})],1)},staticRenderFns:[]};var ma=a("VU/8")(la,ca,!1,function(e){a("MgZc"),a("kT+1")},"data-v-3510ee43",null).exports,da={name:"",components:{CollapsePanel:s,ServiceStaffInfo:x,PartnerInfoes:T,AgentBasicInfo:j,AgentArea:W,AgentCompanyInfo:ne,CorporateInfo:oe,ContractInfo:me,ServiceManager:pe,BDManager:ge,AgentCommissionRatio:ye,AgentCommissionAccount:we,PlatformServiceFee:xe,PaymentInfo:Ae,DividingInfo:$e,Region:E,Record:ma,BreadCrumb:Pe},data:function(){return{activeName:"first",agentId:this.$route.params.id,breadCrumb:[{text:"加盟管理"},{text:"代理商"},{text:"详情"}]}},created:function(){var e=this.agentId,t=this.$route.query.state||0;this.$store.dispatch({type:"getAgent",agentId:e,agentState:t})},methods:{handleClick:function(e,t){console.log(e,t)},back:function(){history.back()}}},ua={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("el-tabs",{staticClass:"gap-2",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"合作资料",name:"first"}},[a("service-staff-info"),e._v(" "),a("partner-infoes")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"代理区域",name:"second"}},[a("agent-basic-info"),e._v(" "),a("agent-area")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"代理商资料",name:"third"}},[a("agent-company-info"),e._v(" "),a("corporate-info"),e._v(" "),a("contract-info")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"服务信息",name:"fourth"}},[a("service-manager"),e._v(" "),a("b-d-manager")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"佣金信息",name:"fifth"}},[a("agent-commission-ratio"),e._v(" "),a("agent-commission-account")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"平台服务费",name:"sixth"}},[a("platform-service-fee"),e._v(" "),a("dividing-info"),e._v(" "),a("payment-info")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"日志",name:"seventh"}},[a("record",{attrs:{agencyId:e.agentId}})],1)],1),e._v(" "),a("el-button",{staticStyle:{position:"fixed",top:"20px",right:"50px"},on:{click:e.back}},[e._v("返回")])],1)],1)},staticRenderFns:[]};var pa=a("VU/8")(da,ua,!1,function(e){a("6zYD")},null,null).exports,fa={mixins:[He],name:"",components:{CollapsePanel:s,ServiceStaffInfo:x,PartnerInfoes:T,AgentBasicInfo:j,AgentArea:W,AgentCompanyInfo:ne,CorporateInfo:oe,ContractInfo:me,ServiceManager:pe,BDManager:ge,AgentCommissionRatio:ye,AgentCommissionAccount:we,PlatformServiceFee:xe,PaymentInfo:Ae,DividingInfo:$e,Region:E,BreadCrumb:Pe},data:function(){return{privilegeOption:{materialTab:"/agent/editAgent#material",regionTab:"/agent/editAgent#region",agentMaterialTab:"/agent/editAgent#agent",serviceInfoTab:"/agent/editAgent#service",commissionTab:"/agent/editAgent#commission",platformTab:"/agent/editAgent#platform"},mode:"edit",initStr:"",breadCrumb:[{text:"加盟管理"},{text:"代理商"},{text:"编辑"}]}},created:function(){this.getDetail()},computed:{activeName:function(){return this.privileges.materialTab?"first":this.privileges.regionTab?"second":this.privileges.agentMaterialTab?"third":this.privileges.serviceInfoTab?"fourth":this.privileges.commissionTab?"fifth":this.privileges.platformTab?"sixth":void 0},rejectedReason:function(){return this.$store.state.rejectedReason},isChanged:function(){return this.$store.getters.isChanged}},methods:{getDetail:function(){var e=this.$route.params.id,t=this.$route.query.state||0;this.$store.dispatch({type:"getAgent",agentId:e,agentState:t})},handleClick:function(e,t){console.log(e,t)},handleCancel:function(){history.back()},handleCommit:function(){var e=this;this.$prompt("","请说明本次修改的内容和原因",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"textarea",inputPlaceholder:"请说明本次修改的内容和原因",customClass:"dialog-commit",inputValidator:function(e){return null==e||""==e?"内容和原因是必填项!":!(e&&e.length>500)||"最多输入500个字符"}}).then(function(t){var a=t.value;e.$store.commit("AgentBasicInfo/updateRemark",a);var i=_(e.$store.state);e.$http.post(e.$apiUrl.agent.edit,i).then(function(t){1==t.data.status&&e.$message({type:"success",message:"提交成功!",onClose:function(){history.back()}}),console.log(t)})})}}},ha={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("el-alert",{directives:[{name:"show",rawName:"v-show",value:!!e.rejectedReason,expression:"!!rejectedReason"}],staticStyle:{"margin-bottom":"10px"},attrs:{title:e.rejectedReason,closable:!1,type:"error"}}),e._v(" "),a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("el-tabs",{staticClass:"gap-2",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e.privileges.materialTab?a("el-tab-pane",{attrs:{label:"合作资料",name:"first"}},[a("service-staff-info",{attrs:{mode:e.mode}}),e._v(" "),a("partner-infoes",{attrs:{mode:e.mode}})],1):e._e(),e._v(" "),e.privileges.regionTab?a("el-tab-pane",{attrs:{label:"代理区域",name:"second"}},[a("agent-basic-info",{attrs:{mode:e.mode}}),e._v(" "),a("agent-area",{attrs:{mode:e.mode}})],1):e._e(),e._v(" "),e.privileges.agentMaterialTab?a("el-tab-pane",{attrs:{label:"代理商资料",name:"third"}},[a("agent-company-info",{attrs:{mode:e.mode}}),e._v(" "),a("corporate-info",{attrs:{mode:e.mode}}),e._v(" "),a("contract-info",{attrs:{mode:e.mode}})],1):e._e(),e._v(" "),e.privileges.serviceInfoTab?a("el-tab-pane",{attrs:{label:"服务信息",name:"fourth"}},[a("service-manager",{attrs:{mode:e.mode}}),e._v(" "),a("b-d-manager",{attrs:{mode:e.mode}})],1):e._e(),e._v(" "),e.privileges.commissionTab?a("el-tab-pane",{attrs:{label:"佣金信息",name:"fifth"}},[a("agent-commission-ratio",{attrs:{mode:e.mode}}),e._v(" "),a("agent-commission-account",{attrs:{mode:e.mode}})],1):e._e(),e._v(" "),e.privileges.platformTab?a("el-tab-pane",{attrs:{label:"平台服务费",name:"sixth"}},[a("platform-service-fee",{attrs:{mode:e.mode}}),e._v(" "),a("dividing-info",{attrs:{mode:e.mode}}),e._v(" "),a("payment-info",{attrs:{mode:e.mode}})],1):e._e()],1),e._v(" "),a("el-button-group",{staticClass:"gap-2",staticStyle:{"margin-left":"auto","margin-right":"auto",width:"200px",display:"block"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleCancel}},[e._v("返回")]),a("el-button",{attrs:{disabled:!e.isChanged,type:"primary"},on:{click:e.handleCommit}},[e._v("保存")])],1),e._v(" "),a("p",{staticStyle:{display:"none"}},[e._v("isChanged: "+e._s(e.isChanged))])],1)],1)},staticRenderFns:[]};var ga=a("VU/8")(fa,ha,!1,function(e){a("n+KP")},null,null).exports,va={name:"FollowUp",components:{BreadCrumb:Pe},mixins:[He],data:function(){return{privilegeOption:{addFollowUp:"/followUp#addFollowUp"},breadCrumb:[{text:"加盟管理"},{text:"代理商"},{text:"跟进"}],agencyId:this.$route.query.agencyId,apiData:[]}},created:function(){var e=this;this.$http.post(this.$apiUrl.agent.followUp,{agencyId:this.agencyId},{loading:{fullscreen:!0}}).then(function(t){e.apiData=t.data.data}).catch(function(e){console.log(e,"列表失败")})},methods:{addFollowUp:function(){this.$router.push({name:"AddFollowUp",query:{agencyId:this.agencyId}})},detail:function(e,t){this.$router.push({name:"FollowUpDetail",query:{id:t.id}})},goBack:function(){this.$router.push({path:"/agentManagement"})}}},ba={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("div",{staticStyle:{"text-align":"right","margin-bottom":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.goBack}},[e._v("返回")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.privileges.addFollowUp,expression:"privileges.addFollowUp"}],attrs:{type:"primary"},on:{click:e.addFollowUp}},[e._v("+添加跟进")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.apiData,border:""}},[a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operatorName",label:"添加人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"message",label:"信息",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.detail(t.$index,t.row)}}},[e._v("详情")])]}}])})],1)],1)],1)},staticRenderFns:[]};var ya=a("VU/8")(va,ba,!1,function(e){a("eHa8")},null,null).exports,_a={name:"AddFollowUp",components:{BreadCrumb:Pe,Upload:K},data:function(){return{agencyId:this.$route.query.agencyId,breadCrumb:[{text:"加盟管理"},{text:"代理商"},{text:"跟进"},{text:"添加跟进"}],message:"",file:[],form:{},resource:{fileName:"",owner:"",resourceKey:""},resourceKey:""}},methods:{cancel:function(){history.back()},submit:function(){var e=this;this.file.length?this.form={agencyId:this.agencyId,message:this.message,resource:{fileName:this.file[0].fileName,resourceKey:this.file[0].resourceKey},resourceKey:this.file[0].resourceKey}:this.form={agencyId:this.agencyId,message:this.message},this.message?this.$http.put(this.$apiUrl.agent.followUp,this.form).then(function(t){e.message="",e.$message({message:"已提交",type:"success",duration:1e3}),setTimeout(function(){e.$router.push({name:"FollowUp",query:{agencyId:e.agencyId}})},1e3)}).catch(function(e){console.log(e)}):alert("请填写信息")}}},Ia={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("div",{staticClass:"gap"},[a("div",[e._v("跟进信息：")]),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:"10",placeholder:"请输入跟进信息(不超过1000字)",maxlength:"1000"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),e._v(" "),a("div",{staticClass:"gap-2"},[a("upload",{attrs:{fileList:e.file,limit:1},on:{"update:fileList":function(t){e.file=t}}})],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"40px"}},[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:e.cancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var wa=a("VU/8")(_a,Ia,!1,function(e){a("wbvh")},null,null).exports,Ca={name:"FollowUpDetail",components:{BreadCrumb:Pe,FileList:ee},data:function(){return{breadCrumb:[{text:"加盟管理"},{text:"代理商"},{text:"跟进"},{text:"跟进详情"}],message:"",fileName:"",fileList:[],id:this.$route.query.id}},created:function(){var e=this;this.$http.get(this.$apiUrl.agent.followUp+"?id="+this.id).then(function(t){t.data.data.resource&&(e.fileName=t.data.data.resource.fileName,e.fileList=[t.data.data.resource]),e.message=t.data.data.message}).catch(function(e){console.log(e)})},methods:{back:function(){history.back()}}},ka={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("bread-crumb",{attrs:{items:e.breadCrumb}}),e._v(" "),a("div",{staticClass:"gap"},[a("div",[e._v("跟进信息：")]),e._v(" "),a("div",{staticStyle:{"padding-left":"75px"}},[e._v(e._s(e.message))]),e._v(" "),e.fileName?a("div",{staticClass:"gap-2"},[e._v("上传资料："+e._s(e.fileName))]):e._e(),e._v(" "),a("file-list",{attrs:{fileList:e.fileList}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"40px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.back}},[e._v("返回")])],1)],1)],1)},staticRenderFns:[]};var xa=a("VU/8")(Ca,ka,!1,function(e){a("O5ze")},null,null).exports,Sa={baseUrl:{dev:"http://10.0.90.105:8080",test:"https://yun2.test.wkzf/amgmtbs",sim:"https://yun2.sim.wkzf/amgmtbs",prod:"https://yun2.wkzf.com/amgmtbs"},pageUrl:{dev:"http://localhost:8080",test:"https://yun2.test.wkzf/amgmt",sim:"https://yun2.sim.wkzf/amgmt",prod:"https://yun2.wkzf.com/amgmt"},platformServiceFeeVerify:{historyRecords:"/agency/audit/history",approve:"/first/audit/adopt",reject:"/first/audit/reject"},materialVerify:{historyRecords:"/agency/audit/history",approve:"/first/audit/adopt",reject:"/first/audit/reject"},upload:"/resource",common:{employee:"/base/wkzf/person",province:"/province/list",city:"/city/list",district:"/region/list",town:"/plate/list",agency:"/agency/list",privileges:"/base/authority",wksso:"/base/currentPerson"},agent:{create:"/agency/single",detail:"/agency/single",edit:"/agency/single",list:"/agency/list",summary:"agency/summary",terminate:"agency/terminate",againAudit:"agency/auditing",againReject:"agency/reject",followUp:"agency/follow",firstAuditSummary:"first/audit/summary",firstWaitAuditList:"first/audit/list",record:"agency/operateLog"},company:{add:"company/single",commission:"company/commission",list:"company/list",summary:"company/summary",detail:"company/single",terminate:"company/terminate"},professionAudit:{auditList:"business/audit/list",detailContract:"business/audit/edit/detail",historyAudit:"audit/history",pass:"business/audit/adopt",reject:"business/audit/reject",summary:"business/audit/summary"},professionEnd:{summary:"base/terminate/auditstate",list:"base/terminate/auditstate/list",reject:"base/terminate/reject",adopt:"base/terminate/adopt",endDetail:"base/terminate/detail",historyRecords:"/agency/audit/history"},store:{add:"store/single",edit:"agency/store",list:"store/list",summary:"store/summary",terminate:"store/terminate",qrcode:"store/qrcode"},teamEnd:{summary:"base/terminated",tabList:"base/terminated/list"}};function La(){var e=location.host,t=e.indexOf("localhost")>-1?"dev":"prod";for(var a in Sa.baseUrl)if(e.indexOf(a)>-1){t=a;break}return t}i.default.use(n.a);var $a=new n.a({routes:[{path:"/agent/createAgent",name:"CreateAgent",component:De},{path:"/platformservicefeeverify/:id",name:"PlatformServiceFeeVerify",component:Be},{path:"/materialverify/:id",name:"MaterialVerify",component:Ve},{path:"/companyManagement",name:"CompanyManagement",component:Xe},{path:"/storeManagement",name:"StoreManagement",component:tt},{path:"/teamEnd",name:"TeamEnd",component:gt},{path:"/materialAuditResult",name:"MaterialAuditResult",component:xt},{path:"/serviceFeeAuditResult",name:"ServiceFeeAuditResult",component:zt},{path:"/professionAuditResult",name:"ProfessionAuditResult",component:jt},{path:"/professionEndResult",name:"ProfessionEndResult",component:Gt},{path:"/professionAuditVerify",name:"ProfessionAuditVerify",component:ta},{path:"/professionEndVerify",name:"ProfessionEndVerify",component:na},{path:"/agentManagement",name:"AgentManagement",component:oa},{path:"/record",name:"Record",component:ma},{path:"/agent/agentDetail/:id",name:"AgentDetail",component:pa},{path:"/agent/editAgent/:id",name:"EditAgent",component:ga},{path:"/followUp",name:"FollowUp",component:ya},{path:"/addFollowUp",name:"AddFollowUp",component:wa},{path:"/followUpDetail",name:"FollowUpDetail",component:xa}]});La();$a.beforeEach(function(e,t,a){i.default.http.get(i.default.apiUrl.common.wksso).then(function(e){a()}).catch(function(e){parent!=window&&parent.location.reload()})});var Na=$a,Ta=a("//Fk"),Aa=a.n(Ta),Fa=a("mtWM"),Pa=a.n(Fa),za=a("zL8q"),Ra=a.n(za),Da={install:function(e){var t=La(),a=Sa.baseUrl[t];Pa.a.defaults.baseURL=a;var i=null;e.http=e.prototype.$http=Pa.a,Pa.a.interceptors.response.use(function(e){if(e.config.loading&&i&&(i.total--,i.total<=0&&(i.close(),i=null)),!(e.headers["content-type"].indexOf("text/html")>-1))return e.data&&1!=e.data.status?(za.Message.error(e.data.message||"接口失败，请稍后重试"),Aa.a.reject(e.data)):e;window.parent&&window.parent!==window&&window.parent.location.reload()},function(e,t){return e.config.loading&&i&&(i.total--,i.total<=0&&(i.close(),i=null)),za.Message.error(res.data.message||"接口失败，请稍后重试"),Aa.a.reject(e)}),Pa.a.interceptors.request.use(function(e){return e.loading&&(i||((i=za.Loading.service(e.loading)).total=0),i.total++),u()(e,{headers:{}})}),e.apiUrl=e.prototype.$apiUrl=Sa,e.apiUrl.getFullUrl=function(e){return a+e}}},Ma=(a("tvR6"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var Ua=a("VU/8")({name:"App",methods:{}},Ma,!1,function(e){a("240+")},null,null).exports,Ba=a("bOdI"),Ea=a.n(Ba);function qa(e,t,a){if(null==t||null==a)return!1;for(var i=0;i<e.length;i++)if("[object Array]"==Object.prototype.toString.apply(t[e[i]])){if(t[e[i]].length!=a[e[i]].length)return!0}else if(t[e[i]]!=a[e[i]])return!0;return!1}i.default.use(w.a);var Va=new w.a.Store({state:{original:{},rejectedReason:""},mutations:{updateRejectedReason:function(e,t){e.rejectedReason=t},updateOriginal:function(e,t){e.original=t}},actions:{getAgent:function(e,t){var a=t.agentId,n=t.agentState,r=t.cb;e.dispatch("clear"),i.default.http.get(i.default.apiUrl.agent.detail,{params:{agencyId:a,agencyState:n},loading:{fullscreen:!0}}).then(function(t){var a=function(e){var t,a=e.data.data.agency,i=[],n=[];a.provinceName&&i.push(a.provinceName),a.cityName&&i.push(a.cityName),a.provinceId&&n.push(a.provinceId),a.cityId&&n.push(a.cityId);var r=(t={status:a.agencyState,agentType:a.agencyType,id:a.id,parent:a.parentId,startTime:a.startTime,endTime:a.endTime,tags:a.tags,updateTime:a.updateTime},Ea()(t,"id",a.id),Ea()(t,"cityName",i),Ea()(t,"agentCity",n),t),s={regions:[]},o=e.data.data.agencyRegions;o&&o.length&&o.forEach(function(e){var t=[e.provinceName,e.cityName,e.regionName||"全部"];s.regions.push({label:[e.provinceName,e.cityName,e.regionName||"全部"],val:[e.provinceId,e.cityId,e.regionId||-1,t],id:e.id,level:e.level,operator:e.operator,status:e.status,updateTime:e.updateTime,provinceId:e.provinceId,cityId:e.cityId,regionId:e.regionId})});var l={ratio:a.brokerageRate,remark:a.brokerageRemark},c=e.data.data.company,d={signed:1==a.hasCompany,remark:a.noCompanyRemark,finishDate:a.planRegisteTime,name:c&&c.name,shortName:c&&c.abbreviation,number:c&&c.licenceCode,code:c&&c.organizationCode,address:c&&c.address,numberFileList:[],idCardFrontFileList:[],idCardBackFileList:[],id:c&&c.id},u={bankName:c&&c.openBankType,subbankName:c&&c.openBankBranch,accountName:c&&c.accountName,receiptAccount:c&&c.bankAccount},p={},f={special:a.additional,contractFileList:[],promiseFileList:[],sealed:!1},h={idCardFrontFileList:[],idCardBackFileList:[],scoreFileList:[]},g=[],v=e.data.data.agencyStages;v&&v.forEach(function(e){g.push(m()({},e,{fee:e.amount,date:e.planPayTime}))});var b=[],y={promiseFileList:[],fileList:[]},_=e.data.data.payments;_&&_[0]&&(y={paymentStatus:1==_[0].paymentState,type:_[0].payMethod,actualPayment:_[0].amount,containPayment:function(e){if(!e)return[];switch(e){case 1:return[1];case 2:return[2];case 3:return[1,2]}return[]}(_[0].costType),number:_[0].paymentNumber,subbankName:_[0].expendBank,remark:_[0].remark,stageNumber:_[0].stageNumber,planPaymentDate:_[0].planPayTime,promiseFileList:[],fileList:[],id:_[0].id});var I={fee:a.cost,month:a.costMonths,prefee:a.deposit,premonth:a.depositMonths,paymentType:1==a.isByStage?2:1,count:a.stageCount},w={},C={bdInfo:{},cxInfo:{},directorInfo:{}},k=e.data.data.agencyPersons;k&&k.length&&k.forEach(function(e){var t;switch(e.personType){case 1:C.bdInfo.id=e.id,C.bdInfo.name=e.name,C.bdInfo.department=e.departmentName,C.bdInfo.title=e.positionName;break;case 2:C.cxInfo.id=e.id,C.cxInfo.name=e.name,C.cxInfo.department=e.departmentName,C.cxInfo.title=e.positionName;break;case 3:C.directorInfo.id=e.id,C.directorInfo.name=e.name,C.directorInfo.department=e.departmentName,C.directorInfo.title=e.positionName;break;case 4:b.push((t={agentId:e.agencyId,background:e.background,createTime:e.createTime,id:e.id,credit:e.credit,email:e.email},Ea()(t,"id",e.id),Ea()(t,"idCode",e.idCode),Ea()(t,"mobile",e.mobile),Ea()(t,"name",e.name),Ea()(t,"remark",e.remark),Ea()(t,"backgroundRemark",e.backgroundRemark),t));break;case 5:h.id=e.id,h.name=e.name,h.mobile=e.mobile,h.idCard=e.idCode,h.email=e.email,h.score=e.credit,h.remark=e.remark;break;case 6:d.tracerName=e.name,d.mobile=e.mobile,d.email=e.email,d.idCard=e.idCode,d.tracerId=e.id;break;case 7:w.email=e.email,w.id=e.id,w.mobile=e.mobile,w.name=e.name,w.wechat=e.wechat;break;case 8:p.email=e.email,p.id=e.id,p.mobile=e.mobile,p.name=e.name,p.wechat=e.wechat,p.same=1==a.isBdServerSame;break;case 9:y.brokerName=e.name,y.brokerMobile=e.mobile,y.remark=e.remark,y.brokerId=e.id}});var x=e.data.data.resources;return x&&x.length&&x.forEach(function(e){var t=m()({url:e.url},e);switch(e.flag){case 1:d.numberFileList.push(t);break;case 2:switch(e.ownerType){case 1:break;case 2:"21"==e.tags&&d.idCardFrontFileList.push(t),"22"==e.tags&&d.idCardBackFileList.push(t);break;case 3:"21"==e.tags&&h.idCardFrontFileList.push(t),"22"==e.tags&&h.idCardBackFileList.push(t)}break;case 3:h.scoreFileList.push(t);break;case 4:f.contractFileList.push(t),f.sealed="41"==e.tags;break;case 5:f.promiseFileList.push(t);break;case 6:y.fileList.push(t);break;case 7:y.promiseFileList.push(t)}}),{AgentArea:s,AgentBasicInfo:r,AgentCommissionAccount:u,AgentCommissionRatio:l,AgentCompanyInfo:d,BDManager:p,ContractInfo:f,CorporateInfo:h,DividingInfo:{dividingInfo:g},PartnerInfo:{partnerInfo:b},PaymentInfo:y,PlatformServiceFee:I,ServiceManager:w,ServiceStaffInfo:C}}(t),i=JSON.parse(l()(a));e.commit("AgentArea/updateRegions",a.AgentArea.regions),e.commit("AgentBasicInfo/updateItem",a.AgentBasicInfo),e.commit("AgentCommissionAccount/updateItem",a.AgentCommissionAccount),e.commit("AgentCommissionRatio/updateItem",a.AgentCommissionRatio),e.commit("AgentCompanyInfo/updateItem",a.AgentCompanyInfo),e.commit("BDManager/updateItem",a.BDManager),e.commit("ContractInfo/updateItem",a.ContractInfo),e.commit("CorporateInfo/updateItem",a.CorporateInfo),e.commit("DividingInfo/updateItems",a.DividingInfo.dividingInfo),e.commit("PartnerInfo/updateItems",a.PartnerInfo.partnerInfo),e.commit("PaymentInfo/updateItem",a.PaymentInfo),e.commit("PlatformServiceFee/updateItem",a.PlatformServiceFee),e.commit("ServiceManager/updateItem",a.ServiceManager),e.commit("ServiceStaffInfo/updateItem",a.ServiceStaffInfo),e.commit("updateRejectedReason",t.data.data.rejectedReason),e.commit("updateOriginal",i),r&&r(t.data)})},clear:function(e){e.commit("AgentArea/clear"),e.commit("AgentBasicInfo/clear"),e.commit("AgentCommissionAccount/clear"),e.commit("AgentCommissionRatio/clear"),e.commit("AgentCompanyInfo/clear"),e.commit("BDManager/clear"),e.commit("ContractInfo/clear"),e.commit("CorporateInfo/clear"),e.commit("DividingInfo/clear"),e.commit("PartnerInfo/clear"),e.commit("PaymentInfo/clear"),e.commit("PlatformServiceFee/clear"),e.commit("ServiceManager/clear"),e.commit("ServiceStaffInfo/clear")}},getters:{isChanged:function(e,t){return!0},isServiceManagerChanged:function(e){if(null==e.original.ServiceManager)return!1;return qa(["name","mobile","email","wechat"],e.original.ServiceManager,e.ServiceManager)},isBDManagerChanged:function(e){if(null==e.original.BDManager)return!1;return qa(["name","mobile","email","wechat","same"],e.original.BDManager,e.BDManager)},isAgentCommissionRatioChanged:function(e){if(null==e.original.AgentCommissionRatio)return!1;return qa(["ratio","remark"],e.original.AgentCommissionRatio,e.AgentCommissionRatio)},isAgentCommissionAccountChanged:function(e){if(null==e.original.AgentCommissionAccount)return!1;return qa(["bankName","subbankName","accountName","receiptAccount"],e.original.AgentCommissionAccount,e.AgentCommissionAccount)},isPlatformServiceFeeChanged:function(e){if(null==e.original.PlatformServiceFee)return!1;return qa(["fee","month","premonth","prefee","paymentType","count"],e.original.PlatformServiceFee,e.PlatformServiceFee)},isDividingInfoChanged:function(e){if(null==e.original.DividingInfo)return!1;return qa(["dividingInfo"],e.original.DividingInfo,e.DividingInfo)},isPaymentInfoChanged:function(e){if(null==e.original.PaymentInfo)return!1;return qa(["paymentStatus","type","actualPayment","containPayment","number","subbankName","remark","stageName","planPaymentDate","brokerName","brokerMobile","promiseFileList","fileList"],e.original.PaymentInfo,e.PaymentInfo)},isAgentCompanyInfo:function(e){if(null==e.original.AgentCompanyInfo)return!1;return qa(["signed","name","shortName","number","code","address","finishDate","tracerName","mobile","email","idCard","remark","tracerId","numberFileList","idCardFrontFileList","idCardBackFileList"],e.original.AgentCompanyInfo,e.AgentCompanyInfo)},isCorporateInfoChanged:function(e){if(null==e.original.CorporateInfo)return!1;return qa(["name","mobile","idCard","email","score","remark","idCardFrontFileList","idCardBackFileList","scoreFileList"],e.original.CorporateInfo,e.CorporateInfo)},isContractInfoChanged:function(e){if(null==e.original.ContractInfo)return!1;return qa(["special","sealed","contractFileList","promiseFileList"],e.original.ContractInfo,e.ContractInfo)},isAgentBasicInfoChanged:function(e){if(null==e.original.AgentBasicInfo)return!1;return qa(["agentType","startTime","endTime","parent","agentCity","remark"],e.original.AgentBasicInfo,e.AgentBasicInfo)},isAgentAreaChanged:function(e){if(null==e.original.AgentArea)return!1;return qa(["regions"],e.original.AgentArea,e.AgentArea)},isServiceStaffInfoChanged:function(e){if(null==e.original.ServiceStaffInfo)return!1;var t=["name","department","title"];return qa(t,e.original.ServiceStaffInfo.bdInfo,e.ServiceStaffInfo.bdInfo)||qa(t,e.original.ServiceStaffInfo.cxInfo,e.ServiceStaffInfo.cxInfo)||qa(t,e.original.ServiceStaffInfo.directorInfo,e.ServiceStaffInfo.directorInfo)},isPartnerInfoChanged:function(e){if(null==e.original.PartnerInfo)return!1;return qa(["partnerInfo"],e.original.PartnerInfo,e.PartnerInfo)}},modules:{ServiceManager:{namespaced:!0,state:{name:"",mobile:"",wechat:"",email:"",id:""},mutations:{clear:function(e,t){e.name="",e.mobile="",e.wechat="",e.email="",e.id=""},updateName:function(e,t){e.name=t},updateMobile:function(e,t){e.mobile=t},updateWechat:function(e,t){e.wechat=t},updateEmail:function(e,t){e.email=t},updateId:function(e,t){e.id=t},updateItem:function(e,t){e.name=t.name,e.mobile=t.mobile,e.wechat=t.wechat,e.email=t.email,e.id=t.id}}},BDManager:{namespaced:!0,state:{name:"",mobile:"",wechat:"",email:"",same:"",id:""},mutations:{clear:function(e,t){e.name="",e.mobile="",e.wechat="",e.email="",e.same="",e.id=""},updateName:function(e,t){e.name=t},updateMobile:function(e,t){e.mobile=t},updateWechat:function(e,t){e.wechat=t},updateEmail:function(e,t){e.email=t},updateSame:function(e,t){e.same=t},updateId:function(e,t){e.id=t},updateItem:function(e,t){e.name=t.name,e.mobile=t.mobile,e.wechat=t.wechat,e.email=t.email,e.same=t.same,e.id=t.id}}},AgentCommissionRatio:{namespaced:!0,state:{ratio:"",remark:""},mutations:{clear:function(e,t){e.ratio="",e.remark=""},updateRatio:function(e,t){e.ratio=t},updateRemark:function(e,t){e.remark=t},updateItem:function(e,t){e.ratio=t.ratio,e.remark=t.remark}}},AgentCommissionAccount:{namespaced:!0,state:{bankName:"",subbankName:"",accountName:"",receiptAccount:""},mutations:{clear:function(e,t){e.bankName="",e.subbankName="",e.accountName="",e.receiptAccount=""},updateBankName:function(e,t){e.bankName=t},updateSubbankName:function(e,t){e.subbankName=t},updateAccountName:function(e,t){e.accountName=t},updateReceiptAccount:function(e,t){e.receiptAccount=t},updateItem:function(e,t){e.receiptAccount=t.receiptAccount,e.accountName=t.accountName,e.subbankName=t.subbankName,e.bankName=t.bankName}}},PlatformServiceFee:{namespaced:!0,state:{fee:"",month:"",prefee:"",premonth:"",paymentType:"2",count:""},mutations:{clear:function(e,t){e.fee="",e.month="",e.prefee="",e.premonth="",e.paymentType="2",e.count=""},updateFee:function(e,t){e.fee=t},updateMonth:function(e,t){e.month=t},updatePrefee:function(e,t){e.prefee=t},updatePremonth:function(e,t){e.premonth=t},updatePaymentType:function(e,t){e.paymentType=t},updateCount:function(e,t){e.count=t},updateItem:function(e,t){e.fee=t.fee,e.month=t.month,e.prefee=t.prefee,e.premonth=t.premonth,e.paymentType=t.paymentType,e.count=t.count}}},DividingInfo:{namespaced:!0,state:{dividingInfo:[]},mutations:{clear:function(e,t){e.dividingInfo=[]},updateItem:function(e,t){var a=t.index;delete t.index,e.dividingInfo.splice(a,1,t)},updateItems:function(e,t){e.dividingInfo=t},removeItem:function(e,t){e.dividingInfo.splice(t,1)}}},PaymentInfo:{namespaced:!0,state:{paymentStatus:!1,type:"",actualPayment:"",containPayment:[],number:"",subbankName:"",fileList:[],remark:"",stageNumber:-1,planPaymentDate:"",brokerName:"",brokerMobile:"",promiseFileList:[],id:"",brokerId:""},mutations:{clear:function(e,t){e.paymentStatus=!1,e.type="",e.actualPayment="",e.containPayment=[],e.number="",e.subbankName="",e.fileList=[],e.remark="",e.stageNumber=-1,e.planPaymentDate="",e.brokerName="",e.brokerMobile="",e.promiseFileList=[],e.id="",e.brokerId=""},updateStageNumber:function(e,t){e.stageNumber=t},updatePlanPaymentDate:function(e,t){e.planPaymentDate=t},updateBrokerName:function(e,t){e.brokerName=t},updateBrokerMobile:function(e,t){e.brokerMobile=t},updatePromiseFileList:function(e,t){e.promiseFileList=t},updatePaymentStatus:function(e,t){e.paymentStatus=t},updateType:function(e,t){e.type=t},updateActualPayment:function(e,t){e.actualPayment=t},updateContainPayment:function(e,t){e.containPayment=t},updateNumber:function(e,t){e.number=t},updateSubbankName:function(e,t){e.subbankName=t},updateFileList:function(e,t){e.fileList=t},updateRemark:function(e,t){e.remark=t},updateId:function(e,t){e.id=t},updateBrokerId:function(e,t){e.brokerId=t},updateItem:function(e,t){e.actualPayment=t.actualPayment,e.paymentStatus=t.paymentStatus,e.type=t.type,e.containPayment=t.containPayment,e.number=t.number,e.subbankName=t.subbankName,e.fileList=t.fileList,e.remark=t.remark,e.stageNumber=t.stageNumber,e.planPaymentDate=t.planPaymentDate||"",e.brokerName=t.brokerName,e.brokerMobile=t.brokerMobile,e.promiseFileList=t.promiseFileList,e.id=t.id,e.brokerId=t.brokerId}}},AgentCompanyInfo:{namespaced:!0,state:{signed:!1,name:"",shortName:"",number:"",code:"",address:"",numberFileList:[],finishDate:"",tracerName:"",mobile:"",email:"",idCard:"",remark:"",idCardFrontFileList:[],idCardBackFileList:[],id:"",tracerId:""},mutations:{clear:function(e,t){e.signed=!1,e.name="",e.shortName="",e.number="",e.code="",e.address="",e.numberFileList=[],e.finishDate="",e.tracerName="",e.mobile="",e.email="",e.idCard="",e.remark="",e.idCardFrontFileList=[],e.idCardBackFileList=[],e.id="",e.tracerId=""},updateSigned:function(e,t){e.signed=t},updateName:function(e,t){e.name=t},updateShortName:function(e,t){e.shortName=t},updateNumber:function(e,t){e.number=t},updateCode:function(e,t){e.code=t},updateAddress:function(e,t){e.address=t},updateNumberFileList:function(e,t){e.numberFileList=t},updateFinishDate:function(e,t){e.finishDate=t},updateTracerName:function(e,t){e.tracerName=t},updateMobile:function(e,t){e.mobile=t},updateIdCard:function(e,t){e.idCard=t},updateEmail:function(e,t){e.email=t},updateRemark:function(e,t){e.remark=t},updateIdCardBackFileList:function(e,t){e.idCardBackFileList=t},updateIdCardFrontFileList:function(e,t){e.idCardFrontFileList=t},updateId:function(e,t){e.id=t},updateTracerId:function(e,t){e.tracerId=t},updateItem:function(e,t){e.name=t.name,e.shortName=t.shortName,e.number=t.number,e.code=t.code,e.address=t.address,e.numberFileList=t.numberFileList,e.finishDate=t.finishDate,e.tracerName=t.tracerName,e.mobile=t.mobile,e.email=t.email,e.idCard=t.idCard,e.remark=t.remark,e.idCardFrontFileList=t.idCardFrontFileList,e.idCardBackFileList=t.idCardBackFileList,e.signed=t.signed,e.id=t.id,e.tracerId=t.tracerId}}},CorporateInfo:{namespaced:!0,state:{name:"",mobile:"",idCard:"",email:"",score:"",idCardFrontFileList:[],idCardBackFileList:[],scoreFileList:[],remark:"",id:""},mutations:{clear:function(e,t){e.name="",e.mobile="",e.idCard="",e.email="",e.score="",e.idCardFrontFileList=[],e.idCardBackFileList=[],e.scoreFileList=[],e.remark="",e.id=""},updateName:function(e,t){e.name=t},updateMobile:function(e,t){e.mobile=t},updateIdCard:function(e,t){e.idCard=t},updateEmail:function(e,t){e.email=t},updateScore:function(e,t){e.score=t},updateIdCardFrontFileList:function(e,t){e.idCardFrontFileList=t},updateIdCardBackFileList:function(e,t){e.idCardBackFileList=t},updateScoreFileList:function(e,t){e.scoreFileList=t},updateRemark:function(e,t){e.remark=t},updateId:function(e,t){e.id=t},updateItem:function(e,t){e.name=t.name,e.mobile=t.mobile,e.idCard=t.idCard,e.email=t.email,e.score=t.score,e.idCardFrontFileList=t.idCardFrontFileList,e.idCardBackFileList=t.idCardBackFileList,e.scoreFileList=t.scoreFileList,e.remark=t.remark,e.id=t.id}}},ContractInfo:{namespaced:!0,state:{contractFileList:[],sealed:!1,special:"",promiseFileList:[]},mutations:{clear:function(e,t){e.contractFileList=[],e.sealed=!1,e.special="",e.promiseFileList=[]},updateContractFileList:function(e,t){e.contractFileList=t},updateSealed:function(e,t){e.sealed=t},updateSpecial:function(e,t){e.special=t},updatePromiseFileList:function(e,t){e.promiseFileList=t},updateItem:function(e,t){e.contractFileList=t.contractFileList,e.sealed=t.sealed,e.special=t.special,e.promiseFileList=t.promiseFileList}}},AgentBasicInfo:{namespaced:!0,state:{agentType:"",startTime:"",endTime:"",parent:"",agentCity:[],status:"",remark:"",id:""},mutations:{clear:function(e,t){e.agentType="",e.startTime="",e.endTime="",e.parent="",e.agentCity=[],e.status="",e.remark="",e.id=""},updateAgentType:function(e,t){e.agentType=t},updateStartTime:function(e,t){e.startTime=t},updateEndTime:function(e,t){e.endTime=t},updateAgentCity:function(e,t){e.agentCity=t},updateParent:function(e,t){e.parent=t},updateRemark:function(e,t){e.remark=t},updateItem:function(e,t){e.agentType=t.agentType,e.startTime=t.startTime||"",e.endTime=t.endTime||"",e.agentCity=t.agentCity,e.parent=t.parent,e.cityName=t.cityName,e.remark=t.remark,e.id=t.id}}},AgentArea:{namespaced:!0,state:{regions:[]},mutations:{updateRegions:function(e,t){e.regions=t},updateItem:function(e,t){e.regions=t.regions},clear:function(e,t){e.regions=[]}}},ServiceStaffInfo:{namespaced:!0,state:{bdInfo:{name:"",department:"",title:"",id:""},cxInfo:{name:"",department:"",title:"",id:""},directorInfo:{name:"",department:"",title:"",id:""}},mutations:{clear:function(e,t){e.bdInfo={name:"",department:"",title:"",id:""},e.cxInfo={name:"",department:"",title:"",id:""},e.directorInfo={name:"",department:"",title:"",id:""}},updateBdInfo:function(e,t){e.bdInfo=t},updateCxInfo:function(e,t){e.cxInfo=t},updateDirectorInfo:function(e,t){e.directorInfo=t},updateItem:function(e,t){e.bdInfo=t.bdInfo,e.cxInfo=t.cxInfo,e.directorInfo=t.directorInfo}}},PartnerInfo:{namespaced:!0,state:{partnerInfo:[]},mutations:{clear:function(e,t){e.partnerInfo=[]},updateItem:function(e,t){var a=t.index;delete t.index,e.partnerInfo.splice(a,1,t)},addItem:function(e,t){e.partnerInfo.push(t)},updateItems:function(e,t){e.partnerInfo=t},removeItem:function(e,t){e.partnerInfo.splice(t,1)}}}}});a("N1kN");i.default.use(Da),i.default.use(Ra.a),i.default.config.productionTip=!1,new i.default({el:"#app",store:Va,router:Na,components:{App:Ua},template:"<App/>"})},O5ze:function(e,t){},PSSS:function(e,t){},QpL0:function(e,t){},R7AJ:function(e,t){},RHOW:function(e,t){},RSg1:function(e,t){},RY72:function(e,t){},RwoK:function(e,t){},SXiM:function(e,t){},"U/Rp":function(e,t){},Ujlw:function(e,t){},"VPQ/":function(e,t){},"Vd/7":function(e,t){},XGpF:function(e,t){},Xew1:function(e,t){},YkjU:function(e,t){},YuiC:function(e,t){},"Z/Xx":function(e,t){},bEtU:function(e,t){},cYOs:function(e,t){},cdJK:function(e,t){},dBZO:function(e,t){},dkzH:function(e,t){},dq6T:function(e,t){},eHa8:function(e,t){},ecIw:function(e,t){},gqDz:function(e,t){},i3CA:function(e,t){},"j2R/":function(e,t){},"kT+1":function(e,t){},mS47:function(e,t){},"n+KP":function(e,t){},phPw:function(e,t){},tvR6:function(e,t){},twNr:function(e,t){},uHez:function(e,t){},wPiZ:function(e,t){},wbvh:function(e,t){},xOC8:function(e,t){},xZ3Z:function(e,t){},xfHo:function(e,t){},y7Ja:function(e,t){},zDhU:function(e,t){},zT3f:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ef494102c0bcd0e1824f.js.map